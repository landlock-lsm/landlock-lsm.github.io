

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Software Interface ALSA-DSP MADI Driver &mdash; The Linux Kernel 5.12.0-rc3+ documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Serial UART 16450/16550 MIDI driver" href="serial-u16550.html" />
    <link rel="prev" title="Notes on Maya44 USB Audio Support" href="maya44.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.12.0-rc3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Open Firmware and Device Tree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Linux Sound Subsystem Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../kernel-api/index.html">ALSA Kernel API Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../designs/index.html">Designs and Implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../soc/index.html">ALSA SoC Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../alsa-configuration.html">Advanced Linux Sound Architecture - Driver Configuration guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hd-audio/index.html">HD-Audio</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Card-Specific Information</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="joystick.html">Analog Joystick Support on ALSA Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmipci.html">Brief Notes on C-Media 8338/8738/8768/8770 Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sb-live-mixer.html">Sound Blaster Live mixer / default DSP code</a></li>
<li class="toctree-l3"><a class="reference internal" href="audigy-mixer.html">Sound Blaster Audigy mixer / default DSP code</a></li>
<li class="toctree-l3"><a class="reference internal" href="emu10k1-jack.html">Low latency, multichannel audio with JACK and the emu10k1/emu10k2</a></li>
<li class="toctree-l3"><a class="reference internal" href="via82xx-mixer.html">VIA82xx mixer</a></li>
<li class="toctree-l3"><a class="reference internal" href="audiophile-usb.html">Guide to using M-Audio Audiophile USB with ALSA and Jack</a></li>
<li class="toctree-l3"><a class="reference internal" href="mixart.html">Alsa driver for Digigram miXart8 and miXart8AES/EBU soundcards</a></li>
<li class="toctree-l3"><a class="reference internal" href="bt87x.html">ALSA BT87x Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="maya44.html">Notes on Maya44 USB Audio Support</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Software Interface ALSA-DSP MADI Driver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hardware-functionality">Hardware functionality</a></li>
<li class="toctree-l4"><a class="reference internal" href="#calling-parameter">Calling Parameter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="serial-u16550.html">Serial UART 16450/16550 MIDI driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="img-spdif-in.html">Imagination Technologies SPDIF Input Controllers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nios2/index.html">Nios II Specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Linux Sound Subsystem Documentation</a> &raquo;</li>
        
          <li><a href="index.html">Card-Specific Information</a> &raquo;</li>
        
      <li>Software Interface ALSA-DSP MADI Driver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/sound/cards/hdspm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="software-interface-alsa-dsp-madi-driver">
<h1>Software Interface ALSA-DSP MADI Driver<a class="headerlink" href="#software-interface-alsa-dsp-madi-driver" title="Permalink to this headline">¶</a></h1>
<p>(translated from German, so no good English ;-),</p>
<p>2004 - winfried ritsch</p>
<p>Full functionality has been added to the driver. Since some of
the Controls and startup-options  are ALSA-Standard and only the
special Controls are described and discussed below.</p>
<div class="section" id="hardware-functionality">
<h2>Hardware functionality<a class="headerlink" href="#hardware-functionality" title="Permalink to this headline">¶</a></h2>
<div class="section" id="audio-transmission">
<h3>Audio transmission<a class="headerlink" href="#audio-transmission" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>number of channels –  depends on transmission mode</p>
<blockquote>
<div><p>The number of channels chosen is from 1..Nmax. The reason to
use for a lower number of channels is only resource allocation,
since unused DMA channels are disabled and less memory is
allocated. So also the throughput of the PCI system can be
scaled. (Only important for low performance boards).</p>
</div></blockquote>
</li>
<li><p>Single Speed – 1..64 channels</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>(Note: Choosing the 56channel mode for transmission or as
receiver, only 56 are transmitted/received over the MADI, but
all 64 channels are available for the mixer, so channel count
for the driver)</p>
</div>
<ul class="simple">
<li><p>Double Speed – 1..32 channels</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note: Choosing the 56-channel mode for
transmission/receive-mode , only 28 are transmitted/received
over the MADI, but all 32 channels are available for the mixer,
so channel count for the driver</p>
</div>
<ul class="simple">
<li><p>Quad Speed – 1..16 channels</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Choosing the 56-channel mode for
transmission/receive-mode , only 14 are transmitted/received
over the MADI, but all 16 channels are available for the mixer,
so channel count for the driver</p>
</div>
<ul>
<li><p>Format – signed 32 Bit Little Endian (SNDRV_PCM_FMTBIT_S32_LE)</p></li>
<li><p>Sample Rates –</p>
<blockquote>
<div><p>Single Speed – 32000, 44100, 48000</p>
<p>Double Speed – 64000, 88200, 96000 (untested)</p>
<p>Quad Speed – 128000, 176400, 192000 (untested)</p>
</div></blockquote>
</li>
<li><p>access-mode – MMAP (memory mapped), Not interleaved (PCM_NON-INTERLEAVED)</p></li>
<li><p>buffer-sizes – 64,128,256,512,1024,2048,8192 Samples</p></li>
<li><p>fragments – 2</p></li>
<li><p>Hardware-pointer – 2 Modi</p>
<blockquote>
<div><p>The Card supports the readout of the actual Buffer-pointer,
where DMA reads/writes. Since of the bulk mode of PCI it is only
64 Byte accurate. SO it is not really usable for the
ALSA-mid-level functions (here the buffer-ID gives a better
result), but if MMAP is used by the application. Therefore it
can be configured at load-time with the parameter
precise-pointer.</p>
</div></blockquote>
</li>
</ul>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<blockquote>
<div><p>(Hint: Experimenting I found that the pointer is maximum 64 to
large never to small. So if you subtract 64 you always have a
safe pointer for writing, which is used on this mode inside
ALSA. In theory now you can get now a latency as low as 16
Samples, which is a quarter of the interrupt possibilities.)</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Precise Pointer – off</dt><dd><p>interrupt used for pointer-calculation</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Precise Pointer – on</dt><dd><p>hardware pointer used.</p>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="controller">
<h3>Controller<a class="headerlink" href="#controller" title="Permalink to this headline">¶</a></h3>
<p>Since DSP-MADI-Mixer has 8152 Fader, it does not make sense to
use the standard mixer-controls, since this would break most of
(especially graphic) ALSA-Mixer GUIs. So Mixer control has be
provided by a 2-dimensional controller using the
hwdep-interface.</p>
<p>Also all 128+256 Peak and RMS-Meter can be accessed via the
hwdep-interface. Since it could be a performance problem always
copying and converting Peak and RMS-Levels even if you just need
one, I decided to export the hardware structure, so that of
needed some driver-guru can implement a memory-mapping of mixer
or peak-meters over ioctl, or also to do only copying and no
conversion. A test-application shows the usage of the controller.</p>
<ul class="simple">
<li><p>Latency Controls — not implemented !!!</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note: Within the windows-driver the latency is accessible of a
control-panel, but buffer-sizes are controlled with ALSA from
hwparams-calls and should not be changed in run-state, I did not
implement it here.</p>
</div>
<ul class="simple">
<li><p>System Clock – suspended !!!!</p>
<ul>
<li><p>Name – “System Clock Mode”</p></li>
<li><p>Access – Read Write</p></li>
<li><p>Values – “Master” “Slave”</p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>!!!! This is a hardware-function but is in conflict with the
Clock-source controller, which is a kind of ALSA-standard. I
makes sense to set the card to a special mode (master at some
frequency or slave), since even not using an Audio-application
a studio should have working synchronisations setup. So use
Clock-source-controller instead !!!!</p>
</div>
<ul>
<li><p>Clock Source</p>
<ul>
<li><p>Name – “Sample Clock Source”</p></li>
<li><p>Access – Read Write</p></li>
<li><p>Values – “AutoSync”, “Internal 32.0 kHz”, “Internal 44.1 kHz”,
“Internal 48.0 kHz”, “Internal 64.0 kHz”, “Internal 88.2 kHz”,
“Internal 96.0 kHz”</p>
<blockquote>
<div><p>Choose between Master at a specific Frequency and so also the
Speed-mode or Slave (Autosync). Also see  “Preferred Sync Ref”</p>
</div></blockquote>
</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>!!!! This is no pure hardware function but was implemented by
ALSA by some ALSA-drivers before, so I use it also. !!!</p>
</div>
<ul>
<li><p>Preferred Sync Ref</p>
<ul>
<li><p>Name – “Preferred Sync Reference”</p></li>
<li><p>Access – Read Write</p></li>
<li><p>Values – “Word” “MADI”</p>
<blockquote>
<div><p>Within the Auto-sync-Mode the preferred Sync Source can be
chosen. If it is not available another is used if possible.</p>
</div></blockquote>
</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note: Since MADI has a much higher bit-rate than word-clock, the
card should synchronise better in MADI Mode. But since the
RME-PLL is very good, there are almost no problems with
word-clock too. I never found a difference.</p>
</div>
<ul>
<li><p>TX 64 channel</p>
<ul>
<li><p>Name – “TX 64 channels mode”</p></li>
<li><p>Access – Read Write</p></li>
<li><p>Values – 0 1</p>
<blockquote>
<div><p>Using 64-channel-modus (1) or 56-channel-modus for
MADI-transmission (0).</p>
</div></blockquote>
</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note: This control is for output only. Input-mode is detected
automatically from hardware sending MADI.</p>
</div>
<ul>
<li><p>Clear TMS</p>
<ul>
<li><p>Name – “Clear Track Marker”</p></li>
<li><p>Access – Read Write</p></li>
<li><p>Values – 0 1</p>
<blockquote>
<div><p>Don’t use to lower 5 Audio-bits on AES as additional Bits.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Safe Mode oder Auto Input</p>
<ul>
<li><p>Name – “Safe Mode”</p></li>
<li><p>Access – Read Write</p></li>
<li><p>Values – 0 1 (default on)</p>
<blockquote>
<div><p>If on (1), then if either the optical or coaxial connection
has a failure, there is a takeover to the working one, with no
sample failure. Its only useful if you use the second as a
backup connection.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Input</p>
<ul>
<li><p>Name – “Input Select”</p></li>
<li><p>Access – Read Write</p></li>
<li><p>Values – optical coaxial</p>
<blockquote>
<div><p>Choosing the Input, optical or coaxial. If Safe-mode is active,
this is the preferred Input.</p>
</div></blockquote>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="mixer">
<h3>Mixer<a class="headerlink" href="#mixer" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Mixer</p>
<ul>
<li><p>Name – “Mixer”</p></li>
<li><p>Access – Read Write</p></li>
<li><p>Values - &lt;channel-number 0-127&gt; &lt;Value 0-65535&gt;</p>
<blockquote>
<div><p>Here as a first value the channel-index is taken to get/set the
corresponding mixer channel, where 0-63 are the input to output
fader and 64-127 the playback to outputs fader. Value 0
is channel muted 0 and 32768 an amplification of  1.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Chn 1-64</p>
<blockquote>
<div><p>fast mixer for the ALSA-mixer utils. The diagonal of the
mixer-matrix is implemented from playback to output.</p>
</div></blockquote>
</li>
<li><p>Line Out</p>
<ul>
<li><p>Name  – “Line Out”</p></li>
<li><p>Access – Read Write</p></li>
<li><p>Values – 0 1</p>
<blockquote>
<div><p>Switching on and off the analog out, which has nothing to do
with mixing or routing. the analog outs reflects channel 63,64.</p>
</div></blockquote>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="information-only-read-access">
<h3>Information (only read access)<a class="headerlink" href="#information-only-read-access" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Sample Rate</p>
<ul>
<li><p>Name – “System Sample Rate”</p></li>
<li><p>Access – Read-only</p>
<blockquote>
<div><p>getting the sample rate.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>External Rate measured</p>
<ul>
<li><p>Name – “External Rate”</p></li>
<li><p>Access – Read only</p>
<blockquote>
<div><p>Should be “Autosync Rate”, but Name used is
ALSA-Scheme. External Sample frequency liked used on Autosync is
reported.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>MADI Sync Status</p>
<ul>
<li><p>Name – “MADI Sync Lock Status”</p></li>
<li><p>Access – Read</p></li>
<li><p>Values – 0,1,2</p>
<blockquote>
<div><p>MADI-Input is 0=Unlocked, 1=Locked, or 2=Synced.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Word Clock Sync Status</p>
<ul>
<li><p>Name – “Word Clock Lock Status”</p></li>
<li><p>Access – Read</p></li>
<li><p>Values – 0,1,2</p>
<blockquote>
<div><p>Word Clock Input is 0=Unlocked, 1=Locked, or 2=Synced.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>AutoSync</p>
<ul>
<li><p>Name – “AutoSync Reference”</p></li>
<li><p>Access – Read</p></li>
<li><p>Values – “WordClock”, “MADI”, “None”</p>
<blockquote>
<div><p>Sync-Reference is either “WordClock”, “MADI” or none.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>RX 64ch — noch nicht implementiert</p>
<blockquote>
<div><p>MADI-Receiver is in 64 channel mode oder 56 channel mode.</p>
</div></blockquote>
</li>
<li><p>AB_inp   — not tested</p>
<blockquote>
<div><p>Used input for Auto-Input.</p>
</div></blockquote>
</li>
<li><p>actual Buffer Position — not implemented</p>
<blockquote>
<div><p>!!! this is a ALSA internal function, so no control is used !!!</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="calling-parameter">
<h2>Calling Parameter<a class="headerlink" href="#calling-parameter" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>index int array (min = 1, max = 8)</p>
<blockquote>
<div><p>Index value for RME HDSPM interface. card-index within ALSA</p>
<p>note: ALSA-standard</p>
</div></blockquote>
</li>
<li><p>id string array (min = 1, max = 8)</p>
<blockquote>
<div><p>ID string for RME HDSPM interface.</p>
<p>note: ALSA-standard</p>
</div></blockquote>
</li>
<li><p>enable int array (min = 1, max = 8)</p>
<blockquote>
<div><p>Enable/disable specific HDSPM sound-cards.</p>
<p>note: ALSA-standard</p>
</div></blockquote>
</li>
<li><p>precise_ptr int array (min = 1, max = 8)</p>
<blockquote>
<div><p>Enable precise pointer, or disable.</p>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>note: Use only when the application supports this (which is a special case).</p>
</div>
<ul>
<li><p>line_outs_monitor int array (min = 1, max = 8)</p>
<blockquote>
<div><p>Send playback streams to analog outs by default.</p>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>note: each playback channel is mixed to the same numbered output
channel (routed). This is against the ALSA-convention, where all
channels have to be muted on after loading the driver, but was
used before on other cards, so i historically use it again)</p>
</div>
<ul>
<li><p>enable_monitor int array (min = 1, max = 8)</p>
<blockquote>
<div><p>Enable Analog Out on Channel 63/64 by default.</p>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>note: here the analog output is enabled (but not routed).</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="serial-u16550.html" class="btn btn-neutral float-right" title="Serial UART 16450/16550 MIDI driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="maya44.html" class="btn btn-neutral float-left" title="Notes on Maya44 USB Audio Support" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright The kernel development community.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>