

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.16. V4L2 DV Timings functions &mdash; The Linux Kernel 5.6.0-rc7+ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.17. V4L2 flash functions and data structures" href="v4l2-flash-led-class.html" />
    <link rel="prev" title="1.15. V4L2 clocks" href="v4l2-clocks.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.6.0-rc7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../leds/index.html">LEDs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Linux Media Subsystem Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../media_uapi.html">Linux Media Infrastructure userspace API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../media_kapi.html">Media subsystem kernel internal API</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="v4l2-core.html">1. Video4Linux devices</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="v4l2-intro.html">1.1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-intro.html#structure-of-a-v4l-driver">1.2. Structure of a V4L driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-intro.html#structure-of-the-v4l2-framework">1.3. Structure of the V4L2 framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-dev.html">1.4. Video device’ s internal representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-device.html">1.5. V4L2 device instance</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-fh.html">1.6. V4L2 File handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-subdev.html">1.7. V4L2 sub-devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-subdev.html#v4l2-sub-device-userspace-api">1.8. V4L2 sub-device userspace API</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-subdev.html#i2c-sub-device-drivers">1.9. I2C sub-device drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-subdev.html#v4l2-sub-device-functions-and-data-structures">1.10. V4L2 sub-device functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-event.html">1.11. V4L2 events</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-controls.html">1.12. V4L2 Controls</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-videobuf.html">1.13. Videobuf Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-videobuf2.html">1.14. V4L2 videobuf2 functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-clocks.html">1.15. V4L2 clocks</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">1.16. V4L2 DV Timings functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-flash-led-class.html">1.17. V4L2 flash functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-mc.html">1.18. V4L2 Media Controller functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-mediabus.html">1.19. V4L2 Media Bus functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-mem2mem.html">1.20. V4L2 Memory to Memory functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-async.html">1.21. V4L2 async kAPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-fwnode.html">1.22. V4L2 fwnode kAPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-rect.html">1.23. V4L2 rect helper functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-tuner.html">1.24. Tuner functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-common.html">1.25. V4L2 common functions and data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2-tveeprom.html">1.26. Hauppauge TV EEPROM functions and data structures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dtv-core.html">2. Digital TV (DVB) devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="rc-core.html">3. Remote Controller devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="mc-core.html">4. Media Controller devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="cec-core.html">5. CEC Kernel Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="csi2.html">6. MIPI CSI-2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dvb-drivers/index.html">Linux Digital TV driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../v4l-drivers/index.html">Video4Linux (V4L)  driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cec-drivers/index.html">CEC driver-specific documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mic/index.html">Intel Many Integrated Core (MIC) architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scheduler/index.html">Linux Scheduler</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Linux Media Subsystem Documentation</a> &raquo;</li>
        
          <li><a href="../media_kapi.html">Media subsystem kernel internal API</a> &raquo;</li>
        
          <li><a href="v4l2-core.html">1. Video4Linux devices</a> &raquo;</li>
        
      <li>1.16. V4L2 DV Timings functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/media/kapi/v4l2-dv-timings.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="v4l2-dv-timings-functions">
<h1>1.16. V4L2 DV Timings functions<a class="headerlink" href="#v4l2-dv-timings-functions" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="c.v4l2_calc_timeperframe">
struct <a class="reference internal" href="../uapi/v4l/vidioc-enumstd.html#c.v4l2_fract" title="v4l2_fract">v4l2_fract</a> <code class="descname">v4l2_calc_timeperframe</code><span class="sig-paren">(</span>const struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_dv_timings" title="v4l2_dv_timings">v4l2_dv_timings</a> *<em>&nbsp;t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_calc_timeperframe" title="Permalink to this definition">¶</a></dt>
<dd><p>helper function to calculate timeperframe based v4l2_dv_timings fields.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">t</span></code></dt>
<dd>Timings for the video mode.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Calculates the expected timeperframe using the pixel clock value and
horizontal/vertical measures. This means that v4l2_dv_timings structure
must be correctly and fully filled.</p>
<dl class="type">
<dt id="c.v4l2_check_dv_timings_fnc">
<code class="descname">v4l2_check_dv_timings_fnc</code><a class="headerlink" href="#c.v4l2_check_dv_timings_fnc" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Typedef</strong>: timings check callback</p>
</dd></dl>

<p><strong>Syntax</strong></p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">v4l2_check_dv_timings_fnc</span> <span class="pre">(const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">t,</span> <span class="pre">void</span> <span class="pre">*</span> <span class="pre">handle);</span></code></div></blockquote>
<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">t</span></code></dt>
<dd>the v4l2_dv_timings struct.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span> <span class="pre">handle</span></code></dt>
<dd>a handle from the driver.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Returns true if the given timings are valid.</p>
<dl class="function">
<dt id="c.v4l2_valid_dv_timings">
bool <code class="descname">v4l2_valid_dv_timings</code><span class="sig-paren">(</span>const struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_dv_timings" title="v4l2_dv_timings">v4l2_dv_timings</a> *<em>&nbsp;t</em>, const struct <a class="reference internal" href="../uapi/v4l/vidioc-dv-timings-cap.html#c.v4l2_dv_timings_cap" title="v4l2_dv_timings_cap">v4l2_dv_timings_cap</a> *<em>&nbsp;cap</em>, <a class="reference internal" href="#c.v4l2_check_dv_timings_fnc" title="v4l2_check_dv_timings_fnc">v4l2_check_dv_timings_fnc</a><em>&nbsp;fnc</em>, void *<em>&nbsp;fnc_handle</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_valid_dv_timings" title="Permalink to this definition">¶</a></dt>
<dd><p>are these timings valid?</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">t</span></code></dt>
<dd>the v4l2_dv_timings struct.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings_cap</span> <span class="pre">*</span> <span class="pre">cap</span></code></dt>
<dd>the v4l2_dv_timings_cap capabilities.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">v4l2_check_dv_timings_fnc</span> <span class="pre">fnc</span></code></dt>
<dd>callback to check if this timing is OK. May be NULL.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span> <span class="pre">fnc_handle</span></code></dt>
<dd>a handle that is passed on to <strong>fnc</strong>.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Returns true if the given dv_timings struct is supported by the
hardware capabilities and the callback function (if non-NULL), returns
false otherwise.</p>
<dl class="function">
<dt id="c.v4l2_enum_dv_timings_cap">
int <code class="descname">v4l2_enum_dv_timings_cap</code><span class="sig-paren">(</span>struct <a class="reference internal" href="../uapi/v4l/vidioc-enum-dv-timings.html#c.v4l2_enum_dv_timings" title="v4l2_enum_dv_timings">v4l2_enum_dv_timings</a> *<em>&nbsp;t</em>, const struct <a class="reference internal" href="../uapi/v4l/vidioc-dv-timings-cap.html#c.v4l2_dv_timings_cap" title="v4l2_dv_timings_cap">v4l2_dv_timings_cap</a> *<em>&nbsp;cap</em>, <a class="reference internal" href="#c.v4l2_check_dv_timings_fnc" title="v4l2_check_dv_timings_fnc">v4l2_check_dv_timings_fnc</a><em>&nbsp;fnc</em>, void *<em>&nbsp;fnc_handle</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_enum_dv_timings_cap" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to enumerate possible DV timings based on capabilities</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">v4l2_enum_dv_timings</span> <span class="pre">*</span> <span class="pre">t</span></code></dt>
<dd>the v4l2_enum_dv_timings struct.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings_cap</span> <span class="pre">*</span> <span class="pre">cap</span></code></dt>
<dd>the v4l2_dv_timings_cap capabilities.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">v4l2_check_dv_timings_fnc</span> <span class="pre">fnc</span></code></dt>
<dd>callback to check if this timing is OK. May be NULL.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span> <span class="pre">fnc_handle</span></code></dt>
<dd>a handle that is passed on to <strong>fnc</strong>.</dd>
</dl>
<p><strong>Description</strong></p>
<p>This enumerates dv_timings using the full list of possible CEA-861 and DMT
timings, filtering out any timings that are not supported based on the
hardware capabilities and the callback function (if non-NULL).</p>
<p>If a valid timing for the given index is found, it will fill in <strong>t</strong> and
return 0, otherwise it returns -EINVAL.</p>
<dl class="function">
<dt id="c.v4l2_find_dv_timings_cap">
bool <code class="descname">v4l2_find_dv_timings_cap</code><span class="sig-paren">(</span>struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_dv_timings" title="v4l2_dv_timings">v4l2_dv_timings</a> *<em>&nbsp;t</em>, const struct <a class="reference internal" href="../uapi/v4l/vidioc-dv-timings-cap.html#c.v4l2_dv_timings_cap" title="v4l2_dv_timings_cap">v4l2_dv_timings_cap</a> *<em>&nbsp;cap</em>, unsigned<em>&nbsp;pclock_delta</em>, <a class="reference internal" href="#c.v4l2_check_dv_timings_fnc" title="v4l2_check_dv_timings_fnc">v4l2_check_dv_timings_fnc</a><em>&nbsp;fnc</em>, void *<em>&nbsp;fnc_handle</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_find_dv_timings_cap" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the closest timings struct</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">t</span></code></dt>
<dd>the v4l2_enum_dv_timings struct.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings_cap</span> <span class="pre">*</span> <span class="pre">cap</span></code></dt>
<dd>the v4l2_dv_timings_cap capabilities.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">pclock_delta</span></code></dt>
<dd>maximum delta between t-&gt;pixelclock and the timing struct
under consideration.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">v4l2_check_dv_timings_fnc</span> <span class="pre">fnc</span></code></dt>
<dd>callback to check if a given timings struct is OK. May be NULL.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span> <span class="pre">fnc_handle</span></code></dt>
<dd>a handle that is passed on to <strong>fnc</strong>.</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function tries to map the given timings to an entry in the
full list of possible CEA-861 and DMT timings, filtering out any timings
that are not supported based on the hardware capabilities and the callback
function (if non-NULL).</p>
<p>On success it will fill in <strong>t</strong> with the found timings and it returns true.
On failure it will return false.</p>
<dl class="function">
<dt id="c.v4l2_find_dv_timings_cea861_vic">
bool <code class="descname">v4l2_find_dv_timings_cea861_vic</code><span class="sig-paren">(</span>struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_dv_timings" title="v4l2_dv_timings">v4l2_dv_timings</a> *<em>&nbsp;t</em>, u8<em>&nbsp;vic</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_find_dv_timings_cea861_vic" title="Permalink to this definition">¶</a></dt>
<dd><p>find timings based on CEA-861 VIC</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">t</span></code></dt>
<dd>the timings data.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u8</span> <span class="pre">vic</span></code></dt>
<dd>CEA-861 VIC code</dd>
</dl>
<p><strong>Description</strong></p>
<p>On success it will fill in <strong>t</strong> with the found timings and it returns true.
On failure it will return false.</p>
<dl class="function">
<dt id="c.v4l2_match_dv_timings">
bool <code class="descname">v4l2_match_dv_timings</code><span class="sig-paren">(</span>const struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_dv_timings" title="v4l2_dv_timings">v4l2_dv_timings</a> *<em>&nbsp;measured</em>, const struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_dv_timings" title="v4l2_dv_timings">v4l2_dv_timings</a> *<em>&nbsp;standard</em>, unsigned<em>&nbsp;pclock_delta</em>, bool<em>&nbsp;match_reduced_fps</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_match_dv_timings" title="Permalink to this definition">¶</a></dt>
<dd><p>do two timings match?</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">measured</span></code></dt>
<dd>the measured timings data.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">standard</span></code></dt>
<dd>the timings according to the standard.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">pclock_delta</span></code></dt>
<dd>maximum delta in Hz between standard-&gt;pixelclock and
the measured timings.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">match_reduced_fps</span></code></dt>
<dd>if true, then fail if V4L2_DV_FL_REDUCED_FPS does not
match.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Returns true if the two timings match, returns false otherwise.</p>
<dl class="function">
<dt id="c.v4l2_print_dv_timings">
void <code class="descname">v4l2_print_dv_timings</code><span class="sig-paren">(</span>const char *<em>&nbsp;dev_prefix</em>, const char *<em>&nbsp;prefix</em>, const struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_dv_timings" title="v4l2_dv_timings">v4l2_dv_timings</a> *<em>&nbsp;t</em>, bool<em>&nbsp;detailed</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_print_dv_timings" title="Permalink to this definition">¶</a></dt>
<dd><p>log the contents of a dv_timings struct</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*</span> <span class="pre">dev_prefix</span></code></dt>
<dd>device prefix for each log line.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*</span> <span class="pre">prefix</span></code></dt>
<dd>additional prefix for each log line, may be NULL.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">t</span></code></dt>
<dd>the timings data.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">detailed</span></code></dt>
<dd>if true, give a detailed log.</dd>
</dl>
<dl class="function">
<dt id="c.v4l2_detect_cvt">
bool <code class="descname">v4l2_detect_cvt</code><span class="sig-paren">(</span>unsigned<em>&nbsp;frame_height</em>, unsigned<em>&nbsp;hfreq</em>, unsigned<em>&nbsp;vsync</em>, unsigned<em>&nbsp;active_width</em>, u32<em>&nbsp;polarities</em>, bool<em>&nbsp;interlaced</em>, struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_dv_timings" title="v4l2_dv_timings">v4l2_dv_timings</a> *<em>&nbsp;fmt</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_detect_cvt" title="Permalink to this definition">¶</a></dt>
<dd><p>detect if the given timings follow the CVT standard</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">frame_height</span></code></dt>
<dd>the total height of the frame (including blanking) in lines.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">hfreq</span></code></dt>
<dd>the horizontal frequency in Hz.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">vsync</span></code></dt>
<dd>the height of the vertical sync in lines.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">active_width</span></code></dt>
<dd>active width of image (does not include blanking). This
information is needed only in case of version 2 of reduced blanking.
In other cases, this parameter does not have any effect on timings.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">polarities</span></code></dt>
<dd>the horizontal and vertical polarities (same as struct
v4l2_bt_timings polarities).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">interlaced</span></code></dt>
<dd>if this flag is true, it indicates interlaced format</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">fmt</span></code></dt>
<dd>the resulting timings.</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function will attempt to detect if the given values correspond to a
valid CVT format. If so, then it will return true, and fmt will be filled
in with the found CVT timings.</p>
<dl class="function">
<dt id="c.v4l2_detect_gtf">
bool <code class="descname">v4l2_detect_gtf</code><span class="sig-paren">(</span>unsigned<em>&nbsp;frame_height</em>, unsigned<em>&nbsp;hfreq</em>, unsigned<em>&nbsp;vsync</em>, u32<em>&nbsp;polarities</em>, bool<em>&nbsp;interlaced</em>, struct <a class="reference internal" href="../uapi/v4l/vidioc-enumstd.html#c.v4l2_fract" title="v4l2_fract">v4l2_fract</a><em>&nbsp;aspect</em>, struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_dv_timings" title="v4l2_dv_timings">v4l2_dv_timings</a> *<em>&nbsp;fmt</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_detect_gtf" title="Permalink to this definition">¶</a></dt>
<dd><p>detect if the given timings follow the GTF standard</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">frame_height</span></code></dt>
<dd>the total height of the frame (including blanking) in lines.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">hfreq</span></code></dt>
<dd>the horizontal frequency in Hz.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">vsync</span></code></dt>
<dd>the height of the vertical sync in lines.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">polarities</span></code></dt>
<dd>the horizontal and vertical polarities (same as struct
v4l2_bt_timings polarities).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">interlaced</span></code></dt>
<dd>if this flag is true, it indicates interlaced format</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">v4l2_fract</span> <span class="pre">aspect</span></code></dt>
<dd>preferred aspect ratio. GTF has no method of determining the
aspect ratio in order to derive the image width from the
image height, so it has to be passed explicitly. Usually
the native screen aspect ratio is used for this. If it
is not filled in correctly, then 16:9 will be assumed.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">fmt</span></code></dt>
<dd>the resulting timings.</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function will attempt to detect if the given values correspond to a
valid GTF format. If so, then it will return true, and fmt will be filled
in with the found GTF timings.</p>
<dl class="function">
<dt id="c.v4l2_calc_aspect_ratio">
struct <a class="reference internal" href="../uapi/v4l/vidioc-enumstd.html#c.v4l2_fract" title="v4l2_fract">v4l2_fract</a> <code class="descname">v4l2_calc_aspect_ratio</code><span class="sig-paren">(</span>u8<em>&nbsp;hor_landscape</em>, u8<em>&nbsp;vert_portrait</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_calc_aspect_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the aspect ratio based on bytes 0x15 and 0x16 from the EDID.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">u8</span> <span class="pre">hor_landscape</span></code></dt>
<dd>byte 0x15 from the EDID.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u8</span> <span class="pre">vert_portrait</span></code></dt>
<dd>byte 0x16 from the EDID.</dd>
</dl>
<p><strong>Description</strong></p>
<p>Determines the aspect ratio from the EDID.
See VESA Enhanced EDID standard, release A, rev 2, section 3.6.2:
“Horizontal and Vertical Screen Size or Aspect Ratio”</p>
<dl class="function">
<dt id="c.v4l2_dv_timings_aspect_ratio">
struct <a class="reference internal" href="../uapi/v4l/vidioc-enumstd.html#c.v4l2_fract" title="v4l2_fract">v4l2_fract</a> <code class="descname">v4l2_dv_timings_aspect_ratio</code><span class="sig-paren">(</span>const struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_dv_timings" title="v4l2_dv_timings">v4l2_dv_timings</a> *<em>&nbsp;t</em><span class="sig-paren">)</span><a class="headerlink" href="#c.v4l2_dv_timings_aspect_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the aspect ratio based on the v4l2_dv_timings information.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">struct</span> <span class="pre">v4l2_dv_timings</span> <span class="pre">*</span> <span class="pre">t</span></code></dt>
<dd>the timings data.</dd>
</dl>
<dl class="function">
<dt id="c.can_reduce_fps">
bool <code class="descname">can_reduce_fps</code><span class="sig-paren">(</span>struct <a class="reference internal" href="../uapi/v4l/vidioc-g-dv-timings.html#c.v4l2_bt_timings" title="v4l2_bt_timings">v4l2_bt_timings</a> *<em>&nbsp;bt</em><span class="sig-paren">)</span><a class="headerlink" href="#c.can_reduce_fps" title="Permalink to this definition">¶</a></dt>
<dd><p>check if conditions for reduced fps are true.</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">v4l2_bt_timings</span> <span class="pre">*</span> <span class="pre">bt</span></code></dt>
<dd>v4l2 timing structure</dd>
</dl>
<p><strong>Description</strong></p>
<p>For different timings reduced fps is allowed if the following conditions
are met:</p>
<blockquote>
<div><ul class="simple">
<li>For CVT timings: if reduced blanking v2 (vsync == 8) is true.</li>
<li>For CEA861 timings: if <code class="docutils literal notranslate"><span class="pre">V4L2_DV_FL_CAN_REDUCE_FPS</span></code> flag is true.</li>
</ul>
</div></blockquote>
<dl class="type">
<dt id="c.v4l2_hdmi_colorimetry">
struct <code class="descname">v4l2_hdmi_colorimetry</code><a class="headerlink" href="#c.v4l2_hdmi_colorimetry" title="Permalink to this definition">¶</a></dt>
<dd><p>describes the HDMI colorimetry information</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct v4l2_hdmi_colorimetry {
  enum v4l2_colorspace colorspace;
  enum v4l2_ycbcr_encoding ycbcr_enc;
  enum v4l2_quantization quantization;
  enum v4l2_xfer_func xfer_func;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">colorspace</span></code></dt>
<dd>enum v4l2_colorspace, the colorspace</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ycbcr_enc</span></code></dt>
<dd>enum v4l2_ycbcr_encoding, Y’CbCr encoding</dd>
<dt><code class="docutils literal notranslate"><span class="pre">quantization</span></code></dt>
<dd>enum v4l2_quantization, colorspace quantization</dd>
<dt><code class="docutils literal notranslate"><span class="pre">xfer_func</span></code></dt>
<dd>enum v4l2_xfer_func, colorspace transfer function</dd>
</dl>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="v4l2-flash-led-class.html" class="btn btn-neutral float-right" title="1.17. V4L2 flash functions and data structures" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="v4l2-clocks.html" class="btn btn-neutral float-left" title="1.15. V4L2 clocks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>