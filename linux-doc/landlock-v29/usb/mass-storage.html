

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Mass Storage Gadget (MSG) &mdash; The Linux Kernel 5.11.0+ documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="USB 7-Segment Numeric Display" href="misc_usbsevseg.html" />
    <link rel="prev" title="Infinity Usb Unlimited Readme" href="iuu_phoenix.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.11.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">Open Firmware and Device Tree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">USB support</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="acm.html">Linux ACM driver v0.16</a></li>
<li class="toctree-l2"><a class="reference internal" href="authorization.html">Authorizing (or not) your USB devices to connect to the system</a></li>
<li class="toctree-l2"><a class="reference internal" href="chipidea.html">ChipIdea Highspeed Dual Role Controller Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="dwc3.html">DWC3 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="ehci.html">EHCI driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="functionfs.html">How FunctionFS works</a></li>
<li class="toctree-l2"><a class="reference internal" href="gadget_configfs.html">Linux USB gadget configured through configfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="gadget_hid.html">Linux USB HID gadget driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="gadget_multi.html">Multifunction Composite Gadget</a></li>
<li class="toctree-l2"><a class="reference internal" href="gadget_printer.html">Linux USB Printer Gadget Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="gadget_serial.html">Linux Gadget Serial Driver v2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="gadget-testing.html">Gadget Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="iuu_phoenix.html">Infinity Usb Unlimited Readme</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Mass Storage Gadget (MSG)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-parameters">Module parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sysfs-entries">sysfs entries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-gadgets-using-mass-storage-function">Other gadgets using mass storage function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relation-to-file-storage-gadget">Relation to file storage gadget</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="misc_usbsevseg.html">USB 7-Segment Numeric Display</a></li>
<li class="toctree-l2"><a class="reference internal" href="mtouchusb.html">mtouchusb driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohci.html">OHCI</a></li>
<li class="toctree-l2"><a class="reference internal" href="raw-gadget.html">USB Raw Gadget</a></li>
<li class="toctree-l2"><a class="reference internal" href="usbip_protocol.html">USB/IP protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="usbmon.html">usbmon</a></li>
<li class="toctree-l2"><a class="reference internal" href="usb-serial.html">USB serial</a></li>
<li class="toctree-l2"><a class="reference internal" href="usb-help.html">USB references</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_files.html">Linux CDC ACM inf</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_files.html#linux-inf">Linux inf</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_files.html#usb-devfs-drop-permissions-source">USB devfs drop permissions source</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_files.html#credits">Credits</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nios2/index.html">Nios II Specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">USB support</a> &raquo;</li>
        
      <li>Mass Storage Gadget (MSG)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/usb/mass-storage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mass-storage-gadget-msg">
<h1>Mass Storage Gadget (MSG)<a class="headerlink" href="#mass-storage-gadget-msg" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Mass Storage Gadget (or MSG) acts as a USB Mass Storage device,
appearing to the host as a disk or a CD-ROM drive.  It supports
multiple logical units (LUNs).  Backing storage for each LUN is
provided by a regular file or a block device, access can be limited
to read-only, and gadget can indicate that it is removable and/or
CD-ROM (the latter implies read-only access).</p>
<p>Its requirements are modest; only a bulk-in and a bulk-out endpoint
are needed.  The memory requirement amounts to two 16K buffers.
Support is included for full-speed, high-speed and SuperSpeed
operation.</p>
<p>Note that the driver is slightly non-portable in that it assumes
a single memory/DMA buffer will be usable for bulk-in and bulk-out
endpoints.  With most device controllers this is not an issue, but
there may be some with hardware restrictions that prevent a buffer
from being used by more than one endpoint.</p>
<p>This document describes how to use the gadget from user space, its
relation to mass storage function (or MSF) and different gadgets
using it, and how it differs from File Storage Gadget (or FSG)
(which is no longer included in Linux).  It will talk only briefly
about how to use MSF within composite gadgets.</p>
</div></blockquote>
</div>
<div class="section" id="module-parameters">
<h2>Module parameters<a class="headerlink" href="#module-parameters" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The mass storage gadget accepts the following mass storage specific
module parameters:</p>
<ul>
<li><p>file=filename[,filename…]</p>
<p>This parameter lists paths to files or block devices used for
backing storage for each logical unit.  There may be at most
FSG_MAX_LUNS (8) LUNs set.  If more files are specified, they will
be silently ignored.  See also “luns” parameter.</p>
<p><em>BEWARE</em> that if a file is used as a backing storage, it may not
be modified by any other process.  This is because the host
assumes the data does not change without its knowledge.  It may be
read, but (if the logical unit is writable) due to buffering on
the host side, the contents are not well defined.</p>
<p>The size of the logical unit will be rounded down to a full
logical block.  The logical block size is 2048 bytes for LUNs
simulating CD-ROM, block size of the device if the backing file is
a block device, or 512 bytes otherwise.</p>
</li>
<li><p>removable=b[,b…]</p>
<p>This parameter specifies whether each logical unit should be
removable.  “b” here is either “y”, “Y” or “1” for true or “n”,
“N” or “0” for false.</p>
<p>If this option is set for a logical unit, gadget will accept an
“eject” SCSI request (Start/Stop Unit).  When it is sent, the
backing file will be closed to simulate ejection and the logical
unit will not be mountable by the host until a new backing file is
specified by userspace on the device (see “sysfs entries”
section).</p>
<p>If a logical unit is not removable (the default), a backing file
must be specified for it with the “file” parameter as the module
is loaded.  The same applies if the module is built in, no
exceptions.</p>
<p>The default value of the flag is false, <em>HOWEVER</em> it used to be
true.  This has been changed to better match File Storage Gadget
and because it seems like a saner default after all.  Thus to
maintain compatibility with older kernels, it’s best to specify
the default values.  Also, if one relied on old default, explicit
“n” needs to be specified now.</p>
<p>Note that “removable” means the logical unit’s media can be
ejected or removed (as is true for a CD-ROM drive or a card
reader).  It does <em>not</em> mean that the entire gadget can be
unplugged from the host; the proper term for that is
“hot-unpluggable”.</p>
</li>
<li><p>cdrom=b[,b…]</p>
<p>This parameter specifies whether each logical unit should simulate
CD-ROM.  The default is false.</p>
</li>
<li><p>ro=b[,b…]</p>
<p>This parameter specifies whether each logical unit should be
reported as read only.  This will prevent host from modifying the
backing files.</p>
<p>Note that if this flag for given logical unit is false but the
backing file could not be opened in read/write mode, the gadget
will fall back to read only mode anyway.</p>
<p>The default value for non-CD-ROM logical units is false; for
logical units simulating CD-ROM it is forced to true.</p>
</li>
<li><p>nofua=b[,b…]</p>
<p>This parameter specifies whether FUA flag should be ignored in SCSI
Write10 and Write12 commands sent to given logical units.</p>
<p>MS Windows mounts removable storage in “Removal optimised mode” by
default.  All the writes to the media are synchronous, which is
achieved by setting the FUA (Force Unit Access) bit in SCSI
Write(10,12) commands.  This forces each write to wait until the
data has actually been written out and prevents I/O requests
aggregation in block layer dramatically decreasing performance.</p>
<p>Note that this may mean that if the device is powered from USB and
the user unplugs the device without unmounting it first (which at
least some Windows users do), the data may be lost.</p>
<p>The default value is false.</p>
</li>
<li><p>luns=N</p>
<p>This parameter specifies number of logical units the gadget will
have.  It is limited by FSG_MAX_LUNS (8) and higher value will be
capped.</p>
<p>If this parameter is provided, and the number of files specified
in “file” argument is greater then the value of “luns”, all excess
files will be ignored.</p>
<p>If this parameter is not present, the number of logical units will
be deduced from the number of files specified in the “file”
parameter.  If the file parameter is missing as well, one is
assumed.</p>
</li>
<li><p>stall=b</p>
<p>Specifies whether the gadget is allowed to halt bulk endpoints.
The default is determined according to the type of USB device
controller, but usually true.</p>
</li>
</ul>
<p>In addition to the above, the gadget also accepts the following
parameters defined by the composite framework (they are common to
all composite gadgets so just a quick listing):</p>
<ul class="simple">
<li><p>idVendor      – USB Vendor ID (16 bit integer)</p></li>
<li><p>idProduct     – USB Product ID (16 bit integer)</p></li>
<li><p>bcdDevice     – USB Device version (BCD) (16 bit integer)</p></li>
<li><p>iManufacturer – USB Manufacturer string (string)</p></li>
<li><p>iProduct      – USB Product string (string)</p></li>
<li><p>iSerialNumber – SerialNumber string (sting)</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="sysfs-entries">
<h2>sysfs entries<a class="headerlink" href="#sysfs-entries" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>For each logical unit, the gadget creates a directory in the sysfs
hierarchy.  Inside of it the following three files are created:</p>
<ul>
<li><p>file</p>
<p>When read it returns the path to the backing file for the given
logical unit.  If there is no backing file (possible only if the
logical unit is removable), the content is empty.</p>
<p>When written into, it changes the backing file for given logical
unit.  This change can be performed even if given logical unit is
not specified as removable (but that may look strange to the
host).  It may fail, however, if host disallowed medium removal
with the Prevent-Allow Medium Removal SCSI command.</p>
</li>
<li><p>ro</p>
<p>Reflects the state of ro flag for the given logical unit.  It can
be read any time, and written to when there is no backing file
open for given logical unit.</p>
</li>
<li><p>nofua</p>
<p>Reflects the state of nofua flag for given logical unit.  It can
be read and written.</p>
</li>
</ul>
<p>Other then those, as usual, the values of module parameters can be
read from /sys/module/g_mass_storage/parameters/* files.</p>
</div></blockquote>
</div>
<div class="section" id="other-gadgets-using-mass-storage-function">
<h2>Other gadgets using mass storage function<a class="headerlink" href="#other-gadgets-using-mass-storage-function" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The Mass Storage Gadget uses the Mass Storage Function to handle
mass storage protocol.  As a composite function, MSF may be used by
other gadgets as well (eg. g_multi and acm_ms).</p>
<p>All of the information in previous sections are valid for other
gadgets using MSF, except that support for mass storage related
module parameters may be missing, or the parameters may have
a prefix.  To figure out whether any of this is true one needs to
consult the gadget’s documentation or its source code.</p>
<p>For examples of how to include mass storage function in gadgets, one
may take a look at mass_storage.c, acm_ms.c and multi.c (sorted by
complexity).</p>
</div></blockquote>
</div>
<div class="section" id="relation-to-file-storage-gadget">
<h2>Relation to file storage gadget<a class="headerlink" href="#relation-to-file-storage-gadget" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The Mass Storage Function and thus the Mass Storage Gadget has been
based on the File Storage Gadget.  The difference between the two is
that MSG is a composite gadget (ie. uses the composite framework)
while file storage gadget was a traditional gadget.  From userspace
point of view this distinction does not really matter, but from
kernel hacker’s point of view, this means that (i) MSG does not
duplicate code needed for handling basic USB protocol commands and
(ii) MSF can be used in any other composite gadget.</p>
<p>Because of that, File Storage Gadget has been removed in Linux 3.8.
All users need to transition to the Mass Storage Gadget.  The two
gadgets behave mostly the same from the outside except:</p>
<ol class="arabic simple">
<li><p>In FSG the “removable” and “cdrom” module parameters set the flag
for all logical units whereas in MSG they accept a list of y/n
values for each logical unit.  If one uses only a single logical
unit this does not matter, but if there are more, the y/n value
needs to be repeated for each logical unit.</p></li>
<li><p>FSG’s “serial”, “vendor”, “product” and “release” module
parameters are handled in MSG by the composite layer’s parameters
named respectively: “iSerialnumber”, “idVendor”, “idProduct” and
“bcdDevice”.</p></li>
<li><p>MSG does not support FSG’s test mode, thus “transport”,
“protocol” and “buflen” FSG’s module parameters are not
supported.  MSG always uses SCSI protocol with bulk only
transport mode and 16 KiB buffers.</p></li>
</ol>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="misc_usbsevseg.html" class="btn btn-neutral float-right" title="USB 7-Segment Numeric Display" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="iuu_phoenix.html" class="btn btn-neutral float-left" title="Infinity Usb Unlimited Readme" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright The kernel development community.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>