

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. CEC Header File &mdash; The Linux Kernel 5.2.0+ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Generic Error Codes" href="../gen-errors.html" />
    <link rel="prev" title="3. CEC Pin Framework Error Injection" href="cec-pin-error-inj.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.4.0-rc3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ioctl/index.html">IOCTLs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../leds/index.html">LEDs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Linux Media Subsystem Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../media_uapi.html">Linux Media Infrastructure userspace API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v4l/v4l2.html">Part I - Video for Linux API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dvb/dvbapi.html">Part II - Digital TV API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rc/remote_controllers.html">Part III - Remote Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mediactl/media-controller.html">Part IV - Media Controller API</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="cec-api.html">Part V - Consumer Electronics Control API</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="cec-intro.html">1. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="cec-funcs.html">2. Function Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="cec-pin-error-inj.html">3. CEC Pin Framework Error Injection</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">4. CEC Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="cec-api.html#revision-and-copyright">Revision and Copyright</a></li>
<li class="toctree-l4"><a class="reference internal" href="cec-api.html#revision-history">Revision History</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gen-errors.html">Generic Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fdl-appendix.html">GNU Free Documentation License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../media_kapi.html">Media subsystem kernel internal API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dvb-drivers/index.html">Linux Digital TV driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v4l-drivers/index.html">Video4Linux (V4L)  driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cec-drivers/index.html">CEC driver-specific documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mic/index.html">Intel Many Integrated Core (MIC) architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scheduler/index.html">Linux Scheduler</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Linux Media Subsystem Documentation</a> &raquo;</li>
        
          <li><a href="../../media_uapi.html">Linux Media Infrastructure userspace API</a> &raquo;</li>
        
          <li><a href="cec-api.html">Part V - Consumer Electronics Control API</a> &raquo;</li>
        
      <li>4. CEC Header File</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/media/uapi/cec/cec-header.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cec-header-file">
<span id="cec-header"></span><h1>4. CEC Header File<a class="headerlink" href="#cec-header-file" title="Permalink to this headline">¶</a></h1>
<div class="section" id="cec-h">
<h2>4.1. cec.h<a class="headerlink" href="#cec-h" title="Permalink to this headline">¶</a></h2>
<pre class="literal-block">
/* SPDX-License-Identifier: ((GPL-2.0 WITH Linux-syscall-note) OR BSD-3-Clause) */
/*
 * cec - HDMI Consumer Electronics Control public header
 *
 * Copyright 2016 Cisco Systems, Inc. and/or its affiliates. All rights reserved.
 */

#ifndef _CEC_UAPI_H
#define _CEC_UAPI_H

#include &lt;linux/types.h&gt;
#include &lt;linux/string.h&gt;

#define CEC_MAX_MSG_SIZE        16

/**
 * struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a> - CEC message structure.
 * &#64;tx_ts:      Timestamp in nanoseconds using CLOCK_MONOTONIC. Set by the
 *              driver when the message transmission has finished.
 * &#64;rx_ts:      Timestamp in nanoseconds using CLOCK_MONOTONIC. Set by the
 *              driver when the message was received.
 * &#64;len:        Length in bytes of the message.
 * &#64;timeout:    The timeout (in ms) that is used to timeout CEC_RECEIVE.
 *              Set to 0 if you want to wait forever. This timeout can also be
 *              used with <a class="reference internal" href="cec-ioc-receive.html#cec-transmit"><span class="std std-ref">CEC_TRANSMIT</span></a> as the timeout for waiting for a reply.
 *              If 0, then it will use a 1 second timeout instead of waiting
 *              forever as is done with CEC_RECEIVE.
 * &#64;sequence:   The framework assigns a sequence number to messages that are
 *              sent. This can be used to track replies to previously sent
 *              messages.
 * &#64;flags:      Set to 0.
 * &#64;msg:        The message payload.
 * &#64;reply:      This field is ignored with <a class="reference internal" href="cec-ioc-receive.html#cec-receive"><span class="std std-ref">CEC_RECEIVE</span></a> and is only used by
 *              CEC_TRANSMIT. If non-zero, then wait for a reply with this
 *              opcode. Set to CEC_MSG_FEATURE_ABORT if you want to wait for
 *              a possible ABORT reply. If there was an error when sending the
 *              msg or FeatureAbort was returned, then reply is set to 0.
 *              If reply is non-zero upon return, then len/msg are set to
 *              the received message.
 *              If reply is zero upon return and status has the
 *              CEC_TX_STATUS_FEATURE_ABORT bit set, then len/msg are set to
 *              the received feature abort message.
 *              If reply is zero upon return and status has the
 *              <a class="reference internal" href="cec-ioc-receive.html#cec-tx-status-max-retries"><span class="std std-ref">CEC_TX_STATUS_MAX_RETRIES</span></a> bit set, then no reply was seen at
 *              all. If reply is non-zero for <a class="reference internal" href="cec-ioc-receive.html#cec-transmit"><span class="std std-ref">CEC_TRANSMIT</span></a> and the message is a
 *              broadcast, then -EINVAL is returned.
 *              if reply is non-zero, then timeout is set to 1000 (the required
 *              maximum response time).
 * &#64;rx_status:  The message receive status bits. Set by the driver.
 * &#64;tx_status:  The message transmit status bits. Set by the driver.
 * &#64;tx_arb_lost_cnt: The number of 'Arbitration Lost' events. Set by the driver.
 * &#64;tx_nack_cnt: The number of 'Not Acknowledged' events. Set by the driver.
 * &#64;tx_low_drive_cnt: The number of 'Low Drive Detected' events. Set by the
 *              driver.
 * &#64;tx_error_cnt: The number of 'Error' events. Set by the driver.
 */
struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a> {
        __u64 tx_ts;
        __u64 rx_ts;
        __u32 len;
        __u32 timeout;
        __u32 sequence;
        __u32 flags;
        __u8 msg[CEC_MAX_MSG_SIZE];
        __u8 reply;
        __u8 rx_status;
        __u8 tx_status;
        __u8 tx_arb_lost_cnt;
        __u8 tx_nack_cnt;
        __u8 tx_low_drive_cnt;
        __u8 tx_error_cnt;
};

/**
 * cec_msg_initiator - return the initiator's logical address.
 * &#64;msg:        the message structure
 */
static inline __u8 cec_msg_initiator(const struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a> *msg)
{
        return msg-&gt;msg[0] &gt;&gt; 4;
}

/**
 * cec_msg_destination - return the destination's logical address.
 * &#64;msg:        the message structure
 */
static inline __u8 cec_msg_destination(const struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a> *msg)
{
        return msg-&gt;msg[0] &amp; 0xf;
}

/**
 * cec_msg_opcode - return the opcode of the message, -1 for poll
 * &#64;msg:        the message structure
 */
static inline int cec_msg_opcode(const struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a> *msg)
{
        return msg-&gt;len &gt; 1 ? msg-&gt;msg[1] : -1;
}

/**
 * cec_msg_is_broadcast - return true if this is a broadcast message.
 * &#64;msg:        the message structure
 */
static inline int cec_msg_is_broadcast(const struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a> *msg)
{
        return (msg-&gt;msg[0] &amp; 0xf) == 0xf;
}

/**
 * cec_msg_init - initialize the message structure.
 * &#64;msg:        the message structure
 * &#64;initiator:  the logical address of the initiator
 * &#64;destination:the logical address of the destination (0xf for broadcast)
 *
 * The whole structure is zeroed, the len field is set to 1 (i.e. a poll
 * message) and the initiator and destination are filled in.
 */
static inline void cec_msg_init(struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a> *msg,
                                __u8 initiator, __u8 destination)
{
        memset(msg, 0, sizeof(*msg));
        msg-&gt;msg[0] = (initiator &lt;&lt; 4) | destination;
        msg-&gt;len = 1;
}

/**
 * cec_msg_set_reply_to - fill in destination/initiator in a reply message.
 * &#64;msg:        the message structure for the reply
 * &#64;orig:       the original message structure
 *
 * Set the msg destination to the orig initiator and the msg initiator to the
 * orig destination. Note that msg and orig may be the same pointer, in which
 * case the change is done in place.
 */
static inline void cec_msg_set_reply_to(struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a> *msg,
                                        struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a> *orig)
{
        /* The destination becomes the initiator and vice versa */
        msg-&gt;msg[0] = (cec_msg_destination(orig) &lt;&lt; 4) |
                      cec_msg_initiator(orig);
        msg-&gt;reply = msg-&gt;timeout = 0;
}

/* cec_msg flags field */
#define <a class="reference internal" href="cec-ioc-receive.html#cec-msg-fl-reply-to-followers"><span class="std std-ref">CEC_MSG_FL_REPLY_TO_FOLLOWERS</span></a>   (1 &lt;&lt; 0)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-msg-fl-raw"><span class="std std-ref">CEC_MSG_FL_RAW</span></a>                  (1 &lt;&lt; 1)

/* cec_msg tx/rx_status field */
#define <a class="reference internal" href="cec-ioc-receive.html#cec-tx-status-ok"><span class="std std-ref">CEC_TX_STATUS_OK</span></a>                (1 &lt;&lt; 0)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-tx-status-arb-lost"><span class="std std-ref">CEC_TX_STATUS_ARB_LOST</span></a>          (1 &lt;&lt; 1)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-tx-status-nack"><span class="std std-ref">CEC_TX_STATUS_NACK</span></a>              (1 &lt;&lt; 2)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-tx-status-low-drive"><span class="std std-ref">CEC_TX_STATUS_LOW_DRIVE</span></a>         (1 &lt;&lt; 3)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-tx-status-error"><span class="std std-ref">CEC_TX_STATUS_ERROR</span></a>             (1 &lt;&lt; 4)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-tx-status-max-retries"><span class="std std-ref">CEC_TX_STATUS_MAX_RETRIES</span></a>       (1 &lt;&lt; 5)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-tx-status-aborted"><span class="std std-ref">CEC_TX_STATUS_ABORTED</span></a>           (1 &lt;&lt; 6)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-tx-status-timeout"><span class="std std-ref">CEC_TX_STATUS_TIMEOUT</span></a>           (1 &lt;&lt; 7)

#define <a class="reference internal" href="cec-ioc-receive.html#cec-rx-status-ok"><span class="std std-ref">CEC_RX_STATUS_OK</span></a>                (1 &lt;&lt; 0)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-rx-status-timeout"><span class="std std-ref">CEC_RX_STATUS_TIMEOUT</span></a>           (1 &lt;&lt; 1)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-rx-status-feature-abort"><span class="std std-ref">CEC_RX_STATUS_FEATURE_ABORT</span></a>     (1 &lt;&lt; 2)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-rx-status-aborted"><span class="std std-ref">CEC_RX_STATUS_ABORTED</span></a>           (1 &lt;&lt; 3)

static inline int cec_msg_status_is_ok(const struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a> *msg)
{
        if (msg-&gt;tx_status &amp;&amp; !(msg-&gt;tx_status &amp; <a class="reference internal" href="cec-ioc-receive.html#cec-tx-status-ok"><span class="std std-ref">CEC_TX_STATUS_OK</span></a>))
                return 0;
        if (msg-&gt;rx_status &amp;&amp; !(msg-&gt;rx_status &amp; <a class="reference internal" href="cec-ioc-receive.html#cec-rx-status-ok"><span class="std std-ref">CEC_RX_STATUS_OK</span></a>))
                return 0;
        if (!msg-&gt;tx_status &amp;&amp; !msg-&gt;rx_status)
                return 0;
        return !(msg-&gt;rx_status &amp; <a class="reference internal" href="cec-ioc-receive.html#cec-rx-status-feature-abort"><span class="std std-ref">CEC_RX_STATUS_FEATURE_ABORT</span></a>);
}

#define CEC_LOG_ADDR_INVALID            0xff
#define CEC_PHYS_ADDR_INVALID           0xffff

/*
 * The maximum number of logical addresses one device can be assigned to.
 * The CEC 2.0 spec allows for only 2 logical addresses at the moment. The
 * Analog Devices CEC hardware supports 3. So let's go wild and go for 4.
 */
#define CEC_MAX_LOG_ADDRS 4

/* The logical addresses defined by CEC 2.0 */
#define CEC_LOG_ADDR_TV                 0
#define CEC_LOG_ADDR_RECORD_1           1
#define CEC_LOG_ADDR_RECORD_2           2
#define CEC_LOG_ADDR_TUNER_1            3
#define CEC_LOG_ADDR_PLAYBACK_1         4
#define CEC_LOG_ADDR_AUDIOSYSTEM        5
#define CEC_LOG_ADDR_TUNER_2            6
#define CEC_LOG_ADDR_TUNER_3            7
#define CEC_LOG_ADDR_PLAYBACK_2         8
#define CEC_LOG_ADDR_RECORD_3           9
#define CEC_LOG_ADDR_TUNER_4            10
#define CEC_LOG_ADDR_PLAYBACK_3         11
#define CEC_LOG_ADDR_BACKUP_1           12
#define CEC_LOG_ADDR_BACKUP_2           13
#define CEC_LOG_ADDR_SPECIFIC           14
#define CEC_LOG_ADDR_UNREGISTERED       15 /* as initiator address */
#define CEC_LOG_ADDR_BROADCAST          15 /* as destination address */

/* The logical address types that the CEC device wants to claim */
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addr-type-tv"><span class="std std-ref">CEC_LOG_ADDR_TYPE_TV</span></a>            0
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addr-type-record"><span class="std std-ref">CEC_LOG_ADDR_TYPE_RECORD</span></a>        1
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addr-type-tuner"><span class="std std-ref">CEC_LOG_ADDR_TYPE_TUNER</span></a>         2
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addr-type-playback"><span class="std std-ref">CEC_LOG_ADDR_TYPE_PLAYBACK</span></a>      3
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addr-type-audiosystem"><span class="std std-ref">CEC_LOG_ADDR_TYPE_AUDIOSYSTEM</span></a>   4
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addr-type-specific"><span class="std std-ref">CEC_LOG_ADDR_TYPE_SPECIFIC</span></a>      5
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addr-type-unregistered"><span class="std std-ref">CEC_LOG_ADDR_TYPE_UNREGISTERED</span></a>  6
/*
 * Switches should use UNREGISTERED.
 * Processors should use SPECIFIC.
 */

#define CEC_LOG_ADDR_MASK_TV            (1 &lt;&lt; CEC_LOG_ADDR_TV)
#define CEC_LOG_ADDR_MASK_RECORD        ((1 &lt;&lt; CEC_LOG_ADDR_RECORD_1) | \
                                         (1 &lt;&lt; CEC_LOG_ADDR_RECORD_2) | \
                                         (1 &lt;&lt; CEC_LOG_ADDR_RECORD_3))
#define CEC_LOG_ADDR_MASK_TUNER         ((1 &lt;&lt; CEC_LOG_ADDR_TUNER_1) | \
                                         (1 &lt;&lt; CEC_LOG_ADDR_TUNER_2) | \
                                         (1 &lt;&lt; CEC_LOG_ADDR_TUNER_3) | \
                                         (1 &lt;&lt; CEC_LOG_ADDR_TUNER_4))
#define CEC_LOG_ADDR_MASK_PLAYBACK      ((1 &lt;&lt; CEC_LOG_ADDR_PLAYBACK_1) | \
                                         (1 &lt;&lt; CEC_LOG_ADDR_PLAYBACK_2) | \
                                         (1 &lt;&lt; CEC_LOG_ADDR_PLAYBACK_3))
#define CEC_LOG_ADDR_MASK_AUDIOSYSTEM   (1 &lt;&lt; CEC_LOG_ADDR_AUDIOSYSTEM)
#define CEC_LOG_ADDR_MASK_BACKUP        ((1 &lt;&lt; CEC_LOG_ADDR_BACKUP_1) | \
                                         (1 &lt;&lt; CEC_LOG_ADDR_BACKUP_2))
#define CEC_LOG_ADDR_MASK_SPECIFIC      (1 &lt;&lt; CEC_LOG_ADDR_SPECIFIC)
#define CEC_LOG_ADDR_MASK_UNREGISTERED  (1 &lt;&lt; CEC_LOG_ADDR_UNREGISTERED)

static inline int cec_has_tv(__u16 log_addr_mask)
{
        return log_addr_mask &amp; CEC_LOG_ADDR_MASK_TV;
}

static inline int cec_has_record(__u16 log_addr_mask)
{
        return log_addr_mask &amp; CEC_LOG_ADDR_MASK_RECORD;
}

static inline int cec_has_tuner(__u16 log_addr_mask)
{
        return log_addr_mask &amp; CEC_LOG_ADDR_MASK_TUNER;
}

static inline int cec_has_playback(__u16 log_addr_mask)
{
        return log_addr_mask &amp; CEC_LOG_ADDR_MASK_PLAYBACK;
}

static inline int cec_has_audiosystem(__u16 log_addr_mask)
{
        return log_addr_mask &amp; CEC_LOG_ADDR_MASK_AUDIOSYSTEM;
}

static inline int cec_has_backup(__u16 log_addr_mask)
{
        return log_addr_mask &amp; CEC_LOG_ADDR_MASK_BACKUP;
}

static inline int cec_has_specific(__u16 log_addr_mask)
{
        return log_addr_mask &amp; CEC_LOG_ADDR_MASK_SPECIFIC;
}

static inline int cec_is_unregistered(__u16 log_addr_mask)
{
        return log_addr_mask &amp; CEC_LOG_ADDR_MASK_UNREGISTERED;
}

static inline int cec_is_unconfigured(__u16 log_addr_mask)
{
        return log_addr_mask == 0;
}

/*
 * Use this if there is no vendor ID (CEC_G_VENDOR_ID) or if the vendor ID
 * should be disabled (CEC_S_VENDOR_ID)
 */
#define CEC_VENDOR_ID_NONE              0xffffffff

/* The message handling modes */
/* Modes for initiator */
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-mode-no-initiator"><span class="std std-ref">CEC_MODE_NO_INITIATOR</span></a>           (0x0 &lt;&lt; 0)
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-mode-initiator"><span class="std std-ref">CEC_MODE_INITIATOR</span></a>              (0x1 &lt;&lt; 0)
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-mode-excl-initiator"><span class="std std-ref">CEC_MODE_EXCL_INITIATOR</span></a>         (0x2 &lt;&lt; 0)
#define CEC_MODE_INITIATOR_MSK          0x0f

/* Modes for follower */
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-mode-no-follower"><span class="std std-ref">CEC_MODE_NO_FOLLOWER</span></a>            (0x0 &lt;&lt; 4)
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-mode-follower"><span class="std std-ref">CEC_MODE_FOLLOWER</span></a>               (0x1 &lt;&lt; 4)
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-mode-excl-follower"><span class="std std-ref">CEC_MODE_EXCL_FOLLOWER</span></a>          (0x2 &lt;&lt; 4)
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-mode-excl-follower-passthru"><span class="std std-ref">CEC_MODE_EXCL_FOLLOWER_PASSTHRU</span></a> (0x3 &lt;&lt; 4)
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-mode-monitor-pin"><span class="std std-ref">CEC_MODE_MONITOR_PIN</span></a>            (0xd &lt;&lt; 4)
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-mode-monitor"><span class="std std-ref">CEC_MODE_MONITOR</span></a>                (0xe &lt;&lt; 4)
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-mode-monitor-all"><span class="std std-ref">CEC_MODE_MONITOR_ALL</span></a>            (0xf &lt;&lt; 4)
#define CEC_MODE_FOLLOWER_MSK           0xf0

/* Userspace has to configure the physical address */
#define <a class="reference internal" href="cec-ioc-adap-g-caps.html#cec-cap-phys-addr"><span class="std std-ref">CEC_CAP_PHYS_ADDR</span></a>       (1 &lt;&lt; 0)
/* Userspace has to configure the logical addresses */
#define <a class="reference internal" href="cec-ioc-adap-g-caps.html#cec-cap-log-addrs"><span class="std std-ref">CEC_CAP_LOG_ADDRS</span></a>       (1 &lt;&lt; 1)
/* Userspace can transmit messages (and thus become follower as well) */
#define <a class="reference internal" href="cec-ioc-adap-g-caps.html#cec-cap-transmit"><span class="std std-ref">CEC_CAP_TRANSMIT</span></a>        (1 &lt;&lt; 2)
/*
 * Passthrough all messages instead of processing them.
 */
#define <a class="reference internal" href="cec-ioc-adap-g-caps.html#cec-cap-passthrough"><span class="std std-ref">CEC_CAP_PASSTHROUGH</span></a>     (1 &lt;&lt; 3)
/* Supports remote control */
#define <a class="reference internal" href="cec-ioc-adap-g-caps.html#cec-cap-rc"><span class="std std-ref">CEC_CAP_RC</span></a>              (1 &lt;&lt; 4)
/* Hardware can monitor all messages, not just directed and broadcast. */
#define <a class="reference internal" href="cec-ioc-adap-g-caps.html#cec-cap-monitor-all"><span class="std std-ref">CEC_CAP_MONITOR_ALL</span></a>     (1 &lt;&lt; 5)
/* Hardware can use CEC only if the HDMI HPD pin is high. */
#define <a class="reference internal" href="cec-ioc-adap-g-caps.html#cec-cap-needs-hpd"><span class="std std-ref">CEC_CAP_NEEDS_HPD</span></a>       (1 &lt;&lt; 6)
/* Hardware can monitor CEC pin transitions */
#define <a class="reference internal" href="cec-ioc-adap-g-caps.html#cec-cap-monitor-pin"><span class="std std-ref">CEC_CAP_MONITOR_PIN</span></a>     (1 &lt;&lt; 7)

/**
 * struct <a class="reference internal" href="cec-ioc-adap-g-caps.html#c.cec_caps" title="cec_caps"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_caps</span></code></a> - CEC capabilities structure.
 * &#64;driver: name of the CEC device driver.
 * &#64;name: name of the CEC device. &#64;driver + &#64;name must be unique.
 * &#64;available_log_addrs: number of available logical addresses.
 * &#64;capabilities: capabilities of the CEC adapter.
 * &#64;version: version of the CEC adapter framework.
 */
struct <a class="reference internal" href="cec-ioc-adap-g-caps.html#c.cec_caps" title="cec_caps"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_caps</span></code></a> {
        char driver[32];
        char name[32];
        __u32 available_log_addrs;
        __u32 capabilities;
        __u32 version;
};

/**
 * struct <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a> - CEC logical addresses structure.
 * &#64;log_addr: the claimed logical addresses. Set by the driver.
 * &#64;log_addr_mask: current logical address mask. Set by the driver.
 * &#64;cec_version: the CEC version that the adapter should implement. Set by the
 *      caller.
 * &#64;num_log_addrs: how many logical addresses should be claimed. Set by the
 *      caller.
 * &#64;vendor_id: the vendor ID of the device. Set by the caller.
 * &#64;flags: flags.
 * &#64;osd_name: the OSD name of the device. Set by the caller.
 * &#64;primary_device_type: the primary device type for each logical address.
 *      Set by the caller.
 * &#64;log_addr_type: the logical address types. Set by the caller.
 * &#64;all_device_types: CEC 2.0: all device types represented by the logical
 *      address. Set by the caller.
 * &#64;features:   CEC 2.0: The logical address features. Set by the caller.
 */
struct <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a> {
        __u8 log_addr[CEC_MAX_LOG_ADDRS];
        __u16 log_addr_mask;
        __u8 cec_version;
        __u8 num_log_addrs;
        __u32 vendor_id;
        __u32 flags;
        char osd_name[15];
        __u8 primary_device_type[CEC_MAX_LOG_ADDRS];
        __u8 log_addr_type[CEC_MAX_LOG_ADDRS];

        /* CEC 2.0 */
        __u8 all_device_types[CEC_MAX_LOG_ADDRS];
        __u8 features[CEC_MAX_LOG_ADDRS][12];
};

/* Allow a fallback to unregistered */
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addrs-fl-allow-unreg-fallback"><span class="std std-ref">CEC_LOG_ADDRS_FL_ALLOW_UNREG_FALLBACK</span></a>   (1 &lt;&lt; 0)
/* Passthrough RC messages to the input subsystem */
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addrs-fl-allow-rc-passthru"><span class="std std-ref">CEC_LOG_ADDRS_FL_ALLOW_RC_PASSTHRU</span></a>      (1 &lt;&lt; 1)
/* CDC-Only device: supports only CDC messages */
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addrs-fl-cdc-only"><span class="std std-ref">CEC_LOG_ADDRS_FL_CDC_ONLY</span></a>               (1 &lt;&lt; 2)

/* Events */

/* Event that occurs when the adapter state changes */
#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-state-change"><span class="std std-ref">CEC_EVENT_STATE_CHANGE</span></a>          1
/*
 * This event is sent when messages are lost because the application
 * didn't empty the message queue in time
 */
#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-lost-msgs"><span class="std std-ref">CEC_EVENT_LOST_MSGS</span></a>             2
#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-pin-cec-low"><span class="std std-ref">CEC_EVENT_PIN_CEC_LOW</span></a>           3
#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-pin-cec-high"><span class="std std-ref">CEC_EVENT_PIN_CEC_HIGH</span></a>          4
#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-pin-hpd-low"><span class="std std-ref">CEC_EVENT_PIN_HPD_LOW</span></a>           5
#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-pin-hpd-high"><span class="std std-ref">CEC_EVENT_PIN_HPD_HIGH</span></a>          6
#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-pin-5v-low"><span class="std std-ref">CEC_EVENT_PIN_5V_LOW</span></a>            7
#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-pin-5v-high"><span class="std std-ref">CEC_EVENT_PIN_5V_HIGH</span></a>           8

#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-fl-initial-state"><span class="std std-ref">CEC_EVENT_FL_INITIAL_STATE</span></a>      (1 &lt;&lt; 0)
#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-fl-dropped-events"><span class="std std-ref">CEC_EVENT_FL_DROPPED_EVENTS</span></a>     (1 &lt;&lt; 1)

/**
 * struct <a class="reference internal" href="cec-ioc-dqevent.html#c.cec_event_state_change" title="cec_event_state_change"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_event_state_change</span></code></a> - used when the CEC adapter changes state.
 * &#64;phys_addr: the current physical address
 * &#64;log_addr_mask: the current logical address mask
 */
struct <a class="reference internal" href="cec-ioc-dqevent.html#c.cec_event_state_change" title="cec_event_state_change"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_event_state_change</span></code></a> {
        __u16 phys_addr;
        __u16 log_addr_mask;
};

/**
 * struct <a class="reference internal" href="cec-ioc-dqevent.html#c.cec_event_lost_msgs" title="cec_event_lost_msgs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_event_lost_msgs</span></code></a> - tells you how many messages were lost.
 * &#64;lost_msgs: how many messages were lost.
 */
struct <a class="reference internal" href="cec-ioc-dqevent.html#c.cec_event_lost_msgs" title="cec_event_lost_msgs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_event_lost_msgs</span></code></a> {
        __u32 lost_msgs;
};

/**
 * struct <a class="reference internal" href="cec-ioc-dqevent.html#c.cec_event" title="cec_event"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_event</span></code></a> - CEC event structure
 * &#64;ts: the timestamp of when the event was sent.
 * &#64;event: the event.
 * array.
 * &#64;state_change: the event payload for CEC_EVENT_STATE_CHANGE.
 * &#64;lost_msgs: the event payload for CEC_EVENT_LOST_MSGS.
 * &#64;raw: array to pad the union.
 */
struct <a class="reference internal" href="cec-ioc-dqevent.html#c.cec_event" title="cec_event"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_event</span></code></a> {
        __u64 ts;
        __u32 event;
        __u32 flags;
        union {
                struct <a class="reference internal" href="cec-ioc-dqevent.html#c.cec_event_state_change" title="cec_event_state_change"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_event_state_change</span></code></a> state_change;
                struct <a class="reference internal" href="cec-ioc-dqevent.html#c.cec_event_lost_msgs" title="cec_event_lost_msgs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_event_lost_msgs</span></code></a> lost_msgs;
                __u32 raw[16];
        };
};

/* ioctls */

/* Adapter capabilities */
#define <a class="reference internal" href="cec-ioc-adap-g-caps.html#cec-adap-g-caps"><span class="std std-ref">CEC_ADAP_G_CAPS</span></a>         _IOWR('a',  0, struct <a class="reference internal" href="cec-ioc-adap-g-caps.html#c.cec_caps" title="cec_caps"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_caps</span></code></a>)

/*
 * phys_addr is either 0 (if this is the CEC root device)
 * or a valid physical address obtained from the sink's EDID
 * as read by this CEC device (if this is a source device)
 * or a physical address obtained and modified from a sink
 * EDID and used for a sink CEC device.
 * If nothing is connected, then phys_addr is 0xffff.
 * See HDMI 1.4b, section 8.7 (Physical Address).
 *
 * The <a class="reference internal" href="cec-ioc-adap-g-phys-addr.html#cec-adap-s-phys-addr"><span class="std std-ref">CEC_ADAP_S_PHYS_ADDR</span></a> ioctl may not be available if that is handled
 * internally.
 */
#define <a class="reference internal" href="cec-ioc-adap-g-phys-addr.html#cec-adap-g-phys-addr"><span class="std std-ref">CEC_ADAP_G_PHYS_ADDR</span></a>    _IOR('a',  1, __u16)
#define <a class="reference internal" href="cec-ioc-adap-g-phys-addr.html#cec-adap-s-phys-addr"><span class="std std-ref">CEC_ADAP_S_PHYS_ADDR</span></a>    _IOW('a',  2, __u16)

/*
 * Configure the CEC adapter. It sets the device type and which
 * logical types it will try to claim. It will return which
 * logical addresses it could actually claim.
 * An error is returned if the adapter is disabled or if there
 * is no physical address assigned.
 */

#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-adap-g-log-addrs"><span class="std std-ref">CEC_ADAP_G_LOG_ADDRS</span></a>    _IOR('a',  3, struct <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a>)
#define <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-adap-s-log-addrs"><span class="std std-ref">CEC_ADAP_S_LOG_ADDRS</span></a>    _IOWR('a',  4, struct <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a>)

/* Transmit/receive a CEC command */
#define <a class="reference internal" href="cec-ioc-receive.html#cec-transmit"><span class="std std-ref">CEC_TRANSMIT</span></a>            _IOWR('a',  5, struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a>)
#define <a class="reference internal" href="cec-ioc-receive.html#cec-receive"><span class="std std-ref">CEC_RECEIVE</span></a>             _IOWR('a',  6, struct <a class="reference internal" href="cec-ioc-receive.html#c.cec_msg" title="cec_msg"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_msg</span></code></a>)

/* Dequeue CEC events */
#define <a class="reference internal" href="cec-ioc-dqevent.html#cec-dqevent"><span class="std std-ref">CEC_DQEVENT</span></a>             _IOWR('a',  7, struct <a class="reference internal" href="cec-ioc-dqevent.html#c.cec_event" title="cec_event"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_event</span></code></a>)

/*
 * Get and set the message handling mode for this filehandle.
 */
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-g-mode"><span class="std std-ref">CEC_G_MODE</span></a>              _IOR('a',  8, __u32)
#define <a class="reference internal" href="cec-ioc-g-mode.html#cec-s-mode"><span class="std std-ref">CEC_S_MODE</span></a>              _IOW('a',  9, __u32)

/*
 * The remainder of this header defines all CEC messages and operands.
 * The format matters since it the cec-ctl utility parses it to generate
 * code for implementing all these messages.
 *
 * Comments ending with 'Feature' group messages for each feature.
 * If messages are part of multiple features, then the &quot;Has also&quot;
 * comment is used to list the previously defined messages that are
 * supported by the feature.
 *
 * Before operands are defined a comment is added that gives the
 * name of the operand and in brackets the variable name of the
 * corresponding argument in the cec-funcs.h function.
 */

/* Messages */

/* One Touch Play Feature */
#define CEC_MSG_ACTIVE_SOURCE                           0x82
#define CEC_MSG_IMAGE_VIEW_ON                           0x04
#define CEC_MSG_TEXT_VIEW_ON                            0x0d

/* Routing Control Feature */

/*
 * Has also:
 *      CEC_MSG_ACTIVE_SOURCE
 */

#define CEC_MSG_INACTIVE_SOURCE                         0x9d
#define CEC_MSG_REQUEST_ACTIVE_SOURCE                   0x85
#define CEC_MSG_ROUTING_CHANGE                          0x80
#define CEC_MSG_ROUTING_INFORMATION                     0x81
#define CEC_MSG_SET_STREAM_PATH                         0x86

/* Standby Feature */
#define CEC_MSG_STANDBY                                 0x36

/* One Touch Record Feature */
#define CEC_MSG_RECORD_OFF                              0x0b
#define CEC_MSG_RECORD_ON                               0x09
/* Record Source Type Operand (rec_src_type) */
#define CEC_OP_RECORD_SRC_OWN                           1
#define CEC_OP_RECORD_SRC_DIGITAL                       2
#define CEC_OP_RECORD_SRC_ANALOG                        3
#define CEC_OP_RECORD_SRC_EXT_PLUG                      4
#define CEC_OP_RECORD_SRC_EXT_PHYS_ADDR                 5
/* Service Identification Method Operand (service_id_method) */
#define CEC_OP_SERVICE_ID_METHOD_BY_DIG_ID              0
#define CEC_OP_SERVICE_ID_METHOD_BY_CHANNEL             1
/* Digital Service Broadcast System Operand (dig_bcast_system) */
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_ARIB_GEN        0x00
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_ATSC_GEN        0x01
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_DVB_GEN         0x02
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_ARIB_BS         0x08
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_ARIB_CS         0x09
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_ARIB_T          0x0a
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_ATSC_CABLE      0x10
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_ATSC_SAT        0x11
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_ATSC_T          0x12
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_DVB_C           0x18
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_DVB_S           0x19
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_DVB_S2          0x1a
#define CEC_OP_DIG_SERVICE_BCAST_SYSTEM_DVB_T           0x1b
/* Analogue Broadcast Type Operand (ana_bcast_type) */
#define CEC_OP_ANA_BCAST_TYPE_CABLE                     0
#define CEC_OP_ANA_BCAST_TYPE_SATELLITE                 1
#define CEC_OP_ANA_BCAST_TYPE_TERRESTRIAL               2
/* Broadcast System Operand (bcast_system) */
#define CEC_OP_BCAST_SYSTEM_PAL_BG                      0x00
#define CEC_OP_BCAST_SYSTEM_SECAM_LQ                    0x01 /* SECAM L' */
#define CEC_OP_BCAST_SYSTEM_PAL_M                       0x02
#define CEC_OP_BCAST_SYSTEM_NTSC_M                      0x03
#define CEC_OP_BCAST_SYSTEM_PAL_I                       0x04
#define CEC_OP_BCAST_SYSTEM_SECAM_DK                    0x05
#define CEC_OP_BCAST_SYSTEM_SECAM_BG                    0x06
#define CEC_OP_BCAST_SYSTEM_SECAM_L                     0x07
#define CEC_OP_BCAST_SYSTEM_PAL_DK                      0x08
#define CEC_OP_BCAST_SYSTEM_OTHER                       0x1f
/* Channel Number Format Operand (channel_number_fmt) */
#define CEC_OP_CHANNEL_NUMBER_FMT_1_PART                0x01
#define CEC_OP_CHANNEL_NUMBER_FMT_2_PART                0x02

#define CEC_MSG_RECORD_STATUS                           0x0a
/* Record Status Operand (rec_status) */
#define CEC_OP_RECORD_STATUS_CUR_SRC                    0x01
#define CEC_OP_RECORD_STATUS_DIG_SERVICE                0x02
#define CEC_OP_RECORD_STATUS_ANA_SERVICE                0x03
#define CEC_OP_RECORD_STATUS_EXT_INPUT                  0x04
#define CEC_OP_RECORD_STATUS_NO_DIG_SERVICE             0x05
#define CEC_OP_RECORD_STATUS_NO_ANA_SERVICE             0x06
#define CEC_OP_RECORD_STATUS_NO_SERVICE                 0x07
#define CEC_OP_RECORD_STATUS_INVALID_EXT_PLUG           0x09
#define CEC_OP_RECORD_STATUS_INVALID_EXT_PHYS_ADDR      0x0a
#define CEC_OP_RECORD_STATUS_UNSUP_CA                   0x0b
#define CEC_OP_RECORD_STATUS_NO_CA_ENTITLEMENTS         0x0c
#define CEC_OP_RECORD_STATUS_CANT_COPY_SRC              0x0d
#define CEC_OP_RECORD_STATUS_NO_MORE_COPIES             0x0e
#define CEC_OP_RECORD_STATUS_NO_MEDIA                   0x10
#define CEC_OP_RECORD_STATUS_PLAYING                    0x11
#define CEC_OP_RECORD_STATUS_ALREADY_RECORDING          0x12
#define CEC_OP_RECORD_STATUS_MEDIA_PROT                 0x13
#define CEC_OP_RECORD_STATUS_NO_SIGNAL                  0x14
#define CEC_OP_RECORD_STATUS_MEDIA_PROBLEM              0x15
#define CEC_OP_RECORD_STATUS_NO_SPACE                   0x16
#define CEC_OP_RECORD_STATUS_PARENTAL_LOCK              0x17
#define CEC_OP_RECORD_STATUS_TERMINATED_OK              0x1a
#define CEC_OP_RECORD_STATUS_ALREADY_TERM               0x1b
#define CEC_OP_RECORD_STATUS_OTHER                      0x1f

#define CEC_MSG_RECORD_TV_SCREEN                        0x0f

/* Timer Programming Feature */
#define CEC_MSG_CLEAR_ANALOGUE_TIMER                    0x33
/* Recording Sequence Operand (recording_seq) */
#define CEC_OP_REC_SEQ_SUNDAY                           0x01
#define CEC_OP_REC_SEQ_MONDAY                           0x02
#define CEC_OP_REC_SEQ_TUESDAY                          0x04
#define CEC_OP_REC_SEQ_WEDNESDAY                        0x08
#define CEC_OP_REC_SEQ_THURSDAY                         0x10
#define CEC_OP_REC_SEQ_FRIDAY                           0x20
#define CEC_OP_REC_SEQ_SATERDAY                         0x40
#define CEC_OP_REC_SEQ_ONCE_ONLY                        0x00

#define CEC_MSG_CLEAR_DIGITAL_TIMER                     0x99

#define CEC_MSG_CLEAR_EXT_TIMER                         0xa1
/* External Source Specifier Operand (ext_src_spec) */
#define CEC_OP_EXT_SRC_PLUG                             0x04
#define CEC_OP_EXT_SRC_PHYS_ADDR                        0x05

#define CEC_MSG_SET_ANALOGUE_TIMER                      0x34
#define CEC_MSG_SET_DIGITAL_TIMER                       0x97
#define CEC_MSG_SET_EXT_TIMER                           0xa2

#define CEC_MSG_SET_TIMER_PROGRAM_TITLE                 0x67
#define CEC_MSG_TIMER_CLEARED_STATUS                    0x43
/* Timer Cleared Status Data Operand (timer_cleared_status) */
#define CEC_OP_TIMER_CLR_STAT_RECORDING                 0x00
#define CEC_OP_TIMER_CLR_STAT_NO_MATCHING               0x01
#define CEC_OP_TIMER_CLR_STAT_NO_INFO                   0x02
#define CEC_OP_TIMER_CLR_STAT_CLEARED                   0x80

#define CEC_MSG_TIMER_STATUS                            0x35
/* Timer Overlap Warning Operand (timer_overlap_warning) */
#define CEC_OP_TIMER_OVERLAP_WARNING_NO_OVERLAP         0
#define CEC_OP_TIMER_OVERLAP_WARNING_OVERLAP            1
/* Media Info Operand (media_info) */
#define CEC_OP_MEDIA_INFO_UNPROT_MEDIA                  0
#define CEC_OP_MEDIA_INFO_PROT_MEDIA                    1
#define CEC_OP_MEDIA_INFO_NO_MEDIA                      2
/* Programmed Indicator Operand (prog_indicator) */
#define CEC_OP_PROG_IND_NOT_PROGRAMMED                  0
#define CEC_OP_PROG_IND_PROGRAMMED                      1
/* Programmed Info Operand (prog_info) */
#define CEC_OP_PROG_INFO_ENOUGH_SPACE                   0x08
#define CEC_OP_PROG_INFO_NOT_ENOUGH_SPACE               0x09
#define CEC_OP_PROG_INFO_MIGHT_NOT_BE_ENOUGH_SPACE      0x0b
#define CEC_OP_PROG_INFO_NONE_AVAILABLE                 0x0a
/* Not Programmed Error Info Operand (prog_error) */
#define CEC_OP_PROG_ERROR_NO_FREE_TIMER                 0x01
#define CEC_OP_PROG_ERROR_DATE_OUT_OF_RANGE             0x02
#define CEC_OP_PROG_ERROR_REC_SEQ_ERROR                 0x03
#define CEC_OP_PROG_ERROR_INV_EXT_PLUG                  0x04
#define CEC_OP_PROG_ERROR_INV_EXT_PHYS_ADDR             0x05
#define CEC_OP_PROG_ERROR_CA_UNSUPP                     0x06
#define CEC_OP_PROG_ERROR_INSUF_CA_ENTITLEMENTS         0x07
#define CEC_OP_PROG_ERROR_RESOLUTION_UNSUPP             0x08
#define CEC_OP_PROG_ERROR_PARENTAL_LOCK                 0x09
#define CEC_OP_PROG_ERROR_CLOCK_FAILURE                 0x0a
#define CEC_OP_PROG_ERROR_DUPLICATE                     0x0e

/* System Information Feature */
#define CEC_MSG_CEC_VERSION                             0x9e
/* CEC Version Operand (cec_version) */
#define CEC_OP_CEC_VERSION_1_3A                         4
#define CEC_OP_CEC_VERSION_1_4                          5
#define CEC_OP_CEC_VERSION_2_0                          6

#define CEC_MSG_GET_CEC_VERSION                         0x9f
#define CEC_MSG_GIVE_PHYSICAL_ADDR                      0x83
#define CEC_MSG_GET_MENU_LANGUAGE                       0x91
#define CEC_MSG_REPORT_PHYSICAL_ADDR                    0x84
/* Primary Device Type Operand (prim_devtype) */
#define CEC_OP_PRIM_DEVTYPE_TV                          0
#define CEC_OP_PRIM_DEVTYPE_RECORD                      1
#define CEC_OP_PRIM_DEVTYPE_TUNER                       3
#define CEC_OP_PRIM_DEVTYPE_PLAYBACK                    4
#define CEC_OP_PRIM_DEVTYPE_AUDIOSYSTEM                 5
#define CEC_OP_PRIM_DEVTYPE_SWITCH                      6
#define CEC_OP_PRIM_DEVTYPE_PROCESSOR                   7

#define CEC_MSG_SET_MENU_LANGUAGE                       0x32
#define CEC_MSG_REPORT_FEATURES                         0xa6    /* HDMI 2.0 */
/* All Device Types Operand (all_device_types) */
#define CEC_OP_ALL_DEVTYPE_TV                           0x80
#define CEC_OP_ALL_DEVTYPE_RECORD                       0x40
#define CEC_OP_ALL_DEVTYPE_TUNER                        0x20
#define CEC_OP_ALL_DEVTYPE_PLAYBACK                     0x10
#define CEC_OP_ALL_DEVTYPE_AUDIOSYSTEM                  0x08
#define CEC_OP_ALL_DEVTYPE_SWITCH                       0x04
/*
 * And if you wondering what happened to PROCESSOR devices: those should
 * be mapped to a SWITCH.
 */

/* Valid for RC Profile and Device Feature operands */
#define CEC_OP_FEAT_EXT                                 0x80    /* Extension bit */
/* RC Profile Operand (rc_profile) */
#define CEC_OP_FEAT_RC_TV_PROFILE_NONE                  0x00
#define CEC_OP_FEAT_RC_TV_PROFILE_1                     0x02
#define CEC_OP_FEAT_RC_TV_PROFILE_2                     0x06
#define CEC_OP_FEAT_RC_TV_PROFILE_3                     0x0a
#define CEC_OP_FEAT_RC_TV_PROFILE_4                     0x0e
#define CEC_OP_FEAT_RC_SRC_HAS_DEV_ROOT_MENU            0x50
#define CEC_OP_FEAT_RC_SRC_HAS_DEV_SETUP_MENU           0x48
#define CEC_OP_FEAT_RC_SRC_HAS_CONTENTS_MENU            0x44
#define CEC_OP_FEAT_RC_SRC_HAS_MEDIA_TOP_MENU           0x42
#define CEC_OP_FEAT_RC_SRC_HAS_MEDIA_CONTEXT_MENU       0x41
/* Device Feature Operand (dev_features) */
#define CEC_OP_FEAT_DEV_HAS_RECORD_TV_SCREEN            0x40
#define CEC_OP_FEAT_DEV_HAS_SET_OSD_STRING              0x20
#define CEC_OP_FEAT_DEV_HAS_DECK_CONTROL                0x10
#define CEC_OP_FEAT_DEV_HAS_SET_AUDIO_RATE              0x08
#define CEC_OP_FEAT_DEV_SINK_HAS_ARC_TX                 0x04
#define CEC_OP_FEAT_DEV_SOURCE_HAS_ARC_RX               0x02

#define CEC_MSG_GIVE_FEATURES                           0xa5    /* HDMI 2.0 */

/* Deck Control Feature */
#define CEC_MSG_DECK_CONTROL                            0x42
/* Deck Control Mode Operand (deck_control_mode) */
#define CEC_OP_DECK_CTL_MODE_SKIP_FWD                   1
#define CEC_OP_DECK_CTL_MODE_SKIP_REV                   2
#define CEC_OP_DECK_CTL_MODE_STOP                       3
#define CEC_OP_DECK_CTL_MODE_EJECT                      4

#define CEC_MSG_DECK_STATUS                             0x1b
/* Deck Info Operand (deck_info) */
#define CEC_OP_DECK_INFO_PLAY                           0x11
#define CEC_OP_DECK_INFO_RECORD                         0x12
#define CEC_OP_DECK_INFO_PLAY_REV                       0x13
#define CEC_OP_DECK_INFO_STILL                          0x14
#define CEC_OP_DECK_INFO_SLOW                           0x15
#define CEC_OP_DECK_INFO_SLOW_REV                       0x16
#define CEC_OP_DECK_INFO_FAST_FWD                       0x17
#define CEC_OP_DECK_INFO_FAST_REV                       0x18
#define CEC_OP_DECK_INFO_NO_MEDIA                       0x19
#define CEC_OP_DECK_INFO_STOP                           0x1a
#define CEC_OP_DECK_INFO_SKIP_FWD                       0x1b
#define CEC_OP_DECK_INFO_SKIP_REV                       0x1c
#define CEC_OP_DECK_INFO_INDEX_SEARCH_FWD               0x1d
#define CEC_OP_DECK_INFO_INDEX_SEARCH_REV               0x1e
#define CEC_OP_DECK_INFO_OTHER                          0x1f

#define CEC_MSG_GIVE_DECK_STATUS                        0x1a
/* Status Request Operand (status_req) */
#define CEC_OP_STATUS_REQ_ON                            1
#define CEC_OP_STATUS_REQ_OFF                           2
#define CEC_OP_STATUS_REQ_ONCE                          3

#define CEC_MSG_PLAY                                    0x41
/* Play Mode Operand (play_mode) */
#define CEC_OP_PLAY_MODE_PLAY_FWD                       0x24
#define CEC_OP_PLAY_MODE_PLAY_REV                       0x20
#define CEC_OP_PLAY_MODE_PLAY_STILL                     0x25
#define CEC_OP_PLAY_MODE_PLAY_FAST_FWD_MIN              0x05
#define CEC_OP_PLAY_MODE_PLAY_FAST_FWD_MED              0x06
#define CEC_OP_PLAY_MODE_PLAY_FAST_FWD_MAX              0x07
#define CEC_OP_PLAY_MODE_PLAY_FAST_REV_MIN              0x09
#define CEC_OP_PLAY_MODE_PLAY_FAST_REV_MED              0x0a
#define CEC_OP_PLAY_MODE_PLAY_FAST_REV_MAX              0x0b
#define CEC_OP_PLAY_MODE_PLAY_SLOW_FWD_MIN              0x15
#define CEC_OP_PLAY_MODE_PLAY_SLOW_FWD_MED              0x16
#define CEC_OP_PLAY_MODE_PLAY_SLOW_FWD_MAX              0x17
#define CEC_OP_PLAY_MODE_PLAY_SLOW_REV_MIN              0x19
#define CEC_OP_PLAY_MODE_PLAY_SLOW_REV_MED              0x1a
#define CEC_OP_PLAY_MODE_PLAY_SLOW_REV_MAX              0x1b

/* Tuner Control Feature */
#define CEC_MSG_GIVE_TUNER_DEVICE_STATUS                0x08
#define CEC_MSG_SELECT_ANALOGUE_SERVICE                 0x92
#define CEC_MSG_SELECT_DIGITAL_SERVICE                  0x93
#define CEC_MSG_TUNER_DEVICE_STATUS                     0x07
/* Recording Flag Operand (rec_flag) */
#define CEC_OP_REC_FLAG_USED                            0
#define CEC_OP_REC_FLAG_NOT_USED                        1
/* Tuner Display Info Operand (tuner_display_info) */
#define CEC_OP_TUNER_DISPLAY_INFO_DIGITAL               0
#define CEC_OP_TUNER_DISPLAY_INFO_NONE                  1
#define CEC_OP_TUNER_DISPLAY_INFO_ANALOGUE              2

#define CEC_MSG_TUNER_STEP_DECREMENT                    0x06
#define CEC_MSG_TUNER_STEP_INCREMENT                    0x05

/* Vendor Specific Commands Feature */

/*
 * Has also:
 *      CEC_MSG_CEC_VERSION
 *      CEC_MSG_GET_CEC_VERSION
 */
#define CEC_MSG_DEVICE_VENDOR_ID                        0x87
#define CEC_MSG_GIVE_DEVICE_VENDOR_ID                   0x8c
#define CEC_MSG_VENDOR_COMMAND                          0x89
#define CEC_MSG_VENDOR_COMMAND_WITH_ID                  0xa0
#define CEC_MSG_VENDOR_REMOTE_BUTTON_DOWN               0x8a
#define CEC_MSG_VENDOR_REMOTE_BUTTON_UP                 0x8b

/* OSD Display Feature */
#define CEC_MSG_SET_OSD_STRING                          0x64
/* Display Control Operand (disp_ctl) */
#define CEC_OP_DISP_CTL_DEFAULT                         0x00
#define CEC_OP_DISP_CTL_UNTIL_CLEARED                   0x40
#define CEC_OP_DISP_CTL_CLEAR                           0x80

/* Device OSD Transfer Feature */
#define CEC_MSG_GIVE_OSD_NAME                           0x46
#define CEC_MSG_SET_OSD_NAME                            0x47

/* Device Menu Control Feature */
#define CEC_MSG_MENU_REQUEST                            0x8d
/* Menu Request Type Operand (menu_req) */
#define CEC_OP_MENU_REQUEST_ACTIVATE                    0x00
#define CEC_OP_MENU_REQUEST_DEACTIVATE                  0x01
#define CEC_OP_MENU_REQUEST_QUERY                       0x02

#define CEC_MSG_MENU_STATUS                             0x8e
/* Menu State Operand (menu_state) */
#define CEC_OP_MENU_STATE_ACTIVATED                     0x00
#define CEC_OP_MENU_STATE_DEACTIVATED                   0x01

#define CEC_MSG_USER_CONTROL_PRESSED                    0x44
/* UI Broadcast Type Operand (ui_bcast_type) */
#define CEC_OP_UI_BCAST_TYPE_TOGGLE_ALL                 0x00
#define CEC_OP_UI_BCAST_TYPE_TOGGLE_DIG_ANA             0x01
#define CEC_OP_UI_BCAST_TYPE_ANALOGUE                   0x10
#define CEC_OP_UI_BCAST_TYPE_ANALOGUE_T                 0x20
#define CEC_OP_UI_BCAST_TYPE_ANALOGUE_CABLE             0x30
#define CEC_OP_UI_BCAST_TYPE_ANALOGUE_SAT               0x40
#define CEC_OP_UI_BCAST_TYPE_DIGITAL                    0x50
#define CEC_OP_UI_BCAST_TYPE_DIGITAL_T                  0x60
#define CEC_OP_UI_BCAST_TYPE_DIGITAL_CABLE              0x70
#define CEC_OP_UI_BCAST_TYPE_DIGITAL_SAT                0x80
#define CEC_OP_UI_BCAST_TYPE_DIGITAL_COM_SAT            0x90
#define CEC_OP_UI_BCAST_TYPE_DIGITAL_COM_SAT2           0x91
#define CEC_OP_UI_BCAST_TYPE_IP                         0xa0
/* UI Sound Presentation Control Operand (ui_snd_pres_ctl) */
#define CEC_OP_UI_SND_PRES_CTL_DUAL_MONO                0x10
#define CEC_OP_UI_SND_PRES_CTL_KARAOKE                  0x20
#define CEC_OP_UI_SND_PRES_CTL_DOWNMIX                  0x80
#define CEC_OP_UI_SND_PRES_CTL_REVERB                   0x90
#define CEC_OP_UI_SND_PRES_CTL_EQUALIZER                0xa0
#define CEC_OP_UI_SND_PRES_CTL_BASS_UP                  0xb1
#define CEC_OP_UI_SND_PRES_CTL_BASS_NEUTRAL             0xb2
#define CEC_OP_UI_SND_PRES_CTL_BASS_DOWN                0xb3
#define CEC_OP_UI_SND_PRES_CTL_TREBLE_UP                0xc1
#define CEC_OP_UI_SND_PRES_CTL_TREBLE_NEUTRAL           0xc2
#define CEC_OP_UI_SND_PRES_CTL_TREBLE_DOWN              0xc3

#define CEC_MSG_USER_CONTROL_RELEASED                   0x45

/* Remote Control Passthrough Feature */

/*
 * Has also:
 *      CEC_MSG_USER_CONTROL_PRESSED
 *      CEC_MSG_USER_CONTROL_RELEASED
 */

/* Power Status Feature */
#define CEC_MSG_GIVE_DEVICE_POWER_STATUS                0x8f
#define CEC_MSG_REPORT_POWER_STATUS                     0x90
/* Power Status Operand (pwr_state) */
#define CEC_OP_POWER_STATUS_ON                          0
#define CEC_OP_POWER_STATUS_STANDBY                     1
#define CEC_OP_POWER_STATUS_TO_ON                       2
#define CEC_OP_POWER_STATUS_TO_STANDBY                  3

/* General Protocol Messages */
#define CEC_MSG_FEATURE_ABORT                           0x00
/* Abort Reason Operand (reason) */
#define CEC_OP_ABORT_UNRECOGNIZED_OP                    0
#define CEC_OP_ABORT_INCORRECT_MODE                     1
#define CEC_OP_ABORT_NO_SOURCE                          2
#define CEC_OP_ABORT_INVALID_OP                         3
#define CEC_OP_ABORT_REFUSED                            4
#define CEC_OP_ABORT_UNDETERMINED                       5

#define CEC_MSG_ABORT                                   0xff

/* System Audio Control Feature */

/*
 * Has also:
 *      CEC_MSG_USER_CONTROL_PRESSED
 *      CEC_MSG_USER_CONTROL_RELEASED
 */
#define CEC_MSG_GIVE_AUDIO_STATUS                       0x71
#define CEC_MSG_GIVE_SYSTEM_AUDIO_MODE_STATUS           0x7d
#define CEC_MSG_REPORT_AUDIO_STATUS                     0x7a
/* Audio Mute Status Operand (aud_mute_status) */
#define CEC_OP_AUD_MUTE_STATUS_OFF                      0
#define CEC_OP_AUD_MUTE_STATUS_ON                       1

#define CEC_MSG_REPORT_SHORT_AUDIO_DESCRIPTOR           0xa3
#define CEC_MSG_REQUEST_SHORT_AUDIO_DESCRIPTOR          0xa4
#define CEC_MSG_SET_SYSTEM_AUDIO_MODE                   0x72
/* System Audio Status Operand (sys_aud_status) */
#define CEC_OP_SYS_AUD_STATUS_OFF                       0
#define CEC_OP_SYS_AUD_STATUS_ON                        1

#define CEC_MSG_SYSTEM_AUDIO_MODE_REQUEST               0x70
#define CEC_MSG_SYSTEM_AUDIO_MODE_STATUS                0x7e
/* Audio Format ID Operand (audio_format_id) */
#define CEC_OP_AUD_FMT_ID_CEA861                        0
#define CEC_OP_AUD_FMT_ID_CEA861_CXT                    1

/* Audio Rate Control Feature */
#define CEC_MSG_SET_AUDIO_RATE                          0x9a
/* Audio Rate Operand (audio_rate) */
#define CEC_OP_AUD_RATE_OFF                             0
#define CEC_OP_AUD_RATE_WIDE_STD                        1
#define CEC_OP_AUD_RATE_WIDE_FAST                       2
#define CEC_OP_AUD_RATE_WIDE_SLOW                       3
#define CEC_OP_AUD_RATE_NARROW_STD                      4
#define CEC_OP_AUD_RATE_NARROW_FAST                     5
#define CEC_OP_AUD_RATE_NARROW_SLOW                     6

/* Audio Return Channel Control Feature */
#define CEC_MSG_INITIATE_ARC                            0xc0
#define CEC_MSG_REPORT_ARC_INITIATED                    0xc1
#define CEC_MSG_REPORT_ARC_TERMINATED                   0xc2
#define CEC_MSG_REQUEST_ARC_INITIATION                  0xc3
#define CEC_MSG_REQUEST_ARC_TERMINATION                 0xc4
#define CEC_MSG_TERMINATE_ARC                           0xc5

/* Dynamic Audio Lipsync Feature */
/* Only for CEC 2.0 and up */
#define CEC_MSG_REQUEST_CURRENT_LATENCY                 0xa7
#define CEC_MSG_REPORT_CURRENT_LATENCY                  0xa8
/* Low Latency Mode Operand (low_latency_mode) */
#define CEC_OP_LOW_LATENCY_MODE_OFF                     0
#define CEC_OP_LOW_LATENCY_MODE_ON                      1
/* Audio Output Compensated Operand (audio_out_compensated) */
#define CEC_OP_AUD_OUT_COMPENSATED_NA                   0
#define CEC_OP_AUD_OUT_COMPENSATED_DELAY                1
#define CEC_OP_AUD_OUT_COMPENSATED_NO_DELAY             2
#define CEC_OP_AUD_OUT_COMPENSATED_PARTIAL_DELAY        3

/* Capability Discovery and Control Feature */
#define CEC_MSG_CDC_MESSAGE                             0xf8
/* Ethernet-over-HDMI: nobody ever does this... */
#define CEC_MSG_CDC_HEC_INQUIRE_STATE                   0x00
#define CEC_MSG_CDC_HEC_REPORT_STATE                    0x01
/* HEC Functionality State Operand (hec_func_state) */
#define CEC_OP_HEC_FUNC_STATE_NOT_SUPPORTED             0
#define CEC_OP_HEC_FUNC_STATE_INACTIVE                  1
#define CEC_OP_HEC_FUNC_STATE_ACTIVE                    2
#define CEC_OP_HEC_FUNC_STATE_ACTIVATION_FIELD          3
/* Host Functionality State Operand (host_func_state) */
#define CEC_OP_HOST_FUNC_STATE_NOT_SUPPORTED            0
#define CEC_OP_HOST_FUNC_STATE_INACTIVE                 1
#define CEC_OP_HOST_FUNC_STATE_ACTIVE                   2
/* ENC Functionality State Operand (enc_func_state) */
#define CEC_OP_ENC_FUNC_STATE_EXT_CON_NOT_SUPPORTED     0
#define CEC_OP_ENC_FUNC_STATE_EXT_CON_INACTIVE          1
#define CEC_OP_ENC_FUNC_STATE_EXT_CON_ACTIVE            2
/* CDC Error Code Operand (cdc_errcode) */
#define CEC_OP_CDC_ERROR_CODE_NONE                      0
#define CEC_OP_CDC_ERROR_CODE_CAP_UNSUPPORTED           1
#define CEC_OP_CDC_ERROR_CODE_WRONG_STATE               2
#define CEC_OP_CDC_ERROR_CODE_OTHER                     3
/* HEC Support Operand (hec_support) */
#define CEC_OP_HEC_SUPPORT_NO                           0
#define CEC_OP_HEC_SUPPORT_YES                          1
/* HEC Activation Operand (hec_activation) */
#define CEC_OP_HEC_ACTIVATION_ON                        0
#define CEC_OP_HEC_ACTIVATION_OFF                       1

#define CEC_MSG_CDC_HEC_SET_STATE_ADJACENT              0x02
#define CEC_MSG_CDC_HEC_SET_STATE                       0x03
/* HEC Set State Operand (hec_set_state) */
#define CEC_OP_HEC_SET_STATE_DEACTIVATE                 0
#define CEC_OP_HEC_SET_STATE_ACTIVATE                   1

#define CEC_MSG_CDC_HEC_REQUEST_DEACTIVATION            0x04
#define CEC_MSG_CDC_HEC_NOTIFY_ALIVE                    0x05
#define CEC_MSG_CDC_HEC_DISCOVER                        0x06
/* Hotplug Detect messages */
#define CEC_MSG_CDC_HPD_SET_STATE                       0x10
/* HPD State Operand (hpd_state) */
#define CEC_OP_HPD_STATE_CP_EDID_DISABLE                0
#define CEC_OP_HPD_STATE_CP_EDID_ENABLE                 1
#define CEC_OP_HPD_STATE_CP_EDID_DISABLE_ENABLE         2
#define CEC_OP_HPD_STATE_EDID_DISABLE                   3
#define CEC_OP_HPD_STATE_EDID_ENABLE                    4
#define CEC_OP_HPD_STATE_EDID_DISABLE_ENABLE            5
#define CEC_MSG_CDC_HPD_REPORT_STATE                    0x11
/* HPD Error Code Operand (hpd_error) */
#define CEC_OP_HPD_ERROR_NONE                           0
#define CEC_OP_HPD_ERROR_INITIATOR_NOT_CAPABLE          1
#define CEC_OP_HPD_ERROR_INITIATOR_WRONG_STATE          2
#define CEC_OP_HPD_ERROR_OTHER                          3
#define CEC_OP_HPD_ERROR_NONE_NO_VIDEO                  4

/* End of Messages */

/* Helper functions to identify the 'special' CEC devices */

static inline int cec_is_2nd_tv(const struct <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a> *las)
{
        /*
         * It is a second TV if the logical address is 14 or 15 and the
         * primary device type is a TV.
         */
        return las-&gt;num_log_addrs &amp;&amp;
               las-&gt;log_addr[0] &gt;= CEC_LOG_ADDR_SPECIFIC &amp;&amp;
               las-&gt;primary_device_type[0] == CEC_OP_PRIM_DEVTYPE_TV;
}

static inline int cec_is_processor(const struct <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a> *las)
{
        /*
         * It is a processor if the logical address is 12-15 and the
         * primary device type is a Processor.
         */
        return las-&gt;num_log_addrs &amp;&amp;
               las-&gt;log_addr[0] &gt;= CEC_LOG_ADDR_BACKUP_1 &amp;&amp;
               las-&gt;primary_device_type[0] == CEC_OP_PRIM_DEVTYPE_PROCESSOR;
}

static inline int cec_is_switch(const struct <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a> *las)
{
        /*
         * It is a switch if the logical address is 15 and the
         * primary device type is a Switch and the CDC-Only flag is not set.
         */
        return las-&gt;num_log_addrs == 1 &amp;&amp;
               las-&gt;log_addr[0] == CEC_LOG_ADDR_UNREGISTERED &amp;&amp;
               las-&gt;primary_device_type[0] == CEC_OP_PRIM_DEVTYPE_SWITCH &amp;&amp;
               !(las-&gt;flags &amp; <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addrs-fl-cdc-only"><span class="std std-ref">CEC_LOG_ADDRS_FL_CDC_ONLY</span></a>);
}

static inline int cec_is_cdc_only(const struct <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a> *las)
{
        /*
         * It is a CDC-only device if the logical address is 15 and the
         * primary device type is a Switch and the CDC-Only flag is set.
         */
        return las-&gt;num_log_addrs == 1 &amp;&amp;
               las-&gt;log_addr[0] == CEC_LOG_ADDR_UNREGISTERED &amp;&amp;
               las-&gt;primary_device_type[0] == CEC_OP_PRIM_DEVTYPE_SWITCH &amp;&amp;
               (las-&gt;flags &amp; <a class="reference internal" href="cec-ioc-adap-g-log-addrs.html#cec-log-addrs-fl-cdc-only"><span class="std std-ref">CEC_LOG_ADDRS_FL_CDC_ONLY</span></a>);
}

#endif
</pre>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../gen-errors.html" class="btn btn-neutral float-right" title="Generic Error Codes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cec-pin-error-inj.html" class="btn btn-neutral float-left" title="3. CEC Pin Framework Error Injection" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>