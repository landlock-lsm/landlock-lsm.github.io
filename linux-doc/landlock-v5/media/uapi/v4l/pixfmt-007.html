

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.6. Detailed Colorspace Descriptions &mdash; The Linux Kernel 4.10.0-rc8+ documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="The Linux Kernel 4.10.0-rc8+ documentation" href="../../../index.html"/>
        <link rel="up" title="2. Image Formats" href="pixfmt.html"/>
        <link rel="next" title="2.7. Detailed Transfer Function Descriptions" href="pixfmt-008.html"/>
        <link rel="prev" title="2.5. Defining Colorspaces in V4L2" href="pixfmt-006.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                4.10.0-rc8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">The Linux kernel user&#8217;s and administrator&#8217;s guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">How to write kernel documentation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">The Linux driver implementer&#8217;s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Linux Media Subsystem Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../media_uapi.html">Linux Media Infrastructure userspace API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="v4l2.html">Part I - Video for Linux API</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="common.html">1. Common API Elements</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="pixfmt.html">2. Image Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html">3. Input/Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="devices.html">4. Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="driver.html">5. V4L2 Driver Programming</a></li>
<li class="toctree-l4"><a class="reference internal" href="libv4l.html">6. Libv4l Userspace Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="compat.html">7. Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="user-func.html">8. Function Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="common-defs.html">9. Common definitions for V4L2 and V4L2 subdev interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="videodev.html">10. Video For Linux Two Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="capture-example.html">11. Video Capture Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2grab-example.html">12. Video Grabber example using libv4l</a></li>
<li class="toctree-l4"><a class="reference internal" href="biblio.html">13. References</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2.html#revision-and-copyright">Revision and Copyright</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2.html#revision-history">Revision History</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../dvb/dvbapi.html">Part II - Digital TV API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rc/remote_controllers.html">Part III - Remote Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mediactl/media-controller.html">Part IV - Media Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cec/cec-api.html">Part V - Consumer Electronics Control API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gen-errors.html">Generic Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fdl-appendix.html">GNU Free Documentation License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../media_kapi.html">Media subsystem kernel internal API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dvb-drivers/index.html">Linux Digital TV driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v4l-drivers/index.html">Video4Linux (V4L)  driver-specific documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../gpu/index.html">Linux GPU Driver Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../crypto/index.html">Linux Kernel Crypto API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/ko_KR/index.html">Korean translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">The Linux Kernel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Linux Media Subsystem Documentation</a> &raquo;</li>
      
          <li><a href="../../media_uapi.html">Linux Media Infrastructure userspace API</a> &raquo;</li>
      
          <li><a href="v4l2.html">Part I - Video for Linux API</a> &raquo;</li>
      
          <li><a href="pixfmt.html">2. Image Formats</a> &raquo;</li>
      
    <li>2.6. Detailed Colorspace Descriptions</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/media/uapi/v4l/pixfmt-007.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="detailed-colorspace-descriptions">
<h1>2.6. Detailed Colorspace Descriptions<a class="headerlink" href="#detailed-colorspace-descriptions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="colorspace-smpte-170m-v4l2-colorspace-smpte170m">
<span id="col-smpte-170m"></span><h2>2.6.1. Colorspace SMPTE 170M (V4L2_COLORSPACE_SMPTE170M)<a class="headerlink" href="#colorspace-smpte-170m-v4l2-colorspace-smpte170m" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="biblio.html#smpte170m"><span class="std std-ref">SMPTE 170M</span></a> standard defines the colorspace used by NTSC and
PAL and by SDTV in general. The default transfer function is
<code class="docutils literal"><span class="pre">V4L2_XFER_FUNC_709</span></code>. The default Y&#8217;CbCr encoding is
<code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code>. The default Y&#8217;CbCr quantization is limited
range. The chromaticities of the primary colors and the white reference
are:</p>
<table border="1" class="docutils" id="id1">
<caption><span class="caption-text">SMPTE 170M Chromaticities</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Color</th>
<th class="head">x</th>
<th class="head">y</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Red</td>
<td>0.630</td>
<td>0.340</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>0.310</td>
<td>0.595</td>
</tr>
<tr class="row-even"><td>Blue</td>
<td>0.155</td>
<td>0.070</td>
</tr>
<tr class="row-odd"><td>White Reference (D65)</td>
<td>0.3127</td>
<td>0.3290</td>
</tr>
</tbody>
</table>
<p>The red, green and blue chromaticities are also often referred to as the
SMPTE C set, so this colorspace is sometimes called SMPTE C as well.</p>
<p>The transfer function defined for SMPTE 170M is the same as the one
defined in Rec. 709.</p>
<div class="math">
<p><span class="math">L' = -1.099(-L)^{0.45} + 0.099 \text{, for } L \le-0.018

L' = 4.5L \text{, for } -0.018 &lt; L &lt; 0.018

L' = 1.099L^{0.45} - 0.099 \text{, for } L \ge 0.018</span></p>
</div><p>Inverse Transfer function:</p>
<div class="math">
<p><span class="math">L = -\left( \frac{L' - 0.099}{-1.099} \right) ^{\frac{1}{0.45}} \text{, for } L' \le -0.081

L = \frac{L'}{4.5} \text{, for } -0.081 &lt; L' &lt; 0.081

L = \left(\frac{L' + 0.099}{1.099}\right)^{\frac{1}{0.45} } \text{, for } L' \ge 0.081</span></p>
</div><p>The luminance (Y&#8217;) and color difference (Cb and Cr) are obtained with
the following <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code> encoding:</p>
<div class="math">
<p><span class="math">Y' = 0.2990R' + 0.5870G' + 0.1140B'

Cb = -0.1687R' - 0.3313G' + 0.5B'

Cr = 0.5R' - 0.4187G' - 0.0813B'</span></p>
</div><p>Y&#8217; is clamped to the range [0…1] and Cb and Cr are clamped to the range
[-0.5…0.5]. This conversion to Y&#8217;CbCr is identical to the one defined in
the <a class="reference internal" href="biblio.html#itu601"><span class="std std-ref">ITU BT.601</span></a> standard and this colorspace is sometimes called
BT.601 as well, even though BT.601 does not mention any color primaries.</p>
<p>The default quantization is limited range, but full range is possible
although rarely seen.</p>
</div>
<div class="section" id="colorspace-rec-709-v4l2-colorspace-rec709">
<span id="col-rec709"></span><h2>2.6.2. Colorspace Rec. 709 (V4L2_COLORSPACE_REC709)<a class="headerlink" href="#colorspace-rec-709-v4l2-colorspace-rec709" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="biblio.html#itu709"><span class="std std-ref">ITU BT.709</span></a> standard defines the colorspace used by HDTV in
general. The default transfer function is <code class="docutils literal"><span class="pre">V4L2_XFER_FUNC_709</span></code>. The
default Y&#8217;CbCr encoding is <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_709</span></code>. The default Y&#8217;CbCr
quantization is limited range. The chromaticities of the primary colors
and the white reference are:</p>
<table border="1" class="docutils" id="id2">
<caption><span class="caption-text">Rec. 709 Chromaticities</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Color</th>
<th class="head">x</th>
<th class="head">y</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Red</td>
<td>0.640</td>
<td>0.330</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>0.300</td>
<td>0.600</td>
</tr>
<tr class="row-even"><td>Blue</td>
<td>0.150</td>
<td>0.060</td>
</tr>
<tr class="row-odd"><td>White Reference (D65)</td>
<td>0.3127</td>
<td>0.3290</td>
</tr>
</tbody>
</table>
<p>The full name of this standard is Rec. ITU-R BT.709-5.</p>
<p>Transfer function. Normally L is in the range [0…1], but for the
extended gamut xvYCC encoding values outside that range are allowed.</p>
<div class="math">
<p><span class="math">L' = -1.099(-L)^{0.45} + 0.099 \text{, for } L \le -0.018

L' = 4.5L \text{, for } -0.018 &lt; L &lt; 0.018

L' = 1.099L^{0.45} - 0.099 \text{, for } L \ge 0.018</span></p>
</div><p>Inverse Transfer function:</p>
<div class="math">
<p><span class="math">L = -\left( \frac{L' - 0.099}{-1.099} \right)^\frac{1}{0.45} \text{, for } L' \le -0.081

L = \frac{L'}{4.5}\text{, for } -0.081 &lt; L' &lt; 0.081

L = \left(\frac{L' + 0.099}{1.099}\right)^{\frac{1}{0.45} } \text{, for } L' \ge 0.081</span></p>
</div><p>The luminance (Y&#8217;) and color difference (Cb and Cr) are obtained with
the following <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_709</span></code> encoding:</p>
<div class="math">
<p><span class="math">Y' = 0.2126R' + 0.7152G' + 0.0722B'

Cb = -0.1146R' - 0.3854G' + 0.5B'

Cr = 0.5R' - 0.4542G' - 0.0458B'</span></p>
</div><p>Y&#8217; is clamped to the range [0…1] and Cb and Cr are clamped to the range
[-0.5…0.5].</p>
<p>The default quantization is limited range, but full range is possible
although rarely seen.</p>
<p>The <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_709</span></code> encoding described above is the default for
this colorspace, but it can be overridden with <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code>,
in which case the BT.601 Y&#8217;CbCr encoding is used.</p>
<p>Two additional extended gamut Y&#8217;CbCr encodings are also possible with
this colorspace:</p>
<p>The xvYCC 709 encoding (<code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_XV709</span></code>, <a class="reference internal" href="biblio.html#xvycc"><span class="std std-ref">xvYCC</span></a>) is
similar to the Rec. 709 encoding, but it allows for R&#8217;, G&#8217; and B&#8217; values
that are outside the range [0…1]. The resulting Y&#8217;, Cb and Cr values are
scaled and offset:</p>
<div class="math">
<p><span class="math">Y' = \frac{219}{256} * (0.2126R' + 0.7152G' + 0.0722B') + \frac{16}{256}

Cb = \frac{224}{256} * (-0.1146R' - 0.3854G' + 0.5B')

Cr = \frac{224}{256} * (0.5R' - 0.4542G' - 0.0458B')</span></p>
</div><p>The xvYCC 601 encoding (<code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_XV601</span></code>, <a class="reference internal" href="biblio.html#xvycc"><span class="std std-ref">xvYCC</span></a>) is
similar to the BT.601 encoding, but it allows for R&#8217;, G&#8217; and B&#8217; values
that are outside the range [0…1]. The resulting Y&#8217;, Cb and Cr values are
scaled and offset:</p>
<div class="math">
<p><span class="math">Y' = \frac{219}{256} * (0.2990R' + 0.5870G' + 0.1140B') + \frac{16}{256}

Cb = \frac{224}{256} * (-0.1687R' - 0.3313G' + 0.5B')

Cr = \frac{224}{256} * (0.5R' - 0.4187G' - 0.0813B')</span></p>
</div><p>Y&#8217; is clamped to the range [0…1] and Cb and Cr are clamped to the range
[-0.5…0.5]. The non-standard xvYCC 709 or xvYCC 601 encodings can be
used by selecting <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_XV709</span></code> or <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_XV601</span></code>.
The xvYCC encodings always use full range quantization.</p>
</div>
<div class="section" id="colorspace-srgb-v4l2-colorspace-srgb">
<span id="col-srgb"></span><h2>2.6.3. Colorspace sRGB (V4L2_COLORSPACE_SRGB)<a class="headerlink" href="#colorspace-srgb-v4l2-colorspace-srgb" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="biblio.html#srgb"><span class="std std-ref">sRGB</span></a> standard defines the colorspace used by most webcams
and computer graphics. The default transfer function is
<code class="docutils literal"><span class="pre">V4L2_XFER_FUNC_SRGB</span></code>. The default Y&#8217;CbCr encoding is
<code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code>. The default Y&#8217;CbCr quantization is limited range.</p>
<p>Note that the <a class="reference internal" href="biblio.html#sycc"><span class="std std-ref">sYCC</span></a> standard specifies full range quantization,
however all current capture hardware supported by the kernel convert
R&#8217;G&#8217;B&#8217; to limited range Y&#8217;CbCr. So choosing full range as the default
would break how applications interpret the quantization range.</p>
<p>The chromaticities of the primary colors and the white reference are:</p>
<table border="1" class="docutils" id="id3">
<caption><span class="caption-text">sRGB Chromaticities</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Color</th>
<th class="head">x</th>
<th class="head">y</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Red</td>
<td>0.640</td>
<td>0.330</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>0.300</td>
<td>0.600</td>
</tr>
<tr class="row-even"><td>Blue</td>
<td>0.150</td>
<td>0.060</td>
</tr>
<tr class="row-odd"><td>White Reference (D65)</td>
<td>0.3127</td>
<td>0.3290</td>
</tr>
</tbody>
</table>
<p>These chromaticities are identical to the Rec. 709 colorspace.</p>
<p>Transfer function. Note that negative values for L are only used by the
Y&#8217;CbCr conversion.</p>
<div class="math">
<p><span class="math">L' = -1.055(-L)^{\frac{1}{2.4} } + 0.055\text{, for }L &lt; -0.0031308

L' = 12.92L\text{, for }-0.0031308 \le L \le 0.0031308

L' = 1.055L ^{\frac{1}{2.4} } - 0.055\text{, for }0.0031308 &lt; L \le 1</span></p>
</div><p>Inverse Transfer function:</p>
<div class="math">
<p><span class="math">L = -((-L' + 0.055) / 1.055) ^{2.4}\text{, for }L' &lt; -0.04045

L = L' / 12.92\text{, for }-0.04045 \le L' \le 0.04045

L = ((L' + 0.055) / 1.055) ^{2.4}\text{, for }L' &gt; 0.04045</span></p>
</div><p>The luminance (Y&#8217;) and color difference (Cb and Cr) are obtained with
the following <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code> encoding as defined by <a class="reference internal" href="biblio.html#sycc"><span class="std std-ref">sYCC</span></a>:</p>
<div class="math">
<p><span class="math">Y' = 0.2990R' + 0.5870G' + 0.1140B'

Cb = -0.1687R' - 0.3313G' + 0.5B'

Cr = 0.5R' - 0.4187G' - 0.0813B'</span></p>
</div><p>Y&#8217; is clamped to the range [0…1] and Cb and Cr are clamped to the range
[-0.5…0.5]. This transform is identical to one defined in SMPTE
170M/BT.601. The Y&#8217;CbCr quantization is limited range.</p>
</div>
<div class="section" id="colorspace-adobe-rgb-v4l2-colorspace-adobergb">
<span id="col-adobergb"></span><h2>2.6.4. Colorspace Adobe RGB (V4L2_COLORSPACE_ADOBERGB)<a class="headerlink" href="#colorspace-adobe-rgb-v4l2-colorspace-adobergb" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="biblio.html#adobergb"><span class="std std-ref">AdobeRGB</span></a> standard defines the colorspace used by computer
graphics that use the AdobeRGB colorspace. This is also known as the
<a class="reference internal" href="biblio.html#oprgb"><span class="std std-ref">opRGB</span></a> standard. The default transfer function is
<code class="docutils literal"><span class="pre">V4L2_XFER_FUNC_ADOBERGB</span></code>. The default Y&#8217;CbCr encoding is
<code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code>. The default Y&#8217;CbCr quantization is limited
range.</p>
<p>Note that the <a class="reference internal" href="biblio.html#oprgb"><span class="std std-ref">opRGB</span></a> standard specifies full range quantization,
however all current capture hardware supported by the kernel convert
R&#8217;G&#8217;B&#8217; to limited range Y&#8217;CbCr. So choosing full range as the default
would break how applications interpret the quantization range.</p>
<p>The chromaticities of the primary colors and the white reference are:</p>
<table border="1" class="docutils" id="id4">
<caption><span class="caption-text">Adobe RGB Chromaticities</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Color</th>
<th class="head">x</th>
<th class="head">y</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Red</td>
<td>0.6400</td>
<td>0.3300</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>0.2100</td>
<td>0.7100</td>
</tr>
<tr class="row-even"><td>Blue</td>
<td>0.1500</td>
<td>0.0600</td>
</tr>
<tr class="row-odd"><td>White Reference (D65)</td>
<td>0.3127</td>
<td>0.3290</td>
</tr>
</tbody>
</table>
<p>Transfer function:</p>
<div class="math">
<p><span class="math">L' = L ^{\frac{1}{2.19921875}}</span></p>
</div><p>Inverse Transfer function:</p>
<div class="math">
<p><span class="math">L = L'^{(2.19921875)}</span></p>
</div><p>The luminance (Y&#8217;) and color difference (Cb and Cr) are obtained with
the following <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code> encoding:</p>
<div class="math">
<p><span class="math">Y' = 0.2990R' + 0.5870G' + 0.1140B'

Cb = -0.1687R' - 0.3313G' + 0.5B'

Cr = 0.5R' - 0.4187G' - 0.0813B'</span></p>
</div><p>Y&#8217; is clamped to the range [0…1] and Cb and Cr are clamped to the range
[-0.5…0.5]. This transform is identical to one defined in SMPTE
170M/BT.601. The Y&#8217;CbCr quantization is limited range.</p>
</div>
<div class="section" id="colorspace-bt-2020-v4l2-colorspace-bt2020">
<span id="col-bt2020"></span><h2>2.6.5. Colorspace BT.2020 (V4L2_COLORSPACE_BT2020)<a class="headerlink" href="#colorspace-bt-2020-v4l2-colorspace-bt2020" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="biblio.html#itu2020"><span class="std std-ref">ITU BT.2020</span></a> standard defines the colorspace used by Ultra-high
definition television (UHDTV). The default transfer function is
<code class="docutils literal"><span class="pre">V4L2_XFER_FUNC_709</span></code>. The default Y&#8217;CbCr encoding is
<code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_BT2020</span></code>. The default R&#8217;G&#8217;B&#8217; quantization is limited
range (!), and so is the default Y&#8217;CbCr quantization. The chromaticities
of the primary colors and the white reference are:</p>
<table border="1" class="docutils" id="id5">
<caption><span class="caption-text">BT.2020 Chromaticities</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Color</th>
<th class="head">x</th>
<th class="head">y</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Red</td>
<td>0.708</td>
<td>0.292</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>0.170</td>
<td>0.797</td>
</tr>
<tr class="row-even"><td>Blue</td>
<td>0.131</td>
<td>0.046</td>
</tr>
<tr class="row-odd"><td>White Reference (D65)</td>
<td>0.3127</td>
<td>0.3290</td>
</tr>
</tbody>
</table>
<p>Transfer function (same as Rec. 709):</p>
<div class="math">
<p><span class="math">L' = 4.5L\text{, for }0 \le L &lt; 0.018

L' = 1.099L ^{0.45} - 0.099\text{, for } 0.018 \le L \le 1</span></p>
</div><p>Inverse Transfer function:</p>
<div class="math">
<p><span class="math">L = L' / 4.5\text{, for } L' &lt; 0.081

L = \left( \frac{L' + 0.099}{1.099}\right) ^{\frac{1}{0.45} }\text{, for } L' \ge 0.081</span></p>
</div><p>The luminance (Y&#8217;) and color difference (Cb and Cr) are obtained with
the following <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_BT2020</span></code> encoding:</p>
<div class="math">
<p><span class="math">Y' = 0.2627R' + 0.6780G' + 0.0593B'

Cb = -0.1396R' - 0.3604G' + 0.5B'

Cr = 0.5R' - 0.4598G' - 0.0402B'</span></p>
</div><p>Y&#8217; is clamped to the range [0…1] and Cb and Cr are clamped to the range
[-0.5…0.5]. The Y&#8217;CbCr quantization is limited range.</p>
<p>There is also an alternate constant luminance R&#8217;G&#8217;B&#8217; to Yc&#8217;CbcCrc
(<code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_BT2020_CONST_LUM</span></code>) encoding:</p>
<p>Luma:</p>
<div class="math">
<p><span class="math">\begin{align*}
Yc' = (0.2627R + 0.6780G + 0.0593B)'&amp; \\
B' - Yc' \le 0:&amp; \\
    &amp;Cbc = (B' - Yc') / 1.9404 \\
B' - Yc' &gt; 0: &amp; \\
    &amp;Cbc = (B' - Yc') / 1.5816 \\
R' - Yc' \le 0:&amp; \\
    &amp;Crc = (R' - Y') / 1.7184 \\
R' - Yc' &gt; 0:&amp; \\
    &amp;Crc = (R' - Y') / 0.9936
\end{align*}</span></p>
</div><p>Yc&#8217; is clamped to the range [0…1] and Cbc and Crc are clamped to the
range [-0.5…0.5]. The Yc&#8217;CbcCrc quantization is limited range.</p>
</div>
<div class="section" id="colorspace-dci-p3-v4l2-colorspace-dci-p3">
<span id="col-dcip3"></span><h2>2.6.6. Colorspace DCI-P3 (V4L2_COLORSPACE_DCI_P3)<a class="headerlink" href="#colorspace-dci-p3-v4l2-colorspace-dci-p3" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="biblio.html#smpte431"><span class="std std-ref">SMPTE RP 431-2</span></a> standard defines the colorspace used by cinema
projectors that use the DCI-P3 colorspace. The default transfer function
is <code class="docutils literal"><span class="pre">V4L2_XFER_FUNC_DCI_P3</span></code>. The default Y&#8217;CbCr encoding is
<code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_709</span></code>. The default Y&#8217;CbCr quantization is limited range.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that this colorspace standard does not specify a
Y&#8217;CbCr encoding since it is not meant to be encoded to Y&#8217;CbCr. So this
default Y&#8217;CbCr encoding was picked because it is the HDTV encoding.</p>
</div>
<p>The chromaticities of the primary colors and the white reference are:</p>
<table border="1" class="docutils" id="id6">
<caption><span class="caption-text">DCI-P3 Chromaticities</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Color</th>
<th class="head">x</th>
<th class="head">y</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Red</td>
<td>0.6800</td>
<td>0.3200</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>0.2650</td>
<td>0.6900</td>
</tr>
<tr class="row-even"><td>Blue</td>
<td>0.1500</td>
<td>0.0600</td>
</tr>
<tr class="row-odd"><td>White Reference</td>
<td>0.3140</td>
<td>0.3510</td>
</tr>
</tbody>
</table>
<p>Transfer function:</p>
<div class="math">
<p><span class="math">L' = L^{\frac{1}{2.6}}</span></p>
</div><p>Inverse Transfer function:</p>
<div class="math">
<p><span class="math">L = L'^{(2.6)}</span></p>
</div><p>Y&#8217;CbCr encoding is not specified. V4L2 defaults to Rec. 709.</p>
</div>
<div class="section" id="colorspace-smpte-240m-v4l2-colorspace-smpte240m">
<span id="col-smpte-240m"></span><h2>2.6.7. Colorspace SMPTE 240M (V4L2_COLORSPACE_SMPTE240M)<a class="headerlink" href="#colorspace-smpte-240m-v4l2-colorspace-smpte240m" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="biblio.html#smpte240m"><span class="std std-ref">SMPTE 240M</span></a> standard was an interim standard used during the
early days of HDTV (1988-1998). It has been superseded by Rec. 709. The
default transfer function is <code class="docutils literal"><span class="pre">V4L2_XFER_FUNC_SMPTE240M</span></code>. The default
Y&#8217;CbCr encoding is <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_SMPTE240M</span></code>. The default Y&#8217;CbCr
quantization is limited range. The chromaticities of the primary colors
and the white reference are:</p>
<table border="1" class="docutils" id="id7">
<caption><span class="caption-text">SMPTE 240M Chromaticities</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Color</th>
<th class="head">x</th>
<th class="head">y</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Red</td>
<td>0.630</td>
<td>0.340</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>0.310</td>
<td>0.595</td>
</tr>
<tr class="row-even"><td>Blue</td>
<td>0.155</td>
<td>0.070</td>
</tr>
<tr class="row-odd"><td>White Reference (D65)</td>
<td>0.3127</td>
<td>0.3290</td>
</tr>
</tbody>
</table>
<p>These chromaticities are identical to the SMPTE 170M colorspace.</p>
<p>Transfer function:</p>
<div class="math">
<p><span class="math">L' = 4L\text{, for } 0 \le L &lt; 0.0228

L' = 1.1115L ^{0.45} - 0.1115\text{, for } 0.0228 \le L \le 1</span></p>
</div><p>Inverse Transfer function:</p>
<div class="math">
<p><span class="math">L = \frac{L'}{4}\text{, for } 0 \le L' &lt; 0.0913

L = \left( \frac{L' + 0.1115}{1.1115}\right) ^{\frac{1}{0.45} }\text{, for } L' \ge 0.0913</span></p>
</div><p>The luminance (Y&#8217;) and color difference (Cb and Cr) are obtained with
the following <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_SMPTE240M</span></code> encoding:</p>
<div class="math">
<p><span class="math">Y' = 0.2122R' + 0.7013G' + 0.0865B'

Cb = -0.1161R' - 0.3839G' + 0.5B'

Cr = 0.5R' - 0.4451G' - 0.0549B'</span></p>
</div><p>Y&#8217; is clamped to the range [0…1] and Cb and Cr are clamped to the
range [-0.5…0.5]. The Y&#8217;CbCr quantization is limited range.</p>
</div>
<div class="section" id="colorspace-ntsc-1953-v4l2-colorspace-470-system-m">
<span id="col-sysm"></span><h2>2.6.8. Colorspace NTSC 1953 (V4L2_COLORSPACE_470_SYSTEM_M)<a class="headerlink" href="#colorspace-ntsc-1953-v4l2-colorspace-470-system-m" title="Permalink to this headline">¶</a></h2>
<p>This standard defines the colorspace used by NTSC in 1953. In practice
this colorspace is obsolete and SMPTE 170M should be used instead. The
default transfer function is <code class="docutils literal"><span class="pre">V4L2_XFER_FUNC_709</span></code>. The default Y&#8217;CbCr
encoding is <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code>. The default Y&#8217;CbCr quantization is
limited range. The chromaticities of the primary colors and the white
reference are:</p>
<table border="1" class="docutils" id="id8">
<caption><span class="caption-text">NTSC 1953 Chromaticities</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Color</th>
<th class="head">x</th>
<th class="head">y</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Red</td>
<td>0.67</td>
<td>0.33</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>0.21</td>
<td>0.71</td>
</tr>
<tr class="row-even"><td>Blue</td>
<td>0.14</td>
<td>0.08</td>
</tr>
<tr class="row-odd"><td>White Reference (C)</td>
<td>0.310</td>
<td>0.316</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This colorspace uses Illuminant C instead of D65 as the white
reference. To correctly convert an image in this colorspace to another
that uses D65 you need to apply a chromatic adaptation algorithm such as
the Bradford method.</p>
</div>
<p>The transfer function was never properly defined for NTSC 1953. The Rec.
709 transfer function is recommended in the literature:</p>
<div class="math">
<p><span class="math">L' = 4.5L\text{, for } 0 \le L &lt; 0.018

L' = 1.099L ^{0.45} - 0.099\text{, for } 0.018 \le L \le 1</span></p>
</div><p>Inverse Transfer function:</p>
<div class="math">
<p><span class="math">L = \frac{L'}{4.5} \text{, for } L' &lt; 0.081

L = \left( \frac{L' + 0.099}{1.099}\right) ^{\frac{1}{0.45} }\text{, for } L' \ge 0.081</span></p>
</div><p>The luminance (Y&#8217;) and color difference (Cb and Cr) are obtained with
the following <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code> encoding:</p>
<div class="math">
<p><span class="math">Y' = 0.2990R' + 0.5870G' + 0.1140B'

Cb = -0.1687R' - 0.3313G' + 0.5B'

Cr = 0.5R' - 0.4187G' - 0.0813B'</span></p>
</div><p>Y&#8217; is clamped to the range [0…1] and Cb and Cr are clamped to the range
[-0.5…0.5]. The Y&#8217;CbCr quantization is limited range. This transform is
identical to one defined in SMPTE 170M/BT.601.</p>
</div>
<div class="section" id="colorspace-ebu-tech-3213-v4l2-colorspace-470-system-bg">
<span id="col-sysbg"></span><h2>2.6.9. Colorspace EBU Tech. 3213 (V4L2_COLORSPACE_470_SYSTEM_BG)<a class="headerlink" href="#colorspace-ebu-tech-3213-v4l2-colorspace-470-system-bg" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="biblio.html#tech3213"><span class="std std-ref">EBU Tech 3213</span></a> standard defines the colorspace used by PAL/SECAM
in 1975. In practice this colorspace is obsolete and SMPTE 170M should
be used instead. The default transfer function is
<code class="docutils literal"><span class="pre">V4L2_XFER_FUNC_709</span></code>. The default Y&#8217;CbCr encoding is
<code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code>. The default Y&#8217;CbCr quantization is limited
range. The chromaticities of the primary colors and the white reference
are:</p>
<table border="1" class="docutils" id="id9">
<caption><span class="caption-text">EBU Tech. 3213 Chromaticities</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Color</th>
<th class="head">x</th>
<th class="head">y</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Red</td>
<td>0.64</td>
<td>0.33</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>0.29</td>
<td>0.60</td>
</tr>
<tr class="row-even"><td>Blue</td>
<td>0.15</td>
<td>0.06</td>
</tr>
<tr class="row-odd"><td>White Reference (D65)</td>
<td>0.3127</td>
<td>0.3290</td>
</tr>
</tbody>
</table>
<p>The transfer function was never properly defined for this colorspace.
The Rec. 709 transfer function is recommended in the literature:</p>
<div class="math">
<p><span class="math">L' = 4.5L\text{, for } 0 \le L &lt; 0.018

L' = 1.099L ^{0.45} - 0.099\text{, for } 0.018 \le L \le 1</span></p>
</div><p>Inverse Transfer function:</p>
<div class="math">
<p><span class="math">L = \frac{L'}{4.5} \text{, for } L' &lt; 0.081

L = \left(\frac{L' + 0.099}{1.099} \right) ^{\frac{1}{0.45} }\text{, for } L' \ge 0.081</span></p>
</div><p>The luminance (Y&#8217;) and color difference (Cb and Cr) are obtained with
the following <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code> encoding:</p>
<div class="math">
<p><span class="math">Y' = 0.2990R' + 0.5870G' + 0.1140B'

Cb = -0.1687R' - 0.3313G' + 0.5B'

Cr = 0.5R' - 0.4187G' - 0.0813B'</span></p>
</div><p>Y&#8217; is clamped to the range [0…1] and Cb and Cr are clamped to the range
[-0.5…0.5]. The Y&#8217;CbCr quantization is limited range. This transform is
identical to one defined in SMPTE 170M/BT.601.</p>
</div>
<div class="section" id="colorspace-jpeg-v4l2-colorspace-jpeg">
<span id="col-jpeg"></span><h2>2.6.10. Colorspace JPEG (V4L2_COLORSPACE_JPEG)<a class="headerlink" href="#colorspace-jpeg-v4l2-colorspace-jpeg" title="Permalink to this headline">¶</a></h2>
<p>This colorspace defines the colorspace used by most (Motion-)JPEG
formats. The chromaticities of the primary colors and the white
reference are identical to sRGB. The transfer function use is
<code class="docutils literal"><span class="pre">V4L2_XFER_FUNC_SRGB</span></code>. The Y&#8217;CbCr encoding is <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code>
with full range quantization where Y&#8217; is scaled to [0…255] and Cb/Cr are
scaled to [-128…128] and then clipped to [-128…127].</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The JPEG standard does not actually store colorspace
information. So if something other than sRGB is used, then the driver
will have to set that information explicitly. Effectively
<code class="docutils literal"><span class="pre">V4L2_COLORSPACE_JPEG</span></code> can be considered to be an abbreviation for
<code class="docutils literal"><span class="pre">V4L2_COLORSPACE_SRGB</span></code>, <code class="docutils literal"><span class="pre">V4L2_YCBCR_ENC_601</span></code> and
<code class="docutils literal"><span class="pre">V4L2_QUANTIZATION_FULL_RANGE</span></code>.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pixfmt-008.html" class="btn btn-neutral float-right" title="2.7. Detailed Transfer Function Descriptions" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pixfmt-006.html" class="btn btn-neutral" title="2.5. Defining Colorspaces in V4L2" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'4.10.0-rc8+',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>