

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7.48. ioctl VIDIOC_QUERYCAP &mdash; The Linux Kernel 5.10.0-rc6+ documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="7.49. ioctls VIDIOC_QUERYCTRL, VIDIOC_QUERY_EXT_CTRL and VIDIOC_QUERYMENU" href="vidioc-queryctrl.html" />
    <link rel="prev" title="7.47. ioctl VIDIOC_QUERYBUF" href="vidioc-querybuf.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.10.0-rc6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devicetree/index.html">Open Firmware and Device Tree</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">The Linux kernel user-space API guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../no_new_privs.html">No New Privileges Flag</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../seccomp_filter.html">Seccomp BPF (SECure COMPuting with filters)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../landlock.html">Landlock: unprivileged access control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../unshare.html">unshare system call</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec_ctrl.html">Speculation Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../accelerators/ocxl.html">OpenCAPI (Open Coherent Accelerator Processor Interface)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ioctl/index.html">IOCTLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../iommu.html">IOMMU Userspace API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Linux Media Infrastructure userspace API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="v4l2.html">Part I - Video for Linux API</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="common.html">1. Common API Elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="pixfmt.html">2. Image Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="io.html">3. Input/Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="devices.html">4. Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="libv4l.html">5. Libv4l Userspace Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="compat.html">6. Changes</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="user-func.html">7. Function Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="common-defs.html">8. Common definitions for V4L2 and V4L2 subdev interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="videodev.html">9. Video For Linux Two Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="capture-example.html">10. Video Capture Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2grab-example.html">11. Video Grabber example using libv4l</a></li>
<li class="toctree-l4"><a class="reference internal" href="biblio.html">12. References</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2.html#revision-and-copyright">Revision and Copyright</a></li>
<li class="toctree-l4"><a class="reference internal" href="v4l2.html#revision-history">Revision History</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../dvb/dvbapi.html">Part II - Digital TV API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rc/remote_controllers.html">Part III - Remote Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mediactl/media-controller.html">Part IV - Media Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cec/cec-api.html">Part V - Consumer Electronics Control API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gen-errors.html">Generic Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fdl-appendix.html">GNU Free Documentation License</a></li>
<li class="toctree-l3"><a class="reference internal" href="../drivers/index.html">Video4Linux (V4L)  driver-specific documentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">The Linux kernel user-space API guide</a> &raquo;</li>
        
          <li><a href="../index.html">Linux Media Infrastructure userspace API</a> &raquo;</li>
        
          <li><a href="v4l2.html">Part I - Video for Linux API</a> &raquo;</li>
        
          <li><a href="user-func.html"><span class="section-number">7. </span>Function Reference</a> &raquo;</li>
        
      <li><span class="section-number">7.48. </span>ioctl VIDIOC_QUERYCAP</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/userspace-api/media/v4l/vidioc-querycap.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ioctl-vidioc-querycap">
<span id="vidioc-querycap"></span><h1><span class="section-number">7.48. </span>ioctl VIDIOC_QUERYCAP<a class="headerlink" href="#ioctl-vidioc-querycap" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2><span class="section-number">7.48.1. </span>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>VIDIOC_QUERYCAP - Query device capabilities</p>
</div>
<div class="section" id="synopsis">
<h2><span class="section-number">7.48.2. </span>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<dl class="c macro">
<dt id="c.V4L.VIDIOC_QUERYCAP">
<code class="sig-name descname">VIDIOC_QUERYCAP</code><a class="headerlink" href="#c.V4L.VIDIOC_QUERYCAP" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ioctl(int</span> <span class="pre">fd,</span> <span class="pre">VIDIOC_QUERYCAP,</span> <span class="pre">struct</span> <span class="pre">v4l2_capability</span> <span class="pre">*argp)</span></code></p>
</div>
<div class="section" id="arguments">
<h2><span class="section-number">7.48.3. </span>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">fd</span></code></dt><dd><p>File descriptor returned by <a class="reference internal" href="func-open.html#c.V4L.open" title="open"><code class="xref c c-func docutils literal notranslate"><span class="pre">open()</span></code></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">argp</span></code></dt><dd><p>Pointer to struct <a class="reference internal" href="#c.V4L.v4l2_capability" title="v4l2_capability"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_capability</span></code></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="description">
<h2><span class="section-number">7.48.4. </span>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>All V4L2 devices support the <code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYCAP</span></code> ioctl. It is used to
identify kernel devices compatible with this specification and to obtain
information about driver and hardware capabilities. The ioctl takes a
pointer to a struct <a class="reference internal" href="#c.V4L.v4l2_capability" title="v4l2_capability"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_capability</span></code></a> which is
filled by the driver. When the driver is not compatible with this
specification the ioctl returns an <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> error code.</p>
<dl class="c type">
<dt id="c.V4L.v4l2_capability">
<em class="property">type </em><code class="sig-name descname">v4l2_capability</code><a class="headerlink" href="#c.V4L.v4l2_capability" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<table class="docutils align-default" id="id2">
<caption><span class="caption-text">struct v4l2_capability</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 11%" />
<col style="width: 15%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">driver</span></code>[16]</p></td>
<td><p>Name of the driver, a unique NUL-terminated ASCII string. For
example: “bttv”. Driver specific applications can use this
information to verify the driver identity. It is also useful to
work around known bugs, or to identify drivers in error reports.</p>
<p>Storing strings in fixed sized arrays is bad practice but
unavoidable here. Drivers and applications should take precautions
to never read or write beyond the end of the array and to make
sure the strings are properly NUL-terminated.</p>
</td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">card</span></code>[32]</p></td>
<td><p>Name of the device, a NUL-terminated UTF-8 string. For example:
“Yoyodyne TV/FM”. One driver may support different brands or
models of video hardware. This information is intended for users,
for example in a menu of available devices. Since multiple TV
cards of the same brand may be installed which are supported by
the same driver, this name should be combined with the character
device file name (e. g. <code class="docutils literal notranslate"><span class="pre">/dev/video2</span></code>) or the <code class="docutils literal notranslate"><span class="pre">bus_info</span></code>
string to avoid ambiguities.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bus_info</span></code>[32]</p></td>
<td><p>Location of the device in the system, a NUL-terminated ASCII
string. For example: “PCI:0000:05:06.0”. This information is
intended for users, to distinguish multiple identical devices. If
no such information is available the field must simply count the
devices controlled by the driver (“platform:vivid-000”). The
bus_info must start with “PCI:” for PCI boards, “PCIe:” for PCI
Express boards, “usb-” for USB devices, “I2C:” for i2c devices,
“ISA:” for ISA devices, “parport” for parallel port devices and
“platform:” for platform devices.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">version</span></code></p></td>
<td><p>Version number of the driver.</p>
<p>Starting with kernel 3.1, the version reported is provided by the
V4L2 subsystem following the kernel numbering scheme. However, it
may not always return the same version as the kernel if, for
example, a stable or distribution-modified kernel uses the V4L2
stack from a newer kernel.</p>
<p>The version number is formatted using the <code class="docutils literal notranslate"><span class="pre">KERNEL_VERSION()</span></code>
macro. For example if the media stack corresponds to the V4L2
version shipped with Kernel 4.14, it would be equivalent to:</p>
</td>
</tr>
<tr class="row-odd"><td colspan="3"><p></p>
<p><code class="docutils literal notranslate"><span class="pre">#define</span> <span class="pre">KERNEL_VERSION(a,b,c)</span> <span class="pre">(((a)</span> <span class="pre">&lt;&lt;</span> <span class="pre">16)</span> <span class="pre">+</span> <span class="pre">((b)</span> <span class="pre">&lt;&lt;</span> <span class="pre">8)</span> <span class="pre">+</span> <span class="pre">(c))</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">__u32</span> <span class="pre">version</span> <span class="pre">=</span> <span class="pre">KERNEL_VERSION(4,</span> <span class="pre">14,</span> <span class="pre">0);</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">printf</span> <span class="pre">(&quot;Version:</span> <span class="pre">%u.%u.%u\\n&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">(version</span> <span class="pre">&gt;&gt;</span> <span class="pre">16)</span> <span class="pre">&amp;</span> <span class="pre">0xFF,</span> <span class="pre">(version</span> <span class="pre">&gt;&gt;</span> <span class="pre">8)</span> <span class="pre">&amp;</span> <span class="pre">0xFF,</span> <span class="pre">version</span> <span class="pre">&amp;</span> <span class="pre">0xFF);</span></code></p>
</td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">capabilities</span></code></p></td>
<td><p>Available capabilities of the physical device as a whole, see
<a class="reference internal" href="#device-capabilities"><span class="std std-ref">Device Capabilities Flags</span></a>. The same physical device can export
multiple devices in /dev (e.g. /dev/videoX, /dev/vbiY and
/dev/radioZ). The <code class="docutils literal notranslate"><span class="pre">capabilities</span></code> field should contain a union of
all capabilities available around the several V4L2 devices
exported to userspace. For all those devices the <code class="docutils literal notranslate"><span class="pre">capabilities</span></code>
field returns the same set of capabilities. This allows
applications to open just one of the devices (typically the video
device) and discover whether video, vbi and/or radio are also
supported.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">device_caps</span></code></p></td>
<td><p>Device capabilities of the opened device, see
<a class="reference internal" href="#device-capabilities"><span class="std std-ref">Device Capabilities Flags</span></a>. Should contain the available
capabilities of that specific device node. So, for example,
<code class="docutils literal notranslate"><span class="pre">device_caps</span></code> of a radio device will only contain radio related
capabilities and no video or vbi capabilities. This field is only
set if the <code class="docutils literal notranslate"><span class="pre">capabilities</span></code> field contains the
<code class="docutils literal notranslate"><span class="pre">V4L2_CAP_DEVICE_CAPS</span></code> capability. Only the <code class="docutils literal notranslate"><span class="pre">capabilities</span></code>
field can have the <code class="docutils literal notranslate"><span class="pre">V4L2_CAP_DEVICE_CAPS</span></code> capability,
<code class="docutils literal notranslate"><span class="pre">device_caps</span></code> will never set <code class="docutils literal notranslate"><span class="pre">V4L2_CAP_DEVICE_CAPS</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved</span></code>[3]</p></td>
<td><p>Reserved for future extensions. Drivers must set this array to
zero.</p></td>
</tr>
</tbody>
</table>
<span id="device-capabilities"></span><table class="longtable docutils align-default" id="id3">
<caption><span class="caption-text">Device Capabilities Flags</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 38%" />
<col style="width: 13%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VIDEO_CAPTURE</span></code></p></td>
<td><p>0x00000001</p></td>
<td><p>The device supports the single-planar API through the
<a class="reference internal" href="dev-capture.html#capture"><span class="std std-ref">Video Capture</span></a> interface.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VIDEO_CAPTURE_MPLANE</span></code></p></td>
<td><p>0x00001000</p></td>
<td><p>The device supports the <a class="reference internal" href="planar-apis.html#planar-apis"><span class="std std-ref">multi-planar API</span></a>
through the <a class="reference internal" href="dev-capture.html#capture"><span class="std std-ref">Video Capture</span></a> interface.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VIDEO_OUTPUT</span></code></p></td>
<td><p>0x00000002</p></td>
<td><p>The device supports the single-planar API through the
<a class="reference internal" href="dev-output.html#output"><span class="std std-ref">Video Output</span></a> interface.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VIDEO_OUTPUT_MPLANE</span></code></p></td>
<td><p>0x00002000</p></td>
<td><p>The device supports the <a class="reference internal" href="planar-apis.html#planar-apis"><span class="std std-ref">multi-planar API</span></a>
through the <a class="reference internal" href="dev-output.html#output"><span class="std std-ref">Video Output</span></a> interface.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VIDEO_M2M</span></code></p></td>
<td><p>0x00008000</p></td>
<td><p>The device supports the single-planar API through the Video
Memory-To-Memory interface.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VIDEO_M2M_MPLANE</span></code></p></td>
<td><p>0x00004000</p></td>
<td><p>The device supports the <a class="reference internal" href="planar-apis.html#planar-apis"><span class="std std-ref">multi-planar API</span></a>
through the Video Memory-To-Memory interface.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VIDEO_OVERLAY</span></code></p></td>
<td><p>0x00000004</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-overlay.html#overlay"><span class="std std-ref">Video Overlay</span></a>
interface. A video overlay device typically stores captured images
directly in the video memory of a graphics card, with hardware
clipping and scaling.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VBI_CAPTURE</span></code></p></td>
<td><p>0x00000010</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-raw-vbi.html#raw-vbi"><span class="std std-ref">Raw VBI Capture</span></a>
interface, providing Teletext and Closed Caption data.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VBI_OUTPUT</span></code></p></td>
<td><p>0x00000020</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-raw-vbi.html#raw-vbi"><span class="std std-ref">Raw VBI Output</span></a>
interface.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_SLICED_VBI_CAPTURE</span></code></p></td>
<td><p>0x00000040</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-sliced-vbi.html#sliced"><span class="std std-ref">Sliced VBI Capture</span></a>
interface.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_SLICED_VBI_OUTPUT</span></code></p></td>
<td><p>0x00000080</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-sliced-vbi.html#sliced"><span class="std std-ref">Sliced VBI Output</span></a>
interface.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_RDS_CAPTURE</span></code></p></td>
<td><p>0x00000100</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-rds.html#rds"><span class="std std-ref">RDS</span></a> capture interface.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VIDEO_OUTPUT_OVERLAY</span></code></p></td>
<td><p>0x00000200</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-osd.html#osd"><span class="std std-ref">Video Output Overlay</span></a> (OSD)
interface. Unlike the <em>Video Overlay</em> interface, this is a
secondary function of video output devices and overlays an image
onto an outgoing video signal. When the driver sets this flag, it
must clear the <code class="docutils literal notranslate"><span class="pre">V4L2_CAP_VIDEO_OVERLAY</span></code> flag and vice
versa. <a class="footnote-reference brackets" href="#f1" id="id1">1</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_HW_FREQ_SEEK</span></code></p></td>
<td><p>0x00000400</p></td>
<td><p>The device supports the
<a class="reference internal" href="vidioc-s-hw-freq-seek.html#vidioc-s-hw-freq-seek"><span class="std std-ref">ioctl VIDIOC_S_HW_FREQ_SEEK</span></a> ioctl
for hardware frequency seeking.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_RDS_OUTPUT</span></code></p></td>
<td><p>0x00000800</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-rds.html#rds"><span class="std std-ref">RDS</span></a> output interface.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_TUNER</span></code></p></td>
<td><p>0x00010000</p></td>
<td><p>The device has some sort of tuner to receive RF-modulated video
signals. For more information about tuner programming see
<a class="reference internal" href="tuner.html#tuner"><span class="std std-ref">Tuners and Modulators</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_AUDIO</span></code></p></td>
<td><p>0x00020000</p></td>
<td><p>The device has audio inputs or outputs. It may or may not support
audio recording or playback, in PCM or compressed formats. PCM
audio support must be implemented as ALSA or OSS interface. For
more information on audio inputs and outputs see <a class="reference internal" href="audio.html#audio"><span class="std std-ref">Audio Inputs and Outputs</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_RADIO</span></code></p></td>
<td><p>0x00040000</p></td>
<td><p>This is a radio receiver.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_MODULATOR</span></code></p></td>
<td><p>0x00080000</p></td>
<td><p>The device has some sort of modulator to emit RF-modulated
video/audio signals. For more information about modulator
programming see <a class="reference internal" href="tuner.html#tuner"><span class="std std-ref">Tuners and Modulators</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_SDR_CAPTURE</span></code></p></td>
<td><p>0x00100000</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-sdr.html#sdr"><span class="std std-ref">SDR Capture</span></a> interface.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_EXT_PIX_FORMAT</span></code></p></td>
<td><p>0x00200000</p></td>
<td><p>The device supports the struct
<a class="reference internal" href="pixfmt-v4l2.html#c.v4l2_pix_format" title="v4l2_pix_format"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_pix_format</span></code></a> extended fields.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_SDR_OUTPUT</span></code></p></td>
<td><p>0x00400000</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-sdr.html#sdr"><span class="std std-ref">SDR Output</span></a> interface.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_META_CAPTURE</span></code></p></td>
<td><p>0x00800000</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-meta.html#metadata"><span class="std std-ref">Metadata Interface</span></a> capture interface.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_READWRITE</span></code></p></td>
<td><p>0x01000000</p></td>
<td><p>The device supports the <a class="reference internal" href="func-read.html#c.V4L.read" title="read"><code class="xref c c-func docutils literal notranslate"><span class="pre">read()</span></code></a> and/or
<a class="reference internal" href="func-write.html#c.V4L.write" title="write"><code class="xref c c-func docutils literal notranslate"><span class="pre">write()</span></code></a> I/O methods.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_ASYNCIO</span></code></p></td>
<td><p>0x02000000</p></td>
<td><p>The device supports the <a class="reference internal" href="async.html#async"><span class="std std-ref">asynchronous</span></a> I/O methods.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_STREAMING</span></code></p></td>
<td><p>0x04000000</p></td>
<td><p>The device supports the <a class="reference internal" href="mmap.html#mmap"><span class="std std-ref">streaming</span></a> I/O method.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_META_OUTPUT</span></code></p></td>
<td><p>0x08000000</p></td>
<td><p>The device supports the <a class="reference internal" href="dev-meta.html#metadata"><span class="std std-ref">Metadata Interface</span></a> output interface.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_TOUCH</span></code></p></td>
<td><p>0x10000000</p></td>
<td><p>This is a touch device.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_IO_MC</span></code></p></td>
<td><p>0x20000000</p></td>
<td><p>There is only one input and/or output seen from userspace. The whole
video topology configuration, including which I/O entity is routed to
the input/output, is configured by userspace via the Media Controller.
See <a class="reference internal" href="../mediactl/media-controller.html#media-controller"><span class="std std-ref">Part IV - Media Controller API</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CAP_DEVICE_CAPS</span></code></p></td>
<td><p>0x80000000</p></td>
<td><p>The driver fills the <code class="docutils literal notranslate"><span class="pre">device_caps</span></code> field. This capability can
only appear in the <code class="docutils literal notranslate"><span class="pre">capabilities</span></code> field and never in the
<code class="docutils literal notranslate"><span class="pre">device_caps</span></code> field.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="return-value">
<h2><span class="section-number">7.48.5. </span>Return Value<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The struct <a class="reference internal" href="vidioc-g-fbuf.html#c.V4L.v4l2_framebuffer" title="v4l2_framebuffer"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_framebuffer</span></code></a> lacks an
enum <a class="reference internal" href="buffer.html#c.V4L.v4l2_buf_type" title="v4l2_buf_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_buf_type</span></code></a> field, therefore the
type of overlay is implied by the driver capabilities.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="vidioc-queryctrl.html" class="btn btn-neutral float-right" title="7.49. ioctls VIDIOC_QUERYCTRL, VIDIOC_QUERY_EXT_CTRL and VIDIOC_QUERYMENU" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="vidioc-querybuf.html" class="btn btn-neutral float-left" title="7.47. ioctl VIDIOC_QUERYBUF" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright The kernel development community

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>