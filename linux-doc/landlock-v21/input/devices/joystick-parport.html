

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>11. Parallel Port Joystick Drivers &mdash; The Linux Kernel  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="12. N-Trig touchscreen Driver" href="ntrig.html" />
    <link rel="prev" title="10. Iforce Protocol" href="iforce-protocol.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.9.0-rc8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Open Firmware and Device Tree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">The Linux Input Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../input_uapi.html">Linux Input Subsystem userspace API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input_kapi.html">Linux Input Subsystem kernel API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Driver-specific documentation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="alps.html">1. ALPS Touchpad Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="amijoy.html">2. Amiga joystick extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="appletouch.html">3. Apple Touchpad Driver (appletouch)</a></li>
<li class="toctree-l3"><a class="reference internal" href="atarikbd.html">4. Intelligent Keyboard (ikbd) Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="bcm5974.html">5. BCM5974 Driver (bcm5974)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cma3000_d0x.html">6. CMA3000-D0x Accelerometer</a></li>
<li class="toctree-l3"><a class="reference internal" href="cs461x.html">7. Crystal SoundFusion CS4610/CS4612/CS461 joystick</a></li>
<li class="toctree-l3"><a class="reference internal" href="edt-ft5x06.html">8. EDT ft5x06 based Polytouch devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="elantech.html">9. Elantech Touchpad Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="iforce-protocol.html">10. Iforce Protocol</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">11. Parallel Port Joystick Drivers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#disclaimer">11.1. Disclaimer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#introduction">11.2. Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#devices-supported">11.3. Devices supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-drivers">11.4. The drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pc-parallel-port-pinout">11.5. PC parallel port pinout</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ntrig.html">12. N-Trig touchscreen Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="pxrc.html">13. pxrc - PhoenixRC Flight Controller Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="rotary-encoder.html">14. rotary-encoder - a generic driver for GPIO connected devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="sentelic.html">15. Sentelic Touchpad</a></li>
<li class="toctree-l3"><a class="reference internal" href="walkera0701.html">16. Walkera WK-0701 transmitter</a></li>
<li class="toctree-l3"><a class="reference internal" href="xpad.html">17. xpad - Linux USB driver for Xbox compatible controllers</a></li>
<li class="toctree-l3"><a class="reference internal" href="yealink.html">18. Driver documentation for yealink usb-p1k phones</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">The Linux Input Documentation</a> &raquo;</li>
        
          <li><a href="index.html">Driver-specific documentation</a> &raquo;</li>
        
      <li>11. Parallel Port Joystick Drivers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/input/devices/joystick-parport.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="parallel-port-joystick-drivers">
<span id="joystick-parport"></span><h1>11. Parallel Port Joystick Drivers<a class="headerlink" href="#parallel-port-joystick-drivers" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Copyright:</th><td class="field-body">© 1998-2000 Vojtech Pavlik &lt;<a class="reference external" href="mailto:vojtech&#37;&#52;&#48;ucw&#46;cz">vojtech<span>&#64;</span>ucw<span>&#46;</span>cz</a>&gt;</td>
</tr>
<tr class="field-even field"><th class="field-name">Copyright:</th><td class="field-body">© 1998 Andree Borrmann &lt;<a class="reference external" href="mailto:a&#46;borrmann&#37;&#52;&#48;tu-bs&#46;de">a<span>&#46;</span>borrmann<span>&#64;</span>tu-bs<span>&#46;</span>de</a>&gt;</td>
</tr>
</tbody>
</table>
<p>Sponsored by SuSE</p>
<div class="section" id="disclaimer">
<h2>11.1. Disclaimer<a class="headerlink" href="#disclaimer" title="Permalink to this headline">¶</a></h2>
<p>Any information in this file is provided as-is, without any guarantee that
it will be true. So, use it at your own risk. The possible damages that can
happen include burning your parallel port, and/or the sticks and joystick
and maybe even more. Like when a lightning kills you it is not our problem.</p>
</div>
<div class="section" id="introduction">
<h2>11.2. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The joystick parport drivers are used for joysticks and gamepads not
originally designed for PCs and other computers Linux runs on. Because of
that, PCs usually lack the right ports to connect these devices to. Parallel
port, because of its ability to change single bits at will, and providing
both output and input bits is the most suitable port on the PC for
connecting such devices.</p>
</div>
<div class="section" id="devices-supported">
<h2>11.3. Devices supported<a class="headerlink" href="#devices-supported" title="Permalink to this headline">¶</a></h2>
<p>Many console and 8-bit computer gamepads and joysticks are supported. The
following subsections discuss usage of each.</p>
<div class="section" id="nes-and-snes">
<h3>11.3.1. NES and SNES<a class="headerlink" href="#nes-and-snes" title="Permalink to this headline">¶</a></h3>
<p>The Nintendo Entertainment System and Super Nintendo Entertainment System
gamepads are widely available, and easy to get. Also, they are quite easy to
connect to a PC, and don’t need much processing speed (108 us for NES and
165 us for SNES, compared to about 1000 us for PC gamepads) to communicate
with them.</p>
<p>All NES and SNES use the same synchronous serial protocol, clocked from
the computer’s side (and thus timing insensitive). To allow up to 5 NES
and/or SNES gamepads and/or SNES mice connected to the parallel port at once,
the output lines of the parallel port are shared, while one of 5 available
input lines is assigned to each gamepad.</p>
<p>This protocol is handled by the gamecon.c driver, so that’s the one
you’ll use for NES, SNES gamepads and SNES mice.</p>
<p>The main problem with PC parallel ports is that they don’t have +5V power
source on any of their pins. So, if you want a reliable source of power
for your pads, use either keyboard or joystick port, and make a pass-through
cable. You can also pull the power directly from the power supply (the red
wire is +5V).</p>
<p>If you want to use the parallel port only, you can take the power is from
some data pin. For most gamepad and parport implementations only one pin is
needed, and I’d recommend pin 9 for that, the highest data bit. On the other
hand, if you are not planning to use anything else than NES / SNES on the
port, anything between and including pin 4 and pin 9 will work:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pin 9) -----&gt; Power
</pre></div>
</div>
<p>Unfortunately, there are pads that need a lot more of power, and parallel
ports that can’t give much current through the data pins. If this is your
case, you’ll need to use diodes (as a prevention of destroying your parallel
port), and combine the currents of two or more data bits together:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>          Diodes
(pin 9) ----|&gt;|-------+------&gt; Power
                    |
(pin 8) ----|&gt;|-------+
                    |
(pin 7) ----|&gt;|-------+
                    |
&lt;and so on&gt;         :
                    |
(pin 4) ----|&gt;|-------+
</pre></div>
</div>
<p>Ground is quite easy. On PC’s parallel port the ground is on any of the
pins from pin 18 to pin 25. So use any pin of these you like for the ground:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pin 18) -----&gt; Ground
</pre></div>
</div>
<p>NES and SNES pads have two input bits, Clock and Latch, which drive the
serial transfer. These are connected to pins 2 and 3 of the parallel port,
respectively:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pin 2) -----&gt; Clock
(pin 3) -----&gt; Latch
</pre></div>
</div>
<p>And the last thing is the NES / SNES data wire. Only that isn’t shared and
each pad needs its own data pin. The parallel port pins are:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pin 10) -----&gt; Pad 1 data
(pin 11) -----&gt; Pad 2 data
(pin 12) -----&gt; Pad 3 data
(pin 13) -----&gt; Pad 4 data
(pin 15) -----&gt; Pad 5 data
</pre></div>
</div>
<p>Note that pin 14 is not used, since it is not an input pin on the parallel
port.</p>
<p>This is everything you need on the PC’s side of the connection, now on to
the gamepads side. The NES and SNES have different connectors. Also, there
are quite a lot of NES clones, and because Nintendo used proprietary
connectors for their machines, the cloners couldn’t and used standard D-Cannon
connectors. Anyway, if you’ve got a gamepad, and it has buttons A, B, Turbo
A, Turbo B, Select and Start, and is connected through 5 wires, then it is
either a NES or NES clone and will work with this connection. SNES gamepads
also use 5 wires, but have more buttons. They will work as well, of course:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Pinout for NES gamepads                 Pinout for SNES gamepads and mice

           +----&gt; Power                   +-----------------------\
           |                            7 | o  o  o  o |  x  x  o  | 1
 5 +---------+  7                         +-----------------------/
   | x  x  o   \                            |  |  |  |          |
   | o  o  o  o |                           |  |  |  |          +-&gt; Ground
 4 +------------+ 1                         |  |  |  +------------&gt; Data
     |  |  |  |                             |  |  +---------------&gt; Latch
     |  |  |  +-&gt; Ground                    |  +------------------&gt; Clock
     |  |  +----&gt; Clock                     +---------------------&gt; Power
     |  +-------&gt; Latch
     +----------&gt; Data

Pinout for NES clone (db9) gamepads     Pinout for NES clone (db15) gamepads

      +---------&gt; Clock                    +-----------------&gt; Data
      | +-------&gt; Latch                    |             +---&gt; Ground
      | | +-----&gt; Data                     |             |
      | | |                              ___________________
  _____________                        8 \ o x x x x x x o / 1
5 \ x o o o x / 1                         \ o x x o x x o /
   \ x o x o /                          15 `~~~~~~~~~~~~~&#39; 9
  9 `~~~~~~~&#39; 6                             |     |     |
       |   |                                |     |     +----&gt; Clock
       |   +----&gt; Power                     |     +----------&gt; Latch
       +--------&gt; Ground                    +----------------&gt; Power
</pre></div>
</div>
</div>
<div class="section" id="multisystem-joysticks">
<h3>11.3.2. Multisystem joysticks<a class="headerlink" href="#multisystem-joysticks" title="Permalink to this headline">¶</a></h3>
<p>In the era of 8-bit machines, there was something like de-facto standard
for joystick ports. They were all digital, and all used D-Cannon 9 pin
connectors (db9). Because of that, a single joystick could be used without
hassle on Atari (130, 800XE, 800XL, 2600, 7200), Amiga, Commodore C64,
Amstrad CPC, Sinclair ZX Spectrum and many other machines. That’s why these
joysticks are called “Multisystem”.</p>
<p>Now their pinout:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>      +---------&gt; Right
      | +-------&gt; Left
      | | +-----&gt; Down
      | | | +---&gt; Up
      | | | |
  _____________
5 \ x o o o o / 1
   \ x o x o /
  9 `~~~~~~~&#39; 6
       |   |
       |   +----&gt; Button
       +--------&gt; Ground
</pre></div>
</div>
<p>However, as time passed, extensions to this standard developed, and these
were not compatible with each other:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>        Atari 130, 800/XL/XE                   MSX

                                         +-----------&gt; Power
      +---------&gt; Right                  | +---------&gt; Right
      | +-------&gt; Left                   | | +-------&gt; Left
      | | +-----&gt; Down                   | | | +-----&gt; Down
      | | | +---&gt; Up                     | | | | +---&gt; Up
      | | | |                            | | | | |
  _____________                        _____________
5 \ x o o o o / 1                    5 \ o o o o o / 1
   \ x o o o /                          \ o o o o /
  9 `~~~~~~~&#39; 6                        9 `~~~~~~~&#39; 6
       | | |                              | | | |
       | | +----&gt; Button                  | | | +----&gt; Button 1
       | +------&gt; Power                   | | +------&gt; Button 2
       +--------&gt; Ground                  | +--------&gt; Output 3
                                          +----------&gt; Ground

        Amstrad CPC                           Commodore C64

                                         +-----------&gt; Analog Y
      +---------&gt; Right                  | +---------&gt; Right
      | +-------&gt; Left                   | | +-------&gt; Left
      | | +-----&gt; Down                   | | | +-----&gt; Down
      | | | +---&gt; Up                     | | | | +---&gt; Up
      | | | |                            | | | | |
  _____________                        _____________
5 \ x o o o o / 1                    5 \ o o o o o / 1
   \ x o o o /                          \ o o o o /
  9 `~~~~~~~&#39; 6                        9 `~~~~~~~&#39; 6
       | | |                              | | | |
       | | +----&gt; Button 1                | | | +----&gt; Button
       | +------&gt; Button 2                | | +------&gt; Power
       +--------&gt; Ground                  | +--------&gt; Ground
                                          +----------&gt; Analog X

        Sinclair Spectrum +2A/+3           Amiga 1200

    +-----------&gt; Up                     +-----------&gt; Button 3
    | +---------&gt; Fire                   | +---------&gt; Right
    | |                                  | | +-------&gt; Left
    | |   +-----&gt; Ground                 | | | +-----&gt; Down
    | |   |                              | | | | +---&gt; Up
    | |   |                              | | | | |
  _____________                        _____________
5 \ o o x o x / 1                    5 \ o o o o o / 1
   \ o o o o /                          \ o o o o /
  9 `~~~~~~~&#39; 6                        9 `~~~~~~~&#39; 6
     | | | |                              | | | |
     | | | +----&gt; Right                   | | | +----&gt; Button 1
     | | +------&gt; Left                    | | +------&gt; Power
     | +--------&gt; Ground                  | +--------&gt; Ground
     +----------&gt; Down                    +----------&gt; Button 2

And there were many others.
</pre></div>
</div>
<div class="section" id="multisystem-joysticks-using-db9-c">
<h4>11.3.2.1. Multisystem joysticks using db9.c<a class="headerlink" href="#multisystem-joysticks-using-db9-c" title="Permalink to this headline">¶</a></h4>
<p>For the Multisystem joysticks, and their derivatives, the db9.c driver
was written. It allows only one joystick / gamepad per parallel port, but
the interface is easy to build and works with almost anything.</p>
<p>For the basic 1-button Multisystem joystick you connect its wires to the
parallel port like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pin  1) -----&gt; Power
(pin 18) -----&gt; Ground

(pin  2) -----&gt; Up
(pin  3) -----&gt; Down
(pin  4) -----&gt; Left
(pin  5) -----&gt; Right
(pin  6) -----&gt; Button 1
</pre></div>
</div>
<p>However, if the joystick is switch based (eg. clicks when you move it),
you might or might not, depending on your parallel port, need 10 kOhm pullup
resistors on each of the direction and button signals, like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pin 2) ------------+------&gt; Up
          Resistor  |
(pin 1) --[10kOhm]--+
</pre></div>
</div>
<p>Try without, and if it doesn’t work, add them. For TTL based joysticks /
gamepads the pullups are not needed.</p>
<p>For joysticks with two buttons you connect the second button to pin 7 on
the parallel port:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pin 7) -----&gt; Button 2
</pre></div>
</div>
<p>And that’s it.</p>
<p>On a side note, if you have already built a different adapter for use with
the digital joystick driver 0.8.0.2, this is also supported by the db9.c
driver, as device type 8. (See section 3.2)</p>
</div>
<div class="section" id="multisystem-joysticks-using-gamecon-c">
<h4>11.3.2.2. Multisystem joysticks using gamecon.c<a class="headerlink" href="#multisystem-joysticks-using-gamecon-c" title="Permalink to this headline">¶</a></h4>
<p>For some people just one joystick per parallel port is not enough, and/or
want to use them on one parallel port together with NES/SNES/PSX pads. This is
possible using the gamecon.c. It supports up to 5 devices of the above types,
including 1 and 2 buttons Multisystem joysticks.</p>
<p>However, there is nothing for free. To allow more sticks to be used at
once, you need the sticks to be purely switch based (that is non-TTL), and
not to need power. Just a plain simple six switches inside. If your
joystick can do more (eg. turbofire) you’ll need to disable it totally first
if you want to use gamecon.c.</p>
<p>Also, the connection is a bit more complex. You’ll need a bunch of diodes,
and one pullup resistor. First, you connect the Directions and the button
the same as for db9, however with the diodes between:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>            Diodes
(pin 2) -----|&lt;|----&gt; Up
(pin 3) -----|&lt;|----&gt; Down
(pin 4) -----|&lt;|----&gt; Left
(pin 5) -----|&lt;|----&gt; Right
(pin 6) -----|&lt;|----&gt; Button 1
</pre></div>
</div>
<p>For two button sticks you also connect the other button:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pin 7) -----|&lt;|----&gt; Button 2
</pre></div>
</div>
<p>And finally, you connect the Ground wire of the joystick, like done in
this little schematic to Power and Data on the parallel port, as described
for the NES / SNES pads in section 2.1 of this file - that is, one data pin
for each joystick. The power source is shared:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Data    ------------+-----&gt; Ground
          Resistor  |
Power   --[10kOhm]--+
</pre></div>
</div>
<p>And that’s all, here we go!</p>
</div>
<div class="section" id="multisystem-joysticks-using-turbografx-c">
<h4>11.3.2.3. Multisystem joysticks using turbografx.c<a class="headerlink" href="#multisystem-joysticks-using-turbografx-c" title="Permalink to this headline">¶</a></h4>
<p>The TurboGraFX interface, designed by</p>
<blockquote>
<div>Steffen Schwenke &lt;<a class="reference external" href="mailto:schwenke&#37;&#52;&#48;burg-halle&#46;de">schwenke<span>&#64;</span>burg-halle<span>&#46;</span>de</a>&gt;</div></blockquote>
<p>allows up to 7 Multisystem joysticks connected to the parallel port. In
Steffen’s version, there is support for up to 5 buttons per joystick.  However,
since this doesn’t work reliably on all parallel ports, the turbografx.c driver
supports only one button per joystick. For more information on how to build the
interface, see:</p>
<blockquote>
<div><a class="reference external" href="http://www2.burg-halle.de/~schwenke/parport.html">http://www2.burg-halle.de/~schwenke/parport.html</a></div></blockquote>
</div>
</div>
<div class="section" id="sony-playstation">
<h3>11.3.3. Sony Playstation<a class="headerlink" href="#sony-playstation" title="Permalink to this headline">¶</a></h3>
<p>The PSX controller is supported by the gamecon.c. Pinout of the PSX
controller (compatible with DirectPadPro):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  +---------+---------+---------+
9 | o  o  o | o  o  o | o  o  o | 1               parallel
   \________|_________|________/                  port pins
    |  |      |  |  |   |
    |  |      |  |  |   +--------&gt;  Clock    ---  (4)
    |  |      |  |  +------------&gt;  Select   ---  (3)
    |  |      |  +---------------&gt;  Power    ---  (5-9)
    |  |      +------------------&gt;  Ground   ---  (18-25)
    |  +-------------------------&gt;  Command  ---  (2)
    +----------------------------&gt;  Data     ---  (one of 10,11,12,13,15)
</pre></div>
</div>
<p>The driver supports these controllers:</p>
<blockquote>
<div><ul class="simple">
<li>Standard PSX Pad</li>
<li>NegCon PSX Pad</li>
<li>Analog PSX Pad (red mode)</li>
<li>Analog PSX Pad (green mode)</li>
<li>PSX Rumble Pad</li>
<li>PSX DDR Pad</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="sega">
<h3>11.3.4. Sega<a class="headerlink" href="#sega" title="Permalink to this headline">¶</a></h3>
<p>All the Sega controllers are more or less based on the standard 2-button
Multisystem joystick. However, since they don’t use switches and use TTL
logic, the only driver usable with them is the db9.c driver.</p>
<div class="section" id="sega-master-system">
<h4>11.3.4.1. Sega Master System<a class="headerlink" href="#sega-master-system" title="Permalink to this headline">¶</a></h4>
<p>The SMS gamepads are almost exactly the same as normal 2-button
Multisystem joysticks. Set the driver to Multi2 mode, use the corresponding
parallel port pins, and the following schematic:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    +-----------&gt; Power
    | +---------&gt; Right
    | | +-------&gt; Left
    | | | +-----&gt; Down
    | | | | +---&gt; Up
    | | | | |
  _____________
5 \ o o o o o / 1
   \ o o x o /
  9 `~~~~~~~&#39; 6
     | |   |
     | |   +----&gt; Button 1
     | +--------&gt; Ground
     +----------&gt; Button 2
</pre></div>
</div>
</div>
<div class="section" id="sega-genesis-aka-megadrive">
<h4>11.3.4.2. Sega Genesis aka MegaDrive<a class="headerlink" href="#sega-genesis-aka-megadrive" title="Permalink to this headline">¶</a></h4>
<p>The Sega Genesis (in Europe sold as Sega MegaDrive) pads are an extension
to the Sega Master System pads. They use more buttons (3+1, 5+1, 6+1).  Use
the following schematic:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    +-----------&gt; Power
    | +---------&gt; Right
    | | +-------&gt; Left
    | | | +-----&gt; Down
    | | | | +---&gt; Up
    | | | | |
  _____________
5 \ o o o o o / 1
   \ o o o o /
  9 `~~~~~~~&#39; 6
    | | | |
    | | | +----&gt; Button 1
    | | +------&gt; Select
    | +--------&gt; Ground
    +----------&gt; Button 2
</pre></div>
</div>
<p>The Select pin goes to pin 14 on the parallel port:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pin 14) -----&gt; Select
</pre></div>
</div>
<p>The rest is the same as for Multi2 joysticks using db9.c</p>
</div>
<div class="section" id="sega-saturn">
<h4>11.3.4.3. Sega Saturn<a class="headerlink" href="#sega-saturn" title="Permalink to this headline">¶</a></h4>
<p>Sega Saturn has eight buttons, and to transfer that, without hacks like
Genesis 6 pads use, it needs one more select pin. Anyway, it is still
handled by the db9.c driver. Its pinout is very different from anything
else.  Use this schematic:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    +-----------&gt; Select 1
    | +---------&gt; Power
    | | +-------&gt; Up
    | | | +-----&gt; Down
    | | | | +---&gt; Ground
    | | | | |
  _____________
5 \ o o o o o / 1
   \ o o o o /
  9 `~~~~~~~&#39; 6
     | | | |
     | | | +----&gt; Select 2
     | | +------&gt; Right
     | +--------&gt; Left
     +----------&gt; Power
</pre></div>
</div>
<p>Select 1 is pin 14 on the parallel port, Select 2 is pin 16 on the
parallel port:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pin 14) -----&gt; Select 1
(pin 16) -----&gt; Select 2
</pre></div>
</div>
<p>The other pins (Up, Down, Right, Left, Power, Ground) are the same as for
Multi joysticks using db9.c</p>
</div>
</div>
<div class="section" id="amiga-cd32">
<h3>11.3.5. Amiga CD32<a class="headerlink" href="#amiga-cd32" title="Permalink to this headline">¶</a></h3>
<p>Amiga CD32 joypad uses the following pinout:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    +-----------&gt; Button 3
    | +---------&gt; Right
    | | +-------&gt; Left
    | | | +-----&gt; Down
    | | | | +---&gt; Up
    | | | | |
  _____________
5 \ o o o o o / 1
   \ o o o o /
  9 `~~~~~~~&#39; 6
    | | | |
    | | | +----&gt; Button 1
    | | +------&gt; Power
    | +--------&gt; Ground
    +----------&gt; Button 2
</pre></div>
</div>
<p>It can be connected to the parallel port and driven by db9.c driver. It needs the following wiring:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CD32 pad</th>
<th class="head">Parallel port</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1 (Up)</td>
<td>2 (D0)</td>
</tr>
<tr class="row-odd"><td>2 (Down)</td>
<td>3 (D1)</td>
</tr>
<tr class="row-even"><td>3 (Left)</td>
<td>4 (D2)</td>
</tr>
<tr class="row-odd"><td>4 (Right)</td>
<td>5 (D3)</td>
</tr>
<tr class="row-even"><td>5 (Button 3)</td>
<td>14 (AUTOFD)</td>
</tr>
<tr class="row-odd"><td>6 (Button 1)</td>
<td>17 (SELIN)</td>
</tr>
<tr class="row-even"><td>7 (+5V)</td>
<td>1 (STROBE)</td>
</tr>
<tr class="row-odd"><td>8 (Gnd)</td>
<td>18 (Gnd)</td>
</tr>
<tr class="row-even"><td>9 (Button 2)</td>
<td>7 (D5)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
<div class="section" id="the-drivers">
<h2>11.4. The drivers<a class="headerlink" href="#the-drivers" title="Permalink to this headline">¶</a></h2>
<p>There are three drivers for the parallel port interfaces. Each, as
described above, allows to connect a different group of joysticks and pads.
Here are described their command lines:</p>
<div class="section" id="gamecon-c">
<h3>11.4.1. gamecon.c<a class="headerlink" href="#gamecon-c" title="Permalink to this headline">¶</a></h3>
<p>Using gamecon.c you can connect up to five devices to one parallel port. It
uses the following kernel/module command line:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gamecon.map=port,pad1,pad2,pad3,pad4,pad5
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">port</span></code> the number of the parport interface (eg. 0 for parport0).</p>
<p>And <code class="docutils literal notranslate"><span class="pre">pad1</span></code> to <code class="docutils literal notranslate"><span class="pre">pad5</span></code> are pad types connected to different data input pins
(10,11,12,13,15), as described in section 2.1 of this file.</p>
<p>The types are:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Joystick/Pad</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>None</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>SNES pad</td>
</tr>
<tr class="row-even"><td>2</td>
<td>NES pad</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Multisystem 1-button joystick</td>
</tr>
<tr class="row-even"><td>5</td>
<td>Multisystem 2-button joystick</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>N64 pad</td>
</tr>
<tr class="row-even"><td>7</td>
<td>Sony PSX controller</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>Sony PSX DDR controller</td>
</tr>
<tr class="row-even"><td>9</td>
<td>SNES mouse</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The exact type of the PSX controller type is autoprobed when used, so
hot swapping should work (but is not recommended).</p>
<p>Should you want to use more than one of parallel ports at once, you can use
gamecon.map2 and gamecon.map3 as additional command line parameters for two
more parallel ports.</p>
<p>There are two options specific to PSX driver portion.  gamecon.psx_delay sets
the command delay when talking to the controllers. The default of 25 should
work but you can try lowering it for better performance. If your pads don’t
respond try raising it until they work. Setting the type to 8 allows the
driver to be used with Dance Dance Revolution or similar games. Arrow keys are
registered as key presses instead of X and Y axes.</p>
</div>
<div class="section" id="db9-c">
<h3>11.4.2. db9.c<a class="headerlink" href="#db9-c" title="Permalink to this headline">¶</a></h3>
<p>Apart from making an interface, there is nothing difficult on using the
db9.c driver. It uses the following kernel/module command line:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>db9.dev=port,type
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">port</span></code> is the number of the parport interface (eg. 0 for parport0).</p>
<p>Caveat here: This driver only works on bidirectional parallel ports. If
your parallel port is recent enough, you should have no trouble with this.
Old parallel ports may not have this feature.</p>
<p><code class="docutils literal notranslate"><span class="pre">Type</span></code> is the type of joystick or pad attached:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Joystick/Pad</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>None</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>Multisystem 1-button joystick</td>
</tr>
<tr class="row-even"><td>2</td>
<td>Multisystem 2-button joystick</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>Genesis pad (3+1 buttons)</td>
</tr>
<tr class="row-even"><td>5</td>
<td>Genesis pad (5+1 buttons)</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>Genesis pad (6+2 buttons)</td>
</tr>
<tr class="row-even"><td>7</td>
<td>Saturn pad (8 buttons)</td>
</tr>
<tr class="row-odd"><td>8</td>
<td>Multisystem 1-button joystick (v0.8.0.2 pin-out)</td>
</tr>
<tr class="row-even"><td>9</td>
<td>Two Multisystem 1-button joysticks (v0.8.0.2 pin-out)</td>
</tr>
<tr class="row-odd"><td>10</td>
<td>Amiga CD32 pad</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Should you want to use more than one of these joysticks/pads at once, you
can use db9.dev2 and db9.dev3 as additional command line parameters for two
more joysticks/pads.</p>
</div>
<div class="section" id="turbografx-c">
<h3>11.4.3. turbografx.c<a class="headerlink" href="#turbografx-c" title="Permalink to this headline">¶</a></h3>
<p>The turbografx.c driver uses a very simple kernel/module command line:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>turbografx.map=port,js1,js2,js3,js4,js5,js6,js7
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">port</span></code> is the number of the parport interface (eg. 0 for parport0).</p>
<p><code class="docutils literal notranslate"><span class="pre">jsX</span></code> is the number of buttons the Multisystem joysticks connected to the
interface ports 1-7 have. For a standard multisystem joystick, this is 1.</p>
<p>Should you want to use more than one of these interfaces at once, you can
use turbografx.map2 and turbografx.map3 as additional command line parameters
for two more interfaces.</p>
</div>
</div>
<div class="section" id="pc-parallel-port-pinout">
<h2>11.5. PC parallel port pinout<a class="headerlink" href="#pc-parallel-port-pinout" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>               .----------------------------------------.
At the PC:     \ 13 12 11 10  9  8  7  6  5  4  3  2  1 /
                \  25 24 23 22 21 20 19 18 17 16 15 14 /
                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="27%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Pin</th>
<th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>/STROBE</td>
<td>Strobe</td>
</tr>
<tr class="row-odd"><td>2-9</td>
<td>D0-D7</td>
<td>Data Bit 0-7</td>
</tr>
<tr class="row-even"><td>10</td>
<td>/ACK</td>
<td>Acknowledge</td>
</tr>
<tr class="row-odd"><td>11</td>
<td>BUSY</td>
<td>Busy</td>
</tr>
<tr class="row-even"><td>12</td>
<td>PE</td>
<td>Paper End</td>
</tr>
<tr class="row-odd"><td>13</td>
<td>SELIN</td>
<td>Select In</td>
</tr>
<tr class="row-even"><td>14</td>
<td>/AUTOFD</td>
<td>Autofeed</td>
</tr>
<tr class="row-odd"><td>15</td>
<td>/ERROR</td>
<td>Error</td>
</tr>
<tr class="row-even"><td>16</td>
<td>/INIT</td>
<td>Initialize</td>
</tr>
<tr class="row-odd"><td>17</td>
<td>/SEL</td>
<td>Select</td>
</tr>
<tr class="row-even"><td>18-25</td>
<td>GND</td>
<td>Signal Ground</td>
</tr>
</tbody>
</table>
<p>That’s all, folks! Have fun!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ntrig.html" class="btn btn-neutral float-right" title="12. N-Trig touchscreen Driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="iforce-protocol.html" class="btn btn-neutral float-left" title="10. Iforce Protocol" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>