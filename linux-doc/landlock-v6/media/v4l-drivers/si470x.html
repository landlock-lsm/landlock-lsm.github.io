

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>25. The Silicon Labs Si470x FM Radio Receivers driver &mdash; The Linux Kernel 4.11.0-rc3+ documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="The Linux Kernel 4.11.0-rc3+ documentation" href="../../index.html"/>
        <link rel="up" title="Video4Linux (V4L) driver-specific documentation" href="index.html"/>
        <link rel="next" title="26. The Silicon Labs Si4713 FM Radio Transmitter Driver" href="si4713.html"/>
        <link rel="prev" title="24. Cropping and Scaling algorithm, used in the sh_mobile_ceu_camera driver" href="sh_mobile_ceu_camera.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                4.11.0-rc3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user&#8217;s and administrator&#8217;s guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">The Linux driver implementer&#8217;s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Linux Media Subsystem Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../media_uapi.html">Linux Media Infrastructure userspace API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../media_kapi.html">Media subsystem kernel internal API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dvb-drivers/index.html">Linux Digital TV driver-specific documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Video4Linux (V4L)  driver-specific documentation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="fourcc.html">1. Guidelines for Video4Linux pixel format 4CCs</a></li>
<li class="toctree-l3"><a class="reference internal" href="v4l-with-ir.html">2. Infrared remote control support in video4linux drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="v4l-with-ir.html#using-with-lircd">3. Using with lircd</a></li>
<li class="toctree-l3"><a class="reference internal" href="v4l-with-ir.html#using-without-lircd">4. Using without lircd</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuners.html">5. Tuner drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardlist.html">6. Cards List</a></li>
<li class="toctree-l3"><a class="reference internal" href="bttv.html">7. The bttv driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="cafe_ccic.html">8. The cafe_ccic driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="cpia2.html">9. The cpia2 driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="cx18.html">10. The cx18 driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="cx2341x.html">11. The cx2341x driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="cx88.html">12. The cx88 driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="davinci-vpbe.html">13. The VPBE V4L2 driver design</a></li>
<li class="toctree-l3"><a class="reference internal" href="fimc.html">14. The Samsung S5P/EXYNOS4 FIMC driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="ivtv.html">15. The ivtv driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="meye.html">16. Vaio Picturebook Motion Eye Camera Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="omap3isp.html">17. OMAP 3 Image Signal Processor (ISP) driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="omap4_camera.html">18. OMAP4 ISS Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="pvrusb2.html">19. The pvrusb2 driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="pxa_camera.html">20. PXA-Camera Host Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="radiotrack.html">21. The Radiotrack radio driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="rcar-fdp1.html">22. Renesas R-Car Fine Display Processor (FDP1) Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="saa7134.html">23. The saa7134 driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sh_mobile_ceu_camera.html">24. Cropping and Scaling algorithm, used in the sh_mobile_ceu_camera driver</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">25. The Silicon Labs Si470x FM Radio Receivers driver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#information-from-silicon-labs">25.1. Information from Silicon Labs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-ics">25.2. Supported ICs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-usb-devices">25.3. Supported USB devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#software">25.4. Software</a></li>
<li class="toctree-l4"><a class="reference internal" href="#audio-listing">25.5. Audio Listing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-parameters">25.6. Module Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#errors">25.7. Errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#open-issues">25.8. Open Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-useful-information-and-links">25.9. Other useful information and links</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="si4713.html">26. The Silicon Labs Si4713 FM Radio Transmitter Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="si476x.html">27. The SI476x Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="soc-camera.html">28. The Soc-Camera Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="uvcvideo.html">29. The Linux USB Video Class (UVC) driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="vivid.html">30. The Virtual Video Test Driver (vivid)</a></li>
<li class="toctree-l3"><a class="reference internal" href="zoran.html">31. The Zoran driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="zr364xx.html">32. Zoran 364xx based USB webcam module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../gpu/index.html">Linux GPU Driver Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/index.html">Linux Kernel Crypto API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/ko_KR/index.html">Korean translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/zh_CN/index.html">Chinese translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">The Linux Kernel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Linux Media Subsystem Documentation</a> &raquo;</li>
      
          <li><a href="index.html">Video4Linux (V4L)  driver-specific documentation</a> &raquo;</li>
      
    <li>25. The Silicon Labs Si470x FM Radio Receivers driver</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/media/v4l-drivers/si470x.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-silicon-labs-si470x-fm-radio-receivers-driver">
<h1>25. The Silicon Labs Si470x FM Radio Receivers driver<a class="headerlink" href="#the-silicon-labs-si470x-fm-radio-receivers-driver" title="Permalink to this headline">¶</a></h1>
<p>Copyright © 2009 Tobias Lorenz &lt;<a class="reference external" href="mailto:tobias&#46;lorenz&#37;&#52;&#48;gmx&#46;net">tobias<span>&#46;</span>lorenz<span>&#64;</span>gmx<span>&#46;</span>net</a>&gt;</p>
<div class="section" id="information-from-silicon-labs">
<h2>25.1. Information from Silicon Labs<a class="headerlink" href="#information-from-silicon-labs" title="Permalink to this headline">¶</a></h2>
<p>Silicon Laboratories is the manufacturer of the radio ICs, that nowadays are the
most often used radio receivers in cell phones. Usually they are connected with
I2C. But SiLabs also provides a reference design, which integrates this IC,
together with a small microcontroller C8051F321, to form a USB radio.
Part of this reference design is also a radio application in binary and source
code. The software also contains an automatic firmware upgrade to the most
current version. Information on these can be downloaded here:
<a class="reference external" href="http://www.silabs.com/usbradio">http://www.silabs.com/usbradio</a></p>
</div>
<div class="section" id="supported-ics">
<h2>25.2. Supported ICs<a class="headerlink" href="#supported-ics" title="Permalink to this headline">¶</a></h2>
<p>The following ICs have a very similar register set, so that they are or will be
supported somewhen by the driver:</p>
<ul class="simple">
<li>Si4700: FM radio receiver</li>
<li>Si4701: FM radio receiver, RDS Support</li>
<li>Si4702: FM radio receiver</li>
<li>Si4703: FM radio receiver, RDS Support</li>
<li>Si4704: FM radio receiver, no external antenna required</li>
<li>Si4705: FM radio receiver, no external antenna required, RDS support, Dig I/O</li>
<li><dl class="first docutils">
<dt>Si4706: Enhanced FM RDS/TMC radio receiver, no external antenna required, RDS</dt>
<dd>Support</dd>
</dl>
</li>
<li>Si4707: Dedicated weather band radio receiver with SAME decoder, RDS Support</li>
<li>Si4708: Smallest FM receivers</li>
<li>Si4709: Smallest FM receivers, RDS Support</li>
</ul>
<p>More information on these can be downloaded here:
<a class="reference external" href="http://www.silabs.com/products/mcu/Pages/USBFMRadioRD.aspx">http://www.silabs.com/products/mcu/Pages/USBFMRadioRD.aspx</a></p>
</div>
<div class="section" id="supported-usb-devices">
<h2>25.3. Supported USB devices<a class="headerlink" href="#supported-usb-devices" title="Permalink to this headline">¶</a></h2>
<p>Currently the following USB radios (vendor:product) with the Silicon Labs si470x
chips are known to work:</p>
<ul class="simple">
<li>10c4:818a: Silicon Labs USB FM Radio Reference Design</li>
<li>06e1:a155: ADS/Tech FM Radio Receiver (formerly Instant FM Music) (RDX-155-EF)</li>
<li>1b80:d700: KWorld USB FM Radio SnapMusic Mobile 700 (FM700)</li>
<li>10c5:819a: Sanei Electric, Inc. FM USB Radio (sold as DealExtreme.com PCear)</li>
</ul>
</div>
<div class="section" id="software">
<h2>25.4. Software<a class="headerlink" href="#software" title="Permalink to this headline">¶</a></h2>
<p>Testing is usually done with most application under Debian/testing:</p>
<ul class="simple">
<li>fmtools - Utility for managing FM tuner cards</li>
<li>gnomeradio - FM-radio tuner for the GNOME desktop</li>
<li>gradio - GTK FM radio tuner</li>
<li>kradio - Comfortable Radio Application for KDE</li>
<li>radio - ncurses-based radio application</li>
<li>mplayer - The Ultimate Movie Player For Linux</li>
<li>v4l2-ctl - Collection of command line video4linux utilities</li>
</ul>
<p>For example, you can use:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>v4l2-ctl -d /dev/radio0 --set-ctrl=volume=10,mute=0 --set-freq=95.21 --all
</pre></div>
</div>
<p>There is also a library libv4l, which can be used. It&#8217;s going to have a function
for frequency seeking, either by using hardware functionality as in radio-si470x
or by implementing a function as we currently have in every of the mentioned
programs. Somewhen the radio programs should make use of libv4l.</p>
<p>For processing RDS information, there is a project ongoing at:
<a class="reference external" href="http://rdsd.berlios.de/">http://rdsd.berlios.de/</a></p>
<p>There is currently no project for making TMC sentences human readable.</p>
</div>
<div class="section" id="audio-listing">
<h2>25.5. Audio Listing<a class="headerlink" href="#audio-listing" title="Permalink to this headline">¶</a></h2>
<p>USB Audio is provided by the ALSA snd_usb_audio module. It is recommended to
also select SND_USB_AUDIO, as this is required to get sound from the radio. For
listing you have to redirect the sound, for example using one of the following
commands. Please adjust the audio devices to your needs (/dev/dsp* and hw:x,x).</p>
<p>If you just want to test audio (very poor quality):</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>cat /dev/dsp1 &gt; /dev/dsp
</pre></div>
</div>
<p>If you use sox + OSS try:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>sox -2 --endian little -r 96000 -t oss /dev/dsp1 -t oss /dev/dsp
</pre></div>
</div>
<p>or using sox + alsa:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>sox --endian little -c 2 -S -r 96000 -t alsa hw:1 -t alsa -r 96000 hw:0
</pre></div>
</div>
<p>If you use arts try:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>arecord -D hw:1,0 -r96000 -c2 -f S16_LE | artsdsp aplay -B -
</pre></div>
</div>
<p>If you use mplayer try:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>mplayer -radio adevice=hw=1.0:arate=96000 \
        -rawaudio rate=96000 \
        radio://&lt;frequency&gt;/capture
</pre></div>
</div>
</div>
<div class="section" id="module-parameters">
<h2>25.6. Module Parameters<a class="headerlink" href="#module-parameters" title="Permalink to this headline">¶</a></h2>
<p>After loading the module, you still have access to some of them in the sysfs
mount under /sys/module/radio_si470x/parameters. The contents of read-only files
(0444) are not updated, even if space, band and de are changed using private
video controls. The others are runtime changeable.</p>
</div>
<div class="section" id="errors">
<h2>25.7. Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h2>
<p>Increase tune_timeout, if you often get -EIO errors.</p>
<p>When timed out or band limit is reached, hw_freq_seek returns -EAGAIN.</p>
<p>If you get any errors from snd_usb_audio, please report them to the ALSA people.</p>
</div>
<div class="section" id="open-issues">
<h2>25.8. Open Issues<a class="headerlink" href="#open-issues" title="Permalink to this headline">¶</a></h2>
<p>V4L minor device allocation and parameter setting is not perfect. A solution is
currently under discussion.</p>
<p>There is an USB interface for downloading/uploading new firmware images. Support
for it can be implemented using the request_firmware interface.</p>
<p>There is a RDS interrupt mode. The driver is already using the same interface
for polling RDS information, but is currently not using the interrupt mode.</p>
<p>There is a LED interface, which can be used to override the LED control
programmed in the firmware. This can be made available using the LED support
functions in the kernel.</p>
</div>
<div class="section" id="other-useful-information-and-links">
<h2>25.9. Other useful information and links<a class="headerlink" href="#other-useful-information-and-links" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.silabs.com/usbradio">http://www.silabs.com/usbradio</a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="si4713.html" class="btn btn-neutral float-right" title="26. The Silicon Labs Si4713 FM Radio Transmitter Driver" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sh_mobile_ceu_camera.html" class="btn btn-neutral" title="24. Cropping and Scaling algorithm, used in the sh_mobile_ceu_camera driver" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'4.11.0-rc3+',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>