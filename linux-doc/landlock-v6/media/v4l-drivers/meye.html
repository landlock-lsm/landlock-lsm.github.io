

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>16. Vaio Picturebook Motion Eye Camera Driver &mdash; The Linux Kernel 4.11.0-rc3+ documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="The Linux Kernel 4.11.0-rc3+ documentation" href="../../index.html"/>
        <link rel="up" title="Video4Linux (V4L) driver-specific documentation" href="index.html"/>
        <link rel="next" title="17. OMAP 3 Image Signal Processor (ISP) driver" href="omap3isp.html"/>
        <link rel="prev" title="15. The ivtv driver" href="ivtv.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                4.11.0-rc3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">The Linux kernel user&#8217;s and administrator&#8217;s guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">How to write kernel documentation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">The Linux driver implementer&#8217;s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Linux Media Subsystem Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../media_uapi.html">Linux Media Infrastructure userspace API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../media_kapi.html">Media subsystem kernel internal API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dvb-drivers/index.html">Linux Digital TV driver-specific documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Video4Linux (V4L)  driver-specific documentation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="fourcc.html">1. Guidelines for Video4Linux pixel format 4CCs</a></li>
<li class="toctree-l3"><a class="reference internal" href="v4l-with-ir.html">2. Infrared remote control support in video4linux drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="v4l-with-ir.html#using-with-lircd">3. Using with lircd</a></li>
<li class="toctree-l3"><a class="reference internal" href="v4l-with-ir.html#using-without-lircd">4. Using without lircd</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuners.html">5. Tuner drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardlist.html">6. Cards List</a></li>
<li class="toctree-l3"><a class="reference internal" href="bttv.html">7. The bttv driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="cafe_ccic.html">8. The cafe_ccic driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="cpia2.html">9. The cpia2 driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="cx18.html">10. The cx18 driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="cx2341x.html">11. The cx2341x driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="cx88.html">12. The cx88 driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="davinci-vpbe.html">13. The VPBE V4L2 driver design</a></li>
<li class="toctree-l3"><a class="reference internal" href="fimc.html">14. The Samsung S5P/EXYNOS4 FIMC driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="ivtv.html">15. The ivtv driver</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">16. Vaio Picturebook Motion Eye Camera Driver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hardware-supported">16.1. Hardware supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="#driver-options">16.2. Driver options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-use">16.3. Module use</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">16.4. Usage:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#private-api">16.5. Private API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bugs-todo">16.6. Bugs / Todo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="omap3isp.html">17. OMAP 3 Image Signal Processor (ISP) driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="omap4_camera.html">18. OMAP4 ISS Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="pvrusb2.html">19. The pvrusb2 driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="pxa_camera.html">20. PXA-Camera Host Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="radiotrack.html">21. The Radiotrack radio driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="rcar-fdp1.html">22. Renesas R-Car Fine Display Processor (FDP1) Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="saa7134.html">23. The saa7134 driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="sh_mobile_ceu_camera.html">24. Cropping and Scaling algorithm, used in the sh_mobile_ceu_camera driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="si470x.html">25. The Silicon Labs Si470x FM Radio Receivers driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="si4713.html">26. The Silicon Labs Si4713 FM Radio Transmitter Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="si476x.html">27. The SI476x Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="soc-camera.html">28. The Soc-Camera Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="uvcvideo.html">29. The Linux USB Video Class (UVC) driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="vivid.html">30. The Virtual Video Test Driver (vivid)</a></li>
<li class="toctree-l3"><a class="reference internal" href="zoran.html">31. The Zoran driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="zr364xx.html">32. Zoran 364xx based USB webcam module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../gpu/index.html">Linux GPU Driver Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html">Security documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/index.html">Linux Kernel Crypto API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/ko_KR/index.html">Korean translations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/zh_CN/index.html">Chinese translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">The Linux Kernel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Linux Media Subsystem Documentation</a> &raquo;</li>
      
          <li><a href="index.html">Video4Linux (V4L)  driver-specific documentation</a> &raquo;</li>
      
    <li>16. Vaio Picturebook Motion Eye Camera Driver</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/media/v4l-drivers/meye.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="vaio-picturebook-motion-eye-camera-driver">
<h1>16. Vaio Picturebook Motion Eye Camera Driver<a class="headerlink" href="#vaio-picturebook-motion-eye-camera-driver" title="Permalink to this headline">¶</a></h1>
<p>Copyright © 2001-2004 Stelian Pop &lt;<a class="reference external" href="mailto:stelian&#37;&#52;&#48;popies&#46;net">stelian<span>&#64;</span>popies<span>&#46;</span>net</a>&gt;</p>
<p>Copyright © 2001-2002 Alcôve &lt;www.alcove.com&gt;</p>
<p>Copyright © 2000 Andrew Tridgell &lt;<a class="reference external" href="mailto:tridge&#37;&#52;&#48;samba&#46;org">tridge<span>&#64;</span>samba<span>&#46;</span>org</a>&gt;</p>
<p>This driver enable the use of video4linux compatible applications with the
Motion Eye camera. This driver requires the &#8220;Sony Laptop Extras&#8221; driver (which
can be found in the &#8220;Misc devices&#8221; section of the kernel configuration utility)
to be compiled and installed (using its &#8220;camera=1&#8221; parameter).</p>
<p>It can do at maximum 30 fps &#64; 320x240 or 15 fps &#64; 640x480.</p>
<p>Grabbing is supported in packed YUV colorspace only.</p>
<p>MJPEG hardware grabbing is supported via a private API (see below).</p>
<div class="section" id="hardware-supported">
<h2>16.1. Hardware supported<a class="headerlink" href="#hardware-supported" title="Permalink to this headline">¶</a></h2>
<p>This driver supports the &#8216;second&#8217; version of the MotionEye camera :)</p>
<p>The first version was connected directly on the video bus of the Neomagic
video card and is unsupported.</p>
<p>The second one, made by Kawasaki Steel is fully supported by this
driver (PCI vendor/device is 0x136b/0xff01)</p>
<p>The third one, present in recent (more or less last year) Picturebooks
(C1M* models), is not supported. The manufacturer has given the specs
to the developers under a NDA (which allows the development of a GPL
driver however), but things are not moving very fast (see
<a class="reference external" href="http://r-engine.sourceforge.net/">http://r-engine.sourceforge.net/</a>) (PCI vendor/device is 0x10cf/0x2011).</p>
<p>There is a forth model connected on the USB bus in TR1* Vaio laptops.
This camera is not supported at all by the current driver, in fact
little information if any is available for this camera
(USB vendor/device is 0x054c/0x0107).</p>
</div>
<div class="section" id="driver-options">
<h2>16.2. Driver options<a class="headerlink" href="#driver-options" title="Permalink to this headline">¶</a></h2>
<p>Several options can be passed to the meye driver using the standard
module argument syntax (&lt;param&gt;=&lt;value&gt; when passing the option to the
module or meye.&lt;param&gt;=&lt;value&gt; on the kernel boot line when meye is
statically linked into the kernel). Those options are:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>gbuffers:       number of capture buffers, default is 2 (32 max)

gbufsize:       size of each capture buffer, default is 614400

video_nr:       video device to register (0 = /dev/video0, etc)
</pre></div>
</div>
</div>
<div class="section" id="module-use">
<h2>16.3. Module use<a class="headerlink" href="#module-use" title="Permalink to this headline">¶</a></h2>
<p>In order to automatically load the meye module on use, you can put those lines
in your /etc/modprobe.d/meye.conf file:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>alias char-major-81 videodev
alias char-major-81-0 meye
options meye gbuffers=32
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>16.4. Usage:<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none"><div class="highlight"><pre><span></span>xawtv &gt;= 3.49 (&lt;http://bytesex.org/xawtv/&gt;)
        for display and uncompressed video capture:

                xawtv -c /dev/video0 -geometry 640x480
                        or
                xawtv -c /dev/video0 -geometry 320x240

motioneye (&lt;http://popies.net/meye/&gt;)
        for getting ppm or jpg snapshots, mjpeg video
</pre></div>
</div>
</div>
<div class="section" id="private-api">
<h2>16.5. Private API<a class="headerlink" href="#private-api" title="Permalink to this headline">¶</a></h2>
<p>The driver supports frame grabbing with the video4linux API,
so all video4linux tools (like xawtv) should work with this driver.</p>
<p>Besides the video4linux interface, the driver has a private interface
for accessing the Motion Eye extended parameters (camera sharpness,
agc, video framerate), the shapshot and the MJPEG capture facilities.</p>
<p>This interface consists of several ioctls (prototypes and structures
can be found in include/linux/meye.h):</p>
<dl class="docutils">
<dt>MEYEIOC_G_PARAMS and MEYEIOC_S_PARAMS</dt>
<dd>Get and set the extended parameters of the motion eye camera.
The user should always query the current parameters with
MEYEIOC_G_PARAMS, change what he likes and then issue the
MEYEIOC_S_PARAMS call (checking for -EINVAL). The extended
parameters are described by the meye_params structure.</dd>
<dt>MEYEIOC_QBUF_CAPT</dt>
<dd>Queue a buffer for capture (the buffers must have been
obtained with a VIDIOCGMBUF call and mmap&#8217;ed by the
application). The argument to MEYEIOC_QBUF_CAPT is the
buffer number to queue (or -1 to end capture). The first
call to MEYEIOC_QBUF_CAPT starts the streaming capture.</dd>
<dt>MEYEIOC_SYNC</dt>
<dd>Takes as an argument the buffer number you want to sync.
This ioctl blocks until the buffer is filled and ready
for the application to use. It returns the buffer size.</dd>
<dt>MEYEIOC_STILLCAPT and MEYEIOC_STILLJCAPT</dt>
<dd>Takes a snapshot in an uncompressed or compressed jpeg format.
This ioctl blocks until the snapshot is done and returns (for
jpeg snapshot) the size of the image. The image data is
available from the first mmap&#8217;ed buffer.</dd>
</dl>
<p>Look at the &#8216;motioneye&#8217; application code for an actual example.</p>
</div>
<div class="section" id="bugs-todo">
<h2>16.6. Bugs / Todo<a class="headerlink" href="#bugs-todo" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>&#8216;motioneye&#8217; still uses the meye private v4l1 API extensions.</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="omap3isp.html" class="btn btn-neutral float-right" title="17. OMAP 3 Image Signal Processor (ISP) driver" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ivtv.html" class="btn btn-neutral" title="15. The ivtv driver" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'4.11.0-rc3+',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>