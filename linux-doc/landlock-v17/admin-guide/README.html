

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Linux kernel release 5.x &lt;http://kernel.org/&gt; &mdash; The Linux Kernel 5.7.0-rc5+ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The kernel’s command-line parameters" href="kernel-parameters.html" />
    <link rel="prev" title="The Linux kernel user’s and administrator’s guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0-rc5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The Linux kernel user’s and administrator’s guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Linux kernel release 5.x &lt;http://kernel.org/&gt;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-linux">What is Linux?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#on-what-hardware-does-it-run">On what hardware does it run?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-the-kernel-source">Installing the kernel source</a></li>
<li class="toctree-l3"><a class="reference internal" href="#software-requirements">Software requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-directory-for-the-kernel">Build directory for the kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-the-kernel">Configuring the kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiling-the-kernel">Compiling the kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#if-something-goes-wrong">If something goes wrong</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="kernel-parameters.html">The kernel’s command-line parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices.html">Linux allocated devices (4.x+ version)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysctl/index.html">Documentation for /proc/sys</a></li>
<li class="toctree-l2"><a class="reference internal" href="hw-vuln/index.html">Hardware vulnerabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="reporting-bugs.html">Reporting bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="security-bugs.html">Security bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="bug-hunting.html">Bug hunting</a></li>
<li class="toctree-l2"><a class="reference internal" href="bug-bisect.html">Bisecting a bug</a></li>
<li class="toctree-l2"><a class="reference internal" href="tainted-kernels.html">Tainted kernels</a></li>
<li class="toctree-l2"><a class="reference internal" href="ramoops.html">Ramoops oops/panic logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamic-debug-howto.html">Dynamic debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="init.html">Explaining the dreaded “No init found.” boot hang message</a></li>
<li class="toctree-l2"><a class="reference internal" href="kdump/index.html">Documentation for Kdump - The kexec-based Crash Dumping Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="perf/index.html">Performance monitor support</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysfs-rules.html">Rules on how to access information in sysfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="acpi/index.html">ACPI Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="aoe/index.html">ATA over Ethernet (AoE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxdisplay/index.html">Auxiliary Display Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="bcache.html">A block layer cache (bcache)</a></li>
<li class="toctree-l2"><a class="reference internal" href="binderfs.html">The Android binderfs Filesystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="binfmt-misc.html">Kernel Support for miscellaneous Binary Formats (binfmt_misc)</a></li>
<li class="toctree-l2"><a class="reference internal" href="blockdev/index.html">The Linux RapidIO Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootconfig.html">Boot Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="braille-console.html">Linux Braille Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="btmrvl.html">btmrvl driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="cgroup-v1/index.html">Control Groups version 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="cgroup-v2.html">Control Group v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="cifs/index.html">CIFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="clearing-warn-once.html">Clearing WARN_ONCE</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpu-load.html">CPU load</a></li>
<li class="toctree-l2"><a class="reference internal" href="cputopology.html">How CPU topology info is exported via sysfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="dell_rbu.html">Dell Remote BIOS Update driver (dell_rbu)</a></li>
<li class="toctree-l2"><a class="reference internal" href="device-mapper/index.html">Device Mapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="edid.html">EDID</a></li>
<li class="toctree-l2"><a class="reference internal" href="efi-stub.html">The EFI Boot Stub</a></li>
<li class="toctree-l2"><a class="reference internal" href="ext4.html">ext4 General Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="nfs/index.html">NFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpio/index.html">gpio</a></li>
<li class="toctree-l2"><a class="reference internal" href="highuid.html">Notes on the change from 16-bit UIDs to 32-bit UIDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="hw_random.html">Linux support for random number generator in i8xx chipsets</a></li>
<li class="toctree-l2"><a class="reference internal" href="initrd.html">Using the initial RAM disk (initrd)</a></li>
<li class="toctree-l2"><a class="reference internal" href="iostats.html">I/O statistics fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="java.html">Java(tm) Binary Kernel Support for Linux v1.03</a></li>
<li class="toctree-l2"><a class="reference internal" href="jfs.html">IBM’s Journaled File System (JFS) for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel-per-CPU-kthreads.html">Reducing OS jitter due to per-cpu kthreads</a></li>
<li class="toctree-l2"><a class="reference internal" href="laptops/index.html">Laptop Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="lcd-panel-cgram.html">Parallel port LCD/Keypad Panel support</a></li>
<li class="toctree-l2"><a class="reference internal" href="ldm.html">LDM - Logical Disk Manager (Dynamic Disks)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lockup-watchdogs.html">Softlockup detector and hardlockup detector (aka nmi_watchdog)</a></li>
<li class="toctree-l2"><a class="reference internal" href="LSM/index.html">Linux Security Module Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="md.html">RAID arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="mm/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-signing.html">Kernel module signing facility</a></li>
<li class="toctree-l2"><a class="reference internal" href="mono.html">Mono(tm) Binary Kernel Support for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespaces/index.html">Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="numastat.html">Numa policy hit/miss statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="parport.html">Parport</a></li>
<li class="toctree-l2"><a class="reference internal" href="perf-security.html">Perf Events and tool security</a></li>
<li class="toctree-l2"><a class="reference internal" href="pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="pnp.html">Linux Plug and Play Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapidio.html">RapidIO Subsystem Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="ras.html">Reliability, Availability and Serviceability</a></li>
<li class="toctree-l2"><a class="reference internal" href="rtc.html">Real Time Clock (RTC) Drivers for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="serial-console.html">Linux Serial Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="svga.html">Video Mode Selection Support 2.13</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysrq.html">Linux Magic System Request Key Hacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="thunderbolt.html">USB4 and Thunderbolt</a></li>
<li class="toctree-l2"><a class="reference internal" href="ufs.html">Using UFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicode.html">Unicode support</a></li>
<li class="toctree-l2"><a class="reference internal" href="vga-softcursor.html">Software cursor for VGA</a></li>
<li class="toctree-l2"><a class="reference internal" href="video-output.html">Video Output Switcher Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="wimax/index.html">WiMAX subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="xfs.html">The SGI XFS Filesystem</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../media/index.html">Linux Media Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">The Linux kernel user’s and administrator’s guide</a> &raquo;</li>
        
      <li>Linux kernel release 5.x &lt;http://kernel.org/&gt;</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/admin-guide/README.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="linux-kernel-release-5-x-http-kernel-org">
<span id="readme"></span><h1>Linux kernel release 5.x &lt;<a class="reference external" href="http://kernel.org/">http://kernel.org/</a>&gt;<a class="headerlink" href="#linux-kernel-release-5-x-http-kernel-org" title="Permalink to this headline">¶</a></h1>
<p>These are the release notes for Linux version 5.  Read them carefully,
as they tell you what this is all about, explain how to install the
kernel, and what to do if something goes wrong.</p>
<div class="section" id="what-is-linux">
<h2>What is Linux?<a class="headerlink" href="#what-is-linux" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Linux is a clone of the operating system Unix, written from scratch by
Linus Torvalds with assistance from a loosely-knit team of hackers across
the Net. It aims towards POSIX and Single UNIX Specification compliance.</p>
<p>It has all the features you would expect in a modern fully-fledged Unix,
including true multitasking, virtual memory, shared libraries, demand
loading, shared copy-on-write executables, proper memory management,
and multistack networking including IPv4 and IPv6.</p>
<p>It is distributed under the GNU General Public License v2 - see the
accompanying COPYING file for more details.</p>
</div></blockquote>
</div>
<div class="section" id="on-what-hardware-does-it-run">
<h2>On what hardware does it run?<a class="headerlink" href="#on-what-hardware-does-it-run" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Although originally developed first for 32-bit x86-based PCs (386 or higher),
today Linux also runs on (at least) the Compaq Alpha AXP, Sun SPARC and
UltraSPARC, Motorola 68000, PowerPC, PowerPC64, ARM, Hitachi SuperH, Cell,
IBM S/390, MIPS, HP PA-RISC, Intel IA-64, DEC VAX, AMD x86-64 Xtensa, and
ARC architectures.</p>
<p>Linux is easily portable to most general-purpose 32- or 64-bit architectures
as long as they have a paged memory management unit (PMMU) and a port of the
GNU C compiler (gcc) (part of The GNU Compiler Collection, GCC). Linux has
also been ported to a number of architectures without a PMMU, although
functionality is then obviously somewhat limited.
Linux has also been ported to itself. You can now run the kernel as a
userspace application - this is called UserMode Linux (UML).</p>
</div></blockquote>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>There is a lot of documentation available both in electronic form on
the Internet and in books, both Linux-specific and pertaining to
general UNIX questions.  I’d recommend looking into the documentation
subdirectories on any Linux FTP site for the LDP (Linux Documentation
Project) books.  This README is not meant to be documentation on the
system: there are much better sources available.</p></li>
<li><p>There are various README files in the Documentation/ subdirectory:
these typically contain kernel-specific installation notes for some
drivers for example. Please read the
<a class="reference internal" href="../process/changes.html#changes"><span class="std std-ref">Documentation/process/changes.rst</span></a> file, as it
contains information about the problems, which may result by upgrading
your kernel.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="installing-the-kernel-source">
<h2>Installing the kernel source<a class="headerlink" href="#installing-the-kernel-source" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p>If you install the full sources, put the kernel tarball in a
directory where you have permissions (e.g. your home directory) and
unpack it:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>xz -cd linux-5.x.tar.xz | tar xvf -
</pre></div>
</div>
<p>Replace “X” with the version number of the latest kernel.</p>
<p>Do NOT use the /usr/src/linux area! This area has a (usually
incomplete) set of kernel headers that are used by the library header
files.  They should match the library, and not get messed up by
whatever the kernel-du-jour happens to be.</p>
</li>
<li><p>You can also upgrade between 5.x releases by patching.  Patches are
distributed in the xz format.  To install by patching, get all the
newer patch files, enter the top level directory of the kernel source
(linux-5.x) and execute:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>xz -cd ../patch-5.x.xz | patch -p1
</pre></div>
</div>
<p>Replace “x” for all versions bigger than the version “x” of your current
source tree, <strong>in_order</strong>, and you should be ok.  You may want to remove
the backup files (some-file-name~ or some-file-name.orig), and make sure
that there are no failed patches (some-file-name# or some-file-name.rej).
If there are, either you or I have made a mistake.</p>
<p>Unlike patches for the 5.x kernels, patches for the 5.x.y kernels
(also known as the -stable kernels) are not incremental but instead apply
directly to the base 5.x kernel.  For example, if your base kernel is 5.0
and you want to apply the 5.0.3 patch, you must not first apply the 5.0.1
and 5.0.2 patches. Similarly, if you are running kernel version 5.0.2 and
want to jump to 5.0.3, you must first reverse the 5.0.2 patch (that is,
patch -R) <strong>before</strong> applying the 5.0.3 patch. You can read more on this in
<a class="reference internal" href="../process/applying-patches.html#applying-patches"><span class="std std-ref">Documentation/process/applying-patches.rst</span></a>.</p>
<p>Alternatively, the script patch-kernel can be used to automate this
process.  It determines the current kernel version and applies any
patches found:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>linux/scripts/patch-kernel linux
</pre></div>
</div>
<p>The first argument in the command above is the location of the
kernel source.  Patches are applied from the current directory, but
an alternative directory can be specified as the second argument.</p>
</li>
<li><p>Make sure you have no stale .o files and dependencies lying around:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd linux
make mrproper
</pre></div>
</div>
<p>You should now have the sources correctly installed.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="software-requirements">
<h2>Software requirements<a class="headerlink" href="#software-requirements" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Compiling and running the 5.x kernels requires up-to-date
versions of various software packages.  Consult
<a class="reference internal" href="../process/changes.html#changes"><span class="std std-ref">Documentation/process/changes.rst</span></a> for the minimum version numbers
required and how to get updates for these packages.  Beware that using
excessively old versions of these packages can cause indirect
errors that are very difficult to track down, so don’t assume that
you can just update packages when obvious problems arise during
build or operation.</p>
</div></blockquote>
</div>
<div class="section" id="build-directory-for-the-kernel">
<h2>Build directory for the kernel<a class="headerlink" href="#build-directory-for-the-kernel" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>When compiling the kernel, all output files will per default be
stored together with the kernel source code.
Using the option <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">O=output/dir</span></code> allows you to specify an alternate
place for the output files (including .config).
Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>kernel source code: /usr/src/linux-5.x
build directory:    /home/name/build/kernel
</pre></div>
</div>
<p>To configure and build the kernel, use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd /usr/src/linux-5.x
make O=/home/name/build/kernel menuconfig
make O=/home/name/build/kernel
sudo make O=/home/name/build/kernel modules_install install
</pre></div>
</div>
<p>Please note: If the <code class="docutils literal notranslate"><span class="pre">O=output/dir</span></code> option is used, then it must be
used for all invocations of make.</p>
</div></blockquote>
</div>
<div class="section" id="configuring-the-kernel">
<h2>Configuring the kernel<a class="headerlink" href="#configuring-the-kernel" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><blockquote>
<div><p>Do not skip this step even if you are only upgrading one minor
version.  New configuration options are added in each release, and
odd problems will turn up if the configuration files are not set up
as expected.  If you want to carry your existing configuration to a
new version with minimal work, use <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">oldconfig</span></code>, which will
only ask you for the answers to new questions.</p>
</div></blockquote>
<ul>
<li><p>Alternative configuration commands are:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;make config&quot;      Plain text interface.

&quot;make menuconfig&quot;  Text based color menus, radiolists &amp; dialogs.

&quot;make nconfig&quot;     Enhanced text based color menus.

&quot;make xconfig&quot;     Qt based configuration tool.

&quot;make gconfig&quot;     GTK+ based configuration tool.

&quot;make oldconfig&quot;   Default all questions based on the contents of
                   your existing ./.config file and asking about
                   new config symbols.

&quot;make olddefconfig&quot;
                   Like above, but sets new symbols to their default
                   values without prompting.

&quot;make defconfig&quot;   Create a ./.config file by using the default
                   symbol values from either arch/$ARCH/defconfig
                   or arch/$ARCH/configs/${PLATFORM}_defconfig,
                   depending on the architecture.

&quot;make ${PLATFORM}_defconfig&quot;
                   Create a ./.config file by using the default
                   symbol values from
                   arch/$ARCH/configs/${PLATFORM}_defconfig.
                   Use &quot;make help&quot; to get a list of all available
                   platforms of your architecture.

&quot;make allyesconfig&quot;
                   Create a ./.config file by setting symbol
                   values to &#39;y&#39; as much as possible.

&quot;make allmodconfig&quot;
                   Create a ./.config file by setting symbol
                   values to &#39;m&#39; as much as possible.

&quot;make allnoconfig&quot; Create a ./.config file by setting symbol
                   values to &#39;n&#39; as much as possible.

&quot;make randconfig&quot;  Create a ./.config file by setting symbol
                   values to random values.

&quot;make localmodconfig&quot; Create a config based on current config and
                      loaded modules (lsmod). Disables any module
                      option that is not needed for the loaded modules.

                      To create a localmodconfig for another machine,
                      store the lsmod of that machine into a file
                      and pass it in as a LSMOD parameter.

              target$ lsmod &gt; /tmp/mylsmod
              target$ scp /tmp/mylsmod host:/tmp

              host$ make LSMOD=/tmp/mylsmod localmodconfig

                      The above also works when cross compiling.

&quot;make localyesconfig&quot; Similar to localmodconfig, except it will convert
                      all module options to built in (=y) options.

&quot;make kvmconfig&quot;   Enable additional options for kvm guest kernel support.

&quot;make xenconfig&quot;   Enable additional options for xen dom0 guest kernel
                   support.

&quot;make tinyconfig&quot;  Configure the tiniest possible kernel.
</pre></div>
</div>
<p>You can find more information on using the Linux kernel config tools
in Documentation/kbuild/kconfig.rst.</p>
</li>
<li><p>NOTES on <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">config</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Having unnecessary drivers will make the kernel bigger, and can
under some circumstances lead to problems: probing for a
nonexistent controller card may confuse your other controllers.</p></li>
<li><p>A kernel with math-emulation compiled in will still use the
coprocessor if one is present: the math emulation will just
never get used in that case.  The kernel will be slightly larger,
but will work on different machines regardless of whether they
have a math coprocessor or not.</p></li>
<li><p>The “kernel hacking” configuration details usually result in a
bigger or slower kernel (or both), and can even make the kernel
less stable by configuring some routines to actively try to
break bad code to find kernel problems (<a class="reference internal" href="../core-api/mm-api.html#c.kmalloc" title="kmalloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">kmalloc()</span></code></a>).  Thus you
should probably answer ‘n’ to the questions for “development”,
“experimental”, or “debugging” features.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="compiling-the-kernel">
<h2>Compiling the kernel<a class="headerlink" href="#compiling-the-kernel" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p>Make sure you have at least gcc 4.6 available.
For more information, refer to <a class="reference internal" href="../process/changes.html#changes"><span class="std std-ref">Documentation/process/changes.rst</span></a>.</p>
<p>Please note that you can still run a.out user programs with this kernel.</p>
</li>
<li><p>Do a <code class="docutils literal notranslate"><span class="pre">make</span></code> to create a compressed kernel image. It is also
possible to do <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> if you have lilo installed to suit the
kernel makefiles, but you may want to check your particular lilo setup first.</p>
<p>To do the actual install, you have to be root, but none of the normal
build should require that. Don’t take the name of root in vain.</p>
</li>
<li><p>If you configured any of the parts of the kernel as <code class="docutils literal notranslate"><span class="pre">modules</span></code>, you
will also have to do <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">modules_install</span></code>.</p></li>
<li><p>Verbose kernel compile/build output:</p>
<p>Normally, the kernel build system runs in a fairly quiet mode (but not
totally silent).  However, sometimes you or other kernel developers need
to see compile, link, or other commands exactly as they are executed.
For this, use “verbose” build mode.  This is done by passing
<code class="docutils literal notranslate"><span class="pre">V=1</span></code> to the <code class="docutils literal notranslate"><span class="pre">make</span></code> command, e.g.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make V=1 all
</pre></div>
</div>
<p>To have the build system also tell the reason for the rebuild of each
target, use <code class="docutils literal notranslate"><span class="pre">V=2</span></code>.  The default is <code class="docutils literal notranslate"><span class="pre">V=0</span></code>.</p>
</li>
<li><p>Keep a backup kernel handy in case something goes wrong.  This is
especially true for the development releases, since each new release
contains new code which has not been debugged.  Make sure you keep a
backup of the modules corresponding to that kernel, as well.  If you
are installing a new kernel with the same version number as your
working kernel, make a backup of your modules directory before you
do a <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">modules_install</span></code>.</p>
<p>Alternatively, before compiling, use the kernel config option
“LOCALVERSION” to append a unique suffix to the regular kernel version.
LOCALVERSION can be set in the “General Setup” menu.</p>
</li>
<li><p>In order to boot your new kernel, you’ll need to copy the kernel
image (e.g. …/linux/arch/x86/boot/bzImage after compilation)
to the place where your regular bootable kernel is found.</p></li>
<li><p>Booting a kernel directly from a floppy without the assistance of a
bootloader such as LILO, is no longer supported.</p>
<p>If you boot Linux from the hard drive, chances are you use LILO, which
uses the kernel image as specified in the file /etc/lilo.conf.  The
kernel image file is usually /vmlinuz, /boot/vmlinuz, /bzImage or
/boot/bzImage.  To use the new kernel, save a copy of the old image
and copy the new image over the old one.  Then, you MUST RERUN LILO
to update the loading map! If you don’t, you won’t be able to boot
the new kernel image.</p>
<p>Reinstalling LILO is usually a matter of running /sbin/lilo.
You may wish to edit /etc/lilo.conf to specify an entry for your
old kernel image (say, /vmlinux.old) in case the new one does not
work.  See the LILO docs for more information.</p>
<p>After reinstalling LILO, you should be all set.  Shutdown the system,
reboot, and enjoy!</p>
<p>If you ever need to change the default root device, video mode,
ramdisk size, etc.  in the kernel image, use the <code class="docutils literal notranslate"><span class="pre">rdev</span></code> program (or
alternatively the LILO boot options when appropriate).  No need to
recompile the kernel to change these parameters.</p>
</li>
<li><p>Reboot with the new kernel and enjoy.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="if-something-goes-wrong">
<h2>If something goes wrong<a class="headerlink" href="#if-something-goes-wrong" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p>If you have problems that seem to be due to kernel bugs, please check
the file MAINTAINERS to see if there is a particular person associated
with the part of the kernel that you are having trouble with. If there
isn’t anyone listed there, then the second best thing is to mail
them to me (<a class="reference external" href="mailto:torvalds&#37;&#52;&#48;linux-foundation&#46;org">torvalds<span>&#64;</span>linux-foundation<span>&#46;</span>org</a>), and possibly to any other
relevant mailing-list or to the newsgroup.</p></li>
<li><p>In all bug-reports, <em>please</em> tell what kernel you are talking about,
how to duplicate the problem, and what your setup is (use your common
sense).  If the problem is new, tell me so, and if the problem is
old, please try to tell me when you first noticed it.</p></li>
<li><p>If the bug results in a message like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unable to handle kernel paging request at address C0000010
Oops: 0002
EIP:   0010:XXXXXXXX
eax: xxxxxxxx   ebx: xxxxxxxx   ecx: xxxxxxxx   edx: xxxxxxxx
esi: xxxxxxxx   edi: xxxxxxxx   ebp: xxxxxxxx
ds: xxxx  es: xxxx  fs: xxxx  gs: xxxx
Pid: xx, process nr: xx
xx xx xx xx xx xx xx xx xx xx
</pre></div>
</div>
<p>or similar kernel debugging information on your screen or in your
system log, please duplicate it <em>exactly</em>.  The dump may look
incomprehensible to you, but it does contain information that may
help debugging the problem.  The text above the dump is also
important: it tells something about why the kernel dumped code (in
the above example, it’s due to a bad kernel pointer). More information
on making sense of the dump is in Documentation/admin-guide/bug-hunting.rst</p>
</li>
<li><p>If you compiled the kernel with CONFIG_KALLSYMS you can send the dump
as is, otherwise you will have to use the <code class="docutils literal notranslate"><span class="pre">ksymoops</span></code> program to make
sense of the dump (but compiling with CONFIG_KALLSYMS is usually preferred).
This utility can be downloaded from
<a class="reference external" href="https://www.kernel.org/pub/linux/utils/kernel/ksymoops/">https://www.kernel.org/pub/linux/utils/kernel/ksymoops/</a> .
Alternatively, you can do the dump lookup by hand:</p></li>
<li><p>In debugging dumps like the above, it helps enormously if you can
look up what the EIP value means.  The hex value as such doesn’t help
me or anybody else very much: it will depend on your particular
kernel setup.  What you should do is take the hex value from the EIP
line (ignore the <code class="docutils literal notranslate"><span class="pre">0010:</span></code>), and look it up in the kernel namelist to
see which kernel function contains the offending address.</p>
<p>To find out the kernel function name, you’ll need to find the system
binary associated with the kernel that exhibited the symptom.  This is
the file ‘linux/vmlinux’.  To extract the namelist and match it against
the EIP from the kernel crash, do:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nm vmlinux | sort | less
</pre></div>
</div>
<p>This will give you a list of kernel addresses sorted in ascending
order, from which it is simple to find the function that contains the
offending address.  Note that the address given by the kernel
debugging messages will not necessarily match exactly with the
function addresses (in fact, that is very unlikely), so you can’t
just ‘grep’ the list: the list will, however, give you the starting
point of each kernel function, so by looking for the function that
has a starting address lower than the one you are searching for but
is followed by a function with a higher address you will find the one
you want.  In fact, it may be a good idea to include a bit of
“context” in your problem report, giving a few lines around the
interesting one.</p>
<p>If you for some reason cannot do the above (you have a pre-compiled
kernel image or similar), telling me as much about your setup as
possible will help.  Please read the <a class="reference internal" href="reporting-bugs.html#reportingbugs"><span class="std std-ref">admin-guide/reporting-bugs.rst</span></a>
document for details.</p>
</li>
<li><p>Alternatively, you can use gdb on a running kernel. (read-only; i.e. you
cannot change values or set break points.) To do this, first compile the
kernel with -g; edit arch/x86/Makefile appropriately, then do a <code class="docutils literal notranslate"><span class="pre">make</span>
<span class="pre">clean</span></code>. You’ll also need to enable CONFIG_PROC_FS (via <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">config</span></code>).</p>
<p>After you’ve rebooted with the new kernel, do <code class="docutils literal notranslate"><span class="pre">gdb</span> <span class="pre">vmlinux</span> <span class="pre">/proc/kcore</span></code>.
You can now use all the usual gdb commands. The command to look up the
point where your system crashed is <code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">*0xXXXXXXXX</span></code>. (Replace the XXXes
with the EIP value.)</p>
<p>gdb’ing a non-running kernel currently fails because <code class="docutils literal notranslate"><span class="pre">gdb</span></code> (wrongly)
disregards the starting offset for which the kernel is compiled.</p>
</li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="kernel-parameters.html" class="btn btn-neutral float-right" title="The kernel’s command-line parameters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="The Linux kernel user’s and administrator’s guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>