

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Message Digest Algorithm Definitions &mdash; The Linux Kernel 5.10.0-rc3+ documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Random Number Algorithm Definitions" href="api-rng.html" />
    <link rel="prev" title="Authenticated Encryption With Associated Data (AEAD) Algorithm Definitions" href="api-aead.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.10.0-rc3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">Open Firmware and Device Tree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Linux Kernel Crypto API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Kernel Crypto API Interface Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-intro.html">Scatterlist Cryptographic API</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Kernel Crypto API Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="async-tx-api.html">Asynchronous Transfers/Transforms API</a></li>
<li class="toctree-l2"><a class="reference internal" href="asymmetric-keys.html">Asymmetric / Public-key Cryptography Key Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="devel-algos.html">Developing Cipher Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="userspace-if.html">User Space Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="crypto_engine.html">Crypto Engine</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="api.html">Programming Interface</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html">Block Cipher Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html#symmetric-key-cipher-api">Symmetric Key Cipher API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html#symmetric-key-cipher-request-handle">Symmetric Key Cipher Request Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-skcipher.html#single-block-cipher-api">Single Block Cipher API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-aead.html">Authenticated Encryption With Associated Data (AEAD) Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-aead.html#authenticated-encryption-with-associated-data-aead-cipher-api">Authenticated Encryption With Associated Data (AEAD) Cipher API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-aead.html#asynchronous-aead-request-handle">Asynchronous AEAD Request Handle</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Message Digest Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#asynchronous-message-digest-api">Asynchronous Message Digest API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#asynchronous-hash-request-handle">Asynchronous Hash Request Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="#synchronous-message-digest-api">Synchronous Message Digest API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-rng.html">Random Number Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-rng.html#crypto-api-random-number-api">Crypto API Random Number API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-akcipher.html">Asymmetric Cipher Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-akcipher.html#asymmetric-cipher-api">Asymmetric Cipher API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-akcipher.html#asymmetric-cipher-request-handle">Asymmetric Cipher Request Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-kpp.html">Key-agreement Protocol Primitives (KPP) Cipher Algorithm Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-kpp.html#key-agreement-protocol-primitives-kpp-cipher-api">Key-agreement Protocol Primitives (KPP) Cipher API</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-kpp.html#key-agreement-protocol-primitives-kpp-cipher-request-handle">Key-agreement Protocol Primitives (KPP) Cipher Request Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-kpp.html#ecdh-helper-functions">ECDH Helper Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api-kpp.html#dh-helper-functions">DH Helper Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api-samples.html">Code Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="descore-readme.html">Fast &amp; Portable DES encryption &amp; decryption</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Linux Kernel Crypto API</a> &raquo;</li>
        
          <li><a href="api.html">Programming Interface</a> &raquo;</li>
        
      <li>Message Digest Algorithm Definitions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/crypto/api-digest.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="message-digest-algorithm-definitions">
<h1>Message Digest Algorithm Definitions<a class="headerlink" href="#message-digest-algorithm-definitions" title="Permalink to this headline">¶</a></h1>
<p>These data structures define modular message digest algorithm
implementations, managed via crypto_register_ahash(),
crypto_register_shash(), crypto_unregister_ahash() and
crypto_unregister_shash().</p>
<dl class="c struct">
<dt id="c.hash_alg_common">
<em class="property">struct </em><code class="sig-name descname">hash_alg_common</code><a class="headerlink" href="#c.hash_alg_common" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>define properties of message digest</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct hash_alg_common {
  unsigned int digestsize;
  unsigned int statesize;
  struct crypto_alg base;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">digestsize</span></code></dt><dd><p>Size of the result of the transformation. A buffer of this size
must be available to the <strong>final</strong> and <strong>finup</strong> calls, so they can
store the resulting hash into it. For various predefined sizes,
search include/crypto/ using
git grep _DIGEST_SIZE include/crypto.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">statesize</span></code></dt><dd><p>Size of the block for partial state of the transformation. A
buffer of this size must be passed to the <strong>export</strong> function as it
will save the partial state of the transformation into it. On the
other side, the <strong>import</strong> function will load the state from a
buffer of this size as well.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">base</span></code></dt><dd><p>Start of data structure of cipher algorithm. The common data
structure of crypto_alg contains information common to all ciphers.
The hash_alg_common data structure now adds the hash-specific
information.</p>
</dd>
</dl>
<dl class="c struct">
<dt id="c.ahash_alg">
<em class="property">struct </em><code class="sig-name descname">ahash_alg</code><a class="headerlink" href="#c.ahash_alg" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>asynchronous message digest definition</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct ahash_alg {
  int (*init)(struct ahash_request *req);
  int (*update)(struct ahash_request *req);
  int (*final)(struct ahash_request *req);
  int (*finup)(struct ahash_request *req);
  int (*digest)(struct ahash_request *req);
  int (*export)(struct ahash_request *req, void *out);
  int (*import)(struct ahash_request *req, const void *in);
  int (*setkey)(struct crypto_ahash *tfm, const u8 *key, unsigned int keylen);
  int (*init_tfm)(struct crypto_ahash *tfm);
  void (*exit_tfm)(struct crypto_ahash *tfm);
  struct hash_alg_common halg;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">init</span></code></dt><dd><p><strong>[mandatory]</strong> Initialize the transformation context. Intended only to initialize the
state of the HASH transformation at the beginning. This shall fill in
the internal structures used during the entire duration of the whole
transformation. No data processing happens at this point. Driver code
implementation must not use req-&gt;result.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">update</span></code></dt><dd><p><strong>[mandatory]</strong> Push a chunk of data into the driver for transformation. This
function actually pushes blocks of data from upper layers into the
driver, which then passes those to the hardware as seen fit. This
function must not finalize the HASH transformation by calculating the
final message digest as this only adds more data into the
transformation. This function shall not modify the transformation
context, as this function may be called in parallel with the same
transformation object. Data processing can happen synchronously
[SHASH] or asynchronously [AHASH] at this point. Driver must not use
req-&gt;result.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">final</span></code></dt><dd><p><strong>[mandatory]</strong> Retrieve result from the driver. This function finalizes the
transformation and retrieves the resulting hash from the driver and
pushes it back to upper layers. No data processing happens at this
point unless hardware requires it to finish the transformation
(then the data buffered by the device driver is processed).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">finup</span></code></dt><dd><p><strong>[optional]</strong> Combination of <strong>update</strong> and <strong>final</strong>. This function is effectively a
combination of <strong>update</strong> and <strong>final</strong> calls issued in sequence. As some
hardware cannot do <strong>update</strong> and <strong>final</strong> separately, this callback was
added to allow such hardware to be used at least by IPsec. Data
processing can happen synchronously [SHASH] or asynchronously [AHASH]
at this point.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">digest</span></code></dt><dd><p>Combination of <strong>init</strong> and <strong>update</strong> and <strong>final</strong>. This function
effectively behaves as the entire chain of operations, <strong>init</strong>,
<strong>update</strong> and <strong>final</strong> issued in sequence. Just like <strong>finup</strong>, this was
added for hardware which cannot do even the <strong>finup</strong>, but can only do
the whole transformation in one run. Data processing can happen
synchronously [SHASH] or asynchronously [AHASH] at this point.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">export</span></code></dt><dd><p>Export partial state of the transformation. This function dumps the
entire state of the ongoing transformation into a provided block of
data so it can be <strong>import</strong> ‘ed back later on. This is useful in case
you want to save partial result of the transformation after
processing certain amount of data and reload this partial result
multiple times later on for multiple re-use. No data processing
happens at this point. Driver must not use req-&gt;result.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">import</span></code></dt><dd><p>Import partial state of the transformation. This function loads the
entire state of the ongoing transformation from a provided block of
data so the transformation can continue from this point onward. No
data processing happens at this point. Driver must not use
req-&gt;result.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">setkey</span></code></dt><dd><p>Set optional key used by the hashing algorithm. Intended to push
optional key used by the hashing algorithm from upper layers into
the driver. This function can store the key in the transformation
context or can outright program it into the hardware. In the former
case, one must be careful to program the key into the hardware at
appropriate time and one must be careful that .setkey() can be
called multiple times during the existence of the transformation
object. Not  all hashing algorithms do implement this function as it
is only needed for keyed message digests. SHAx/MDx/CRCx do NOT
implement this function. HMAC(MDx)/HMAC(SHAx)/CMAC(AES) do implement
this function. This function must be called before any other of the
<strong>init</strong>, <strong>update</strong>, <strong>final</strong>, <strong>finup</strong>, <strong>digest</strong> is called. No data
processing happens at this point.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">init_tfm</span></code></dt><dd><p>Initialize the cryptographic transformation object.
This function is called only once at the instantiation
time, right after the transformation context was
allocated. In case the cryptographic hardware has
some special requirements which need to be handled
by software, this function shall check for the precise
requirement of the transformation and put any software
fallbacks in place.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">exit_tfm</span></code></dt><dd><p>Deinitialize the cryptographic transformation object.
This is a counterpart to <strong>init_tfm</strong>, used to remove
various changes set in <strong>init_tfm</strong>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">halg</span></code></dt><dd><p>see <a class="reference internal" href="#c.hash_alg_common" title="hash_alg_common"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">hash_alg_common</span></code></a></p>
</dd>
</dl>
<dl class="c struct">
<dt id="c.shash_alg">
<em class="property">struct </em><code class="sig-name descname">shash_alg</code><a class="headerlink" href="#c.shash_alg" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>synchronous message digest definition</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct shash_alg {
  int (*init)(struct shash_desc *desc);
  int (*update)(struct shash_desc *desc, const u8 *data, unsigned int len);
  int (*final)(struct shash_desc *desc, u8 *out);
  int (*finup)(struct shash_desc *desc, const u8 *data, unsigned int len, u8 *out);
  int (*digest)(struct shash_desc *desc, const u8 *data, unsigned int len, u8 *out);
  int (*export)(struct shash_desc *desc, void *out);
  int (*import)(struct shash_desc *desc, const void *in);
  int (*setkey)(struct crypto_shash *tfm, const u8 *key, unsigned int keylen);
  int (*init_tfm)(struct crypto_shash *tfm);
  void (*exit_tfm)(struct crypto_shash *tfm);
  unsigned int descsize;
  unsigned int digestsize ;
  unsigned int statesize;
  struct crypto_alg base;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">init</span></code></dt><dd><p>see <a class="reference internal" href="#c.ahash_alg" title="ahash_alg"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_alg</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">update</span></code></dt><dd><p>see <a class="reference internal" href="#c.ahash_alg" title="ahash_alg"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_alg</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">final</span></code></dt><dd><p>see <a class="reference internal" href="#c.ahash_alg" title="ahash_alg"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_alg</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">finup</span></code></dt><dd><p>see <a class="reference internal" href="#c.ahash_alg" title="ahash_alg"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_alg</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">digest</span></code></dt><dd><p>see <a class="reference internal" href="#c.ahash_alg" title="ahash_alg"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_alg</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">export</span></code></dt><dd><p>see <a class="reference internal" href="#c.ahash_alg" title="ahash_alg"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_alg</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">import</span></code></dt><dd><p>see <a class="reference internal" href="#c.ahash_alg" title="ahash_alg"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_alg</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">setkey</span></code></dt><dd><p>see <a class="reference internal" href="#c.ahash_alg" title="ahash_alg"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_alg</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">init_tfm</span></code></dt><dd><p>Initialize the cryptographic transformation object.
This function is called only once at the instantiation
time, right after the transformation context was
allocated. In case the cryptographic hardware has
some special requirements which need to be handled
by software, this function shall check for the precise
requirement of the transformation and put any software
fallbacks in place.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">exit_tfm</span></code></dt><dd><p>Deinitialize the cryptographic transformation object.
This is a counterpart to <strong>init_tfm</strong>, used to remove
various changes set in <strong>init_tfm</strong>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">descsize</span></code></dt><dd><p>Size of the operational state for the message digest. This state
size is the memory size that needs to be allocated for
shash_desc.__ctx</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">digestsize</span></code></dt><dd><p>see <a class="reference internal" href="#c.ahash_alg" title="ahash_alg"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_alg</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">statesize</span></code></dt><dd><p>see <a class="reference internal" href="#c.ahash_alg" title="ahash_alg"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_alg</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">base</span></code></dt><dd><p>internally used</p>
</dd>
</dl>
</div>
<div class="section" id="asynchronous-message-digest-api">
<h1>Asynchronous Message Digest API<a class="headerlink" href="#asynchronous-message-digest-api" title="Permalink to this headline">¶</a></h1>
<p>The asynchronous message digest API is used with the ciphers of type
CRYPTO_ALG_TYPE_AHASH (listed as type “ahash” in /proc/crypto)</p>
<p>The asynchronous cipher operation discussion provided for the
CRYPTO_ALG_TYPE_SKCIPHER API applies here as well.</p>
<dl class="c function">
<dt id="c.crypto_alloc_ahash">
<em class="property">struct</em> crypto_ahash *<code class="sig-name descname">crypto_alloc_ahash</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>alg_name</em>, u32 <em>type</em>, u32 <em>mask</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_alloc_ahash" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>allocate ahash cipher handle</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*alg_name</span></code></dt><dd><p>is the cra_name / name or cra_driver_name / driver name of the
ahash cipher</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">type</span></code></dt><dd><p>specifies the type of the cipher</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">mask</span></code></dt><dd><p>specifies the mask for the cipher</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Allocate a cipher handle for an ahash. The returned struct
crypto_ahash is the cipher handle that is required for any subsequent
API invocation for that ahash.</p>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>allocated cipher handle in case of success; IS_ERR() is true in case</dt><dd><p>of an error, PTR_ERR() returns the error code.</p>
</dd>
</dl>
<dl class="c function">
<dt id="c.crypto_free_ahash">
void <code class="sig-name descname">crypto_free_ahash</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_ahash *<em>tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_free_ahash" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>zeroize and free the ahash handle</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_ahash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle to be freed</p>
</dd>
</dl>
<dl class="c function">
<dt id="c.crypto_ahash_digestsize">
unsigned int <code class="sig-name descname">crypto_ahash_digestsize</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_ahash *<em>tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_digestsize" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>obtain message digest size</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_ahash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>The size for the message digest created by the message digest cipher
referenced with the cipher handle is returned.</p>
<p><strong>Return</strong></p>
<p>message digest size of cipher</p>
<dl class="c function">
<dt id="c.crypto_ahash_statesize">
unsigned int <code class="sig-name descname">crypto_ahash_statesize</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_ahash *<em>tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_statesize" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>obtain size of the ahash state</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_ahash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Return the size of the ahash state. With the <a class="reference internal" href="#c.crypto_ahash_export" title="crypto_ahash_export"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_ahash_export()</span></code></a>
function, the caller can export the state into a buffer whose size is
defined with this function.</p>
<p><strong>Return</strong></p>
<p>size of the ahash state</p>
<dl class="c function">
<dt id="c.crypto_ahash_reqtfm">
<em class="property">struct</em> crypto_ahash *<code class="sig-name descname">crypto_ahash_reqtfm</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_reqtfm" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>obtain cipher handle from request</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>asynchronous request handle that contains the reference to the ahash
cipher handle</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Return the ahash cipher handle that is registered with the asynchronous
request handle ahash_request.</p>
<p><strong>Return</strong></p>
<p>ahash cipher handle</p>
<dl class="c function">
<dt id="c.crypto_ahash_reqsize">
unsigned int <code class="sig-name descname">crypto_ahash_reqsize</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_ahash *<em>tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_reqsize" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>obtain size of the request data structure</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_ahash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<p>size of the request data</p>
<dl class="c function">
<dt id="c.crypto_ahash_setkey">
int <code class="sig-name descname">crypto_ahash_setkey</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_ahash *<em>tfm</em>, <em class="property">const</em> u8 *<em>key</em>, unsigned int <em>keylen</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_setkey" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>set key for cipher handle</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_ahash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">u8</span> <span class="pre">*key</span></code></dt><dd><p>buffer holding the key</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">keylen</span></code></dt><dd><p>length of the key in bytes</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>The caller provided key is set for the ahash cipher. The cipher
handle must point to a keyed hash in order for this function to succeed.</p>
<p><strong>Return</strong></p>
<p>0 if the setting of the key was successful; &lt; 0 if an error occurred</p>
<dl class="c function">
<dt id="c.crypto_ahash_finup">
int <code class="sig-name descname">crypto_ahash_finup</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_finup" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>update and finalize message digest</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>reference to the ahash_request handle that holds all information
needed to perform the cipher operation</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function is a “short-hand” for the function calls of
crypto_ahash_update and crypto_ahash_final. The parameters have the same
meaning as discussed for those separate functions.</p>
<p><strong>Return</strong></p>
<p>see <a class="reference internal" href="#c.crypto_ahash_final" title="crypto_ahash_final"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_ahash_final()</span></code></a></p>
<dl class="c function">
<dt id="c.crypto_ahash_final">
int <code class="sig-name descname">crypto_ahash_final</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_final" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>calculate message digest</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>reference to the ahash_request handle that holds all information
needed to perform the cipher operation</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Finalize the message digest operation and create the message digest
based on all data added to the cipher handle. The message digest is placed
into the output buffer registered with the ahash_request handle.</p>
<p><strong>Return</strong></p>
<p>0            if the message digest was successfully calculated;
-EINPROGRESS if data is feeded into hardware (DMA) or queued for later;
-EBUSY       if queue is full and request should be resubmitted later;
other &lt; 0    if an error occurred</p>
<dl class="c function">
<dt id="c.crypto_ahash_digest">
int <code class="sig-name descname">crypto_ahash_digest</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_digest" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>calculate message digest for a buffer</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>reference to the ahash_request handle that holds all information
needed to perform the cipher operation</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function is a “short-hand” for the function calls of crypto_ahash_init,
crypto_ahash_update and crypto_ahash_final. The parameters have the same
meaning as discussed for those separate three functions.</p>
<p><strong>Return</strong></p>
<p>see <a class="reference internal" href="#c.crypto_ahash_final" title="crypto_ahash_final"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_ahash_final()</span></code></a></p>
<dl class="c function">
<dt id="c.crypto_ahash_export">
int <code class="sig-name descname">crypto_ahash_export</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em>, void *<em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_export" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>extract current message digest state</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>reference to the ahash_request handle whose state is exported</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*out</span></code></dt><dd><p>output buffer of sufficient size that can hold the hash state</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function exports the hash state of the ahash_request handle into the
caller-allocated output buffer out which must have sufficient size (e.g. by
calling <a class="reference internal" href="#c.crypto_ahash_statesize" title="crypto_ahash_statesize"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_ahash_statesize()</span></code></a>).</p>
<p><strong>Return</strong></p>
<p>0 if the export was successful; &lt; 0 if an error occurred</p>
<dl class="c function">
<dt id="c.crypto_ahash_import">
int <code class="sig-name descname">crypto_ahash_import</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em>, <em class="property">const</em> void *<em>in</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_import" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>import message digest state</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>reference to ahash_request handle the state is imported into</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">void</span> <span class="pre">*in</span></code></dt><dd><p>buffer holding the state</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function imports the hash state into the ahash_request handle from the
input buffer. That buffer should have been generated with the
crypto_ahash_export function.</p>
<p><strong>Return</strong></p>
<p>0 if the import was successful; &lt; 0 if an error occurred</p>
<dl class="c function">
<dt id="c.crypto_ahash_init">
int <code class="sig-name descname">crypto_ahash_init</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_ahash_init" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>(re)initialize message digest handle</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>ahash_request handle that already is initialized with all necessary
data using the ahash_request_* API functions</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>The call (re-)initializes the message digest referenced by the ahash_request
handle. Any potentially existing state created by previous operations is
discarded.</p>
<p><strong>Return</strong></p>
<p>see <a class="reference internal" href="#c.crypto_ahash_final" title="crypto_ahash_final"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_ahash_final()</span></code></a></p>
</div>
<div class="section" id="asynchronous-hash-request-handle">
<h1>Asynchronous Hash Request Handle<a class="headerlink" href="#asynchronous-hash-request-handle" title="Permalink to this headline">¶</a></h1>
<p>The <code class="xref c c-type docutils literal notranslate"><span class="pre">ahash_request</span></code> data structure contains all pointers to data
required for the asynchronous cipher operation. This includes the cipher
handle (which can be used by multiple <code class="xref c c-type docutils literal notranslate"><span class="pre">ahash_request</span></code> instances), pointer
to plaintext and the message digest output buffer, asynchronous callback
function, etc. It acts as a handle to the ahash_request_* API calls in a
similar way as ahash handle to the crypto_ahash_* API calls.</p>
<dl class="c function">
<dt id="c.ahash_request_set_tfm">
void <code class="sig-name descname">ahash_request_set_tfm</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em>, <em class="property">struct</em> crypto_ahash *<em>tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.ahash_request_set_tfm" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>update cipher handle reference in request</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>request handle to be modified</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_ahash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle that shall be added to the request handle</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Allow the caller to replace the existing ahash handle in the request
data structure with a different one.</p>
<dl class="c function">
<dt id="c.ahash_request_alloc">
<em class="property">struct</em> ahash_request *<code class="sig-name descname">ahash_request_alloc</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_ahash *<em>tfm</em>, gfp_t <em>gfp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.ahash_request_alloc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>allocate request data structure</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_ahash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle to be registered with the request</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gfp_t</span> <span class="pre">gfp</span></code></dt><dd><p>memory allocation flag that is handed to kmalloc by the API call.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Allocate the request data structure that must be used with the ahash
message digest API calls. During
the allocation, the provided ahash handle
is registered in the request data structure.</p>
<p><strong>Return</strong></p>
<p>allocated request handle in case of success, or NULL if out of memory</p>
<dl class="c function">
<dt id="c.ahash_request_free">
void <code class="sig-name descname">ahash_request_free</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em><span class="sig-paren">)</span><a class="headerlink" href="#c.ahash_request_free" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>zeroize and free the request data structure</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>request data structure cipher handle to be freed</p>
</dd>
</dl>
<dl class="c function">
<dt id="c.ahash_request_set_callback">
void <code class="sig-name descname">ahash_request_set_callback</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em>, u32 <em>flags</em>, crypto_completion_t <em>compl</em>, void *<em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#c.ahash_request_set_callback" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>set asynchronous callback function</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>request handle</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">flags</span></code></dt><dd><p>specify zero or an ORing of the flags
CRYPTO_TFM_REQ_MAY_BACKLOG the request queue may back log and
increase the wait queue beyond the initial maximum size;
CRYPTO_TFM_REQ_MAY_SLEEP the request processing may sleep</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">crypto_completion_t</span> <span class="pre">compl</span></code></dt><dd><p>callback function pointer to be registered with the request handle</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*data</span></code></dt><dd><p>The data pointer refers to memory that is not used by the kernel
crypto API, but provided to the callback function for it to use. Here,
the caller can provide a reference to memory the callback function can
operate on. As the callback function is invoked asynchronously to the
related functionality, it may need to access data structures of the
related functionality which can be referenced using this pointer. The
callback function can access the memory via the “data” field in the
<code class="xref c c-type docutils literal notranslate"><span class="pre">crypto_async_request</span></code> data structure provided to the callback function.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function allows setting the callback function that is triggered once
the cipher operation completes.</p>
<p>The callback function is registered with the <code class="xref c c-type docutils literal notranslate"><span class="pre">ahash_request</span></code> handle and
must comply with the following template:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>void callback_function(struct crypto_async_request *req, int error)
</pre></div>
</div>
<dl class="c function">
<dt id="c.ahash_request_set_crypt">
void <code class="sig-name descname">ahash_request_set_crypt</code><span class="sig-paren">(</span><em class="property">struct</em> ahash_request *<em>req</em>, <em class="property">struct</em> scatterlist *<em>src</em>, u8 *<em>result</em>, unsigned int <em>nbytes</em><span class="sig-paren">)</span><a class="headerlink" href="#c.ahash_request_set_crypt" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>set data buffers</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">ahash_request</span> <span class="pre">*req</span></code></dt><dd><p>ahash_request handle to be updated</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">scatterlist</span> <span class="pre">*src</span></code></dt><dd><p>source scatter/gather list</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u8</span> <span class="pre">*result</span></code></dt><dd><p>buffer that is filled with the message digest – the caller must
ensure that the buffer has sufficient space by, for example, calling
<a class="reference internal" href="#c.crypto_ahash_digestsize" title="crypto_ahash_digestsize"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_ahash_digestsize()</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">nbytes</span></code></dt><dd><p>number of bytes to process from the source scatter/gather list</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>By using this call, the caller references the source scatter/gather list.
The source scatter/gather list points to the data the message digest is to
be calculated for.</p>
</div>
<div class="section" id="synchronous-message-digest-api">
<h1>Synchronous Message Digest API<a class="headerlink" href="#synchronous-message-digest-api" title="Permalink to this headline">¶</a></h1>
<p>The synchronous message digest API is used with the ciphers of type
CRYPTO_ALG_TYPE_SHASH (listed as type “shash” in /proc/crypto)</p>
<p>The message digest API is able to maintain state information for the
caller.</p>
<p>The synchronous message digest API can store user-related context in its
shash_desc request data structure.</p>
<dl class="c function">
<dt id="c.crypto_alloc_shash">
<em class="property">struct</em> crypto_shash *<code class="sig-name descname">crypto_alloc_shash</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>alg_name</em>, u32 <em>type</em>, u32 <em>mask</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_alloc_shash" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>allocate message digest handle</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*alg_name</span></code></dt><dd><p>is the cra_name / name or cra_driver_name / driver name of the
message digest cipher</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">type</span></code></dt><dd><p>specifies the type of the cipher</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">mask</span></code></dt><dd><p>specifies the mask for the cipher</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Allocate a cipher handle for a message digest. The returned <code class="xref c c-type docutils literal notranslate"><span class="pre">struct</span>
<span class="pre">crypto_shash</span></code> is the cipher handle that is required for any subsequent
API invocation for that message digest.</p>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>allocated cipher handle in case of success; IS_ERR() is true in case</dt><dd><p>of an error, PTR_ERR() returns the error code.</p>
</dd>
</dl>
<dl class="c function">
<dt id="c.crypto_free_shash">
void <code class="sig-name descname">crypto_free_shash</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_shash *<em>tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_free_shash" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>zeroize and free the message digest handle</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_shash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle to be freed</p>
</dd>
</dl>
<dl class="c function">
<dt id="c.crypto_shash_blocksize">
unsigned int <code class="sig-name descname">crypto_shash_blocksize</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_shash *<em>tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_blocksize" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>obtain block size for cipher</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_shash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>The block size for the message digest cipher referenced with the cipher
handle is returned.</p>
<p><strong>Return</strong></p>
<p>block size of cipher</p>
<dl class="c function">
<dt id="c.crypto_shash_digestsize">
unsigned int <code class="sig-name descname">crypto_shash_digestsize</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_shash *<em>tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_digestsize" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>obtain message digest size</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_shash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>The size for the message digest created by the message digest cipher
referenced with the cipher handle is returned.</p>
<p><strong>Return</strong></p>
<p>digest size of cipher</p>
<dl class="c function">
<dt id="c.crypto_shash_descsize">
unsigned int <code class="sig-name descname">crypto_shash_descsize</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_shash *<em>tfm</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_descsize" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>obtain the operational state size</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_shash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>The size of the operational state the cipher needs during operation is
returned for the hash referenced with the cipher handle. This size is
required to calculate the memory requirements to allow the caller allocating
sufficient memory for operational state.</p>
<p>The operational state is defined with struct shash_desc where the size of
that data structure is to be calculated as
sizeof(struct shash_desc) + crypto_shash_descsize(alg)</p>
<p><strong>Return</strong></p>
<p>size of the operational state</p>
<dl class="c function">
<dt id="c.crypto_shash_setkey">
int <code class="sig-name descname">crypto_shash_setkey</code><span class="sig-paren">(</span><em class="property">struct</em> crypto_shash *<em>tfm</em>, <em class="property">const</em> u8 *<em>key</em>, unsigned int <em>keylen</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_setkey" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>set key for message digest</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_shash</span> <span class="pre">*tfm</span></code></dt><dd><p>cipher handle</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">u8</span> <span class="pre">*key</span></code></dt><dd><p>buffer holding the key</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">keylen</span></code></dt><dd><p>length of the key in bytes</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>The caller provided key is set for the keyed message digest cipher. The
cipher handle must point to a keyed message digest cipher in order for this
function to succeed.</p>
<p><strong>Context</strong></p>
<p>Any context.</p>
<p><strong>Return</strong></p>
<p>0 if the setting of the key was successful; &lt; 0 if an error occurred</p>
<dl class="c function">
<dt id="c.crypto_shash_digest">
int <code class="sig-name descname">crypto_shash_digest</code><span class="sig-paren">(</span><em class="property">struct</em> shash_desc *<em>desc</em>, <em class="property">const</em> u8 *<em>data</em>, unsigned int <em>len</em>, u8 *<em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_digest" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>calculate message digest for buffer</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">shash_desc</span> <span class="pre">*desc</span></code></dt><dd><p>see <a class="reference internal" href="#c.crypto_shash_final" title="crypto_shash_final"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_shash_final()</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">u8</span> <span class="pre">*data</span></code></dt><dd><p>see <a class="reference internal" href="#c.crypto_shash_update" title="crypto_shash_update"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_shash_update()</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">len</span></code></dt><dd><p>see <a class="reference internal" href="#c.crypto_shash_update" title="crypto_shash_update"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_shash_update()</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u8</span> <span class="pre">*out</span></code></dt><dd><p>see <a class="reference internal" href="#c.crypto_shash_final" title="crypto_shash_final"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_shash_final()</span></code></a></p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function is a “short-hand” for the function calls of crypto_shash_init,
crypto_shash_update and crypto_shash_final. The parameters have the same
meaning as discussed for those separate three functions.</p>
<p><strong>Context</strong></p>
<p>Any context.</p>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>0 if the message digest creation was successful; &lt; 0 if an error</dt><dd><p>occurred</p>
</dd>
</dl>
<dl class="c function">
<dt id="c.crypto_shash_export">
int <code class="sig-name descname">crypto_shash_export</code><span class="sig-paren">(</span><em class="property">struct</em> shash_desc *<em>desc</em>, void *<em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_export" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>extract operational state for message digest</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">shash_desc</span> <span class="pre">*desc</span></code></dt><dd><p>reference to the operational state handle whose state is exported</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*out</span></code></dt><dd><p>output buffer of sufficient size that can hold the hash state</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function exports the hash state of the operational state handle into the
caller-allocated output buffer out which must have sufficient size (e.g. by
calling crypto_shash_descsize).</p>
<p><strong>Context</strong></p>
<p>Any context.</p>
<p><strong>Return</strong></p>
<p>0 if the export creation was successful; &lt; 0 if an error occurred</p>
<dl class="c function">
<dt id="c.crypto_shash_import">
int <code class="sig-name descname">crypto_shash_import</code><span class="sig-paren">(</span><em class="property">struct</em> shash_desc *<em>desc</em>, <em class="property">const</em> void *<em>in</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_import" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>import operational state</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">shash_desc</span> <span class="pre">*desc</span></code></dt><dd><p>reference to the operational state handle the state imported into</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">void</span> <span class="pre">*in</span></code></dt><dd><p>buffer holding the state</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function imports the hash state into the operational state handle from
the input buffer. That buffer should have been generated with the
crypto_ahash_export function.</p>
<p><strong>Context</strong></p>
<p>Any context.</p>
<p><strong>Return</strong></p>
<p>0 if the import was successful; &lt; 0 if an error occurred</p>
<dl class="c function">
<dt id="c.crypto_shash_init">
int <code class="sig-name descname">crypto_shash_init</code><span class="sig-paren">(</span><em class="property">struct</em> shash_desc *<em>desc</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_init" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>(re)initialize message digest</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">shash_desc</span> <span class="pre">*desc</span></code></dt><dd><p>operational state handle that is already filled</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>The call (re-)initializes the message digest referenced by the
operational state handle. Any potentially existing state created by
previous operations is discarded.</p>
<p><strong>Context</strong></p>
<p>Any context.</p>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>0 if the message digest initialization was successful; &lt; 0 if an</dt><dd><p>error occurred</p>
</dd>
</dl>
<dl class="c function">
<dt id="c.crypto_shash_update">
int <code class="sig-name descname">crypto_shash_update</code><span class="sig-paren">(</span><em class="property">struct</em> shash_desc *<em>desc</em>, <em class="property">const</em> u8 *<em>data</em>, unsigned int <em>len</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_update" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>add data to message digest for processing</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">shash_desc</span> <span class="pre">*desc</span></code></dt><dd><p>operational state handle that is already initialized</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">u8</span> <span class="pre">*data</span></code></dt><dd><p>input data to be added to the message digest</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">len</span></code></dt><dd><p>length of the input data</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Updates the message digest state of the operational state handle.</p>
<p><strong>Context</strong></p>
<p>Any context.</p>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>0 if the message digest update was successful; &lt; 0 if an error</dt><dd><p>occurred</p>
</dd>
</dl>
<dl class="c function">
<dt id="c.crypto_shash_final">
int <code class="sig-name descname">crypto_shash_final</code><span class="sig-paren">(</span><em class="property">struct</em> shash_desc *<em>desc</em>, u8 *<em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_final" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>calculate message digest</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">shash_desc</span> <span class="pre">*desc</span></code></dt><dd><p>operational state handle that is already filled with data</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u8</span> <span class="pre">*out</span></code></dt><dd><p>output buffer filled with the message digest</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Finalize the message digest operation and create the message digest
based on all data added to the cipher handle. The message digest is placed
into the output buffer. The caller must ensure that the output buffer is
large enough by using crypto_shash_digestsize.</p>
<p><strong>Context</strong></p>
<p>Any context.</p>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>0 if the message digest creation was successful; &lt; 0 if an error</dt><dd><p>occurred</p>
</dd>
</dl>
<dl class="c function">
<dt id="c.crypto_shash_finup">
int <code class="sig-name descname">crypto_shash_finup</code><span class="sig-paren">(</span><em class="property">struct</em> shash_desc *<em>desc</em>, <em class="property">const</em> u8 *<em>data</em>, unsigned int <em>len</em>, u8 *<em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_shash_finup" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>calculate message digest of buffer</p>
</dd></dl>

<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">shash_desc</span> <span class="pre">*desc</span></code></dt><dd><p>see <a class="reference internal" href="#c.crypto_shash_final" title="crypto_shash_final"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_shash_final()</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">u8</span> <span class="pre">*data</span></code></dt><dd><p>see <a class="reference internal" href="#c.crypto_shash_update" title="crypto_shash_update"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_shash_update()</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">len</span></code></dt><dd><p>see <a class="reference internal" href="#c.crypto_shash_update" title="crypto_shash_update"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_shash_update()</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u8</span> <span class="pre">*out</span></code></dt><dd><p>see <a class="reference internal" href="#c.crypto_shash_final" title="crypto_shash_final"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_shash_final()</span></code></a></p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function is a “short-hand” for the function calls of
crypto_shash_update and crypto_shash_final. The parameters have the same
meaning as discussed for those separate functions.</p>
<p><strong>Context</strong></p>
<p>Any context.</p>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>0 if the message digest creation was successful; &lt; 0 if an error</dt><dd><p>occurred</p>
</dd>
</dl>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api-rng.html" class="btn btn-neutral float-right" title="Random Number Algorithm Definitions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api-aead.html" class="btn btn-neutral float-left" title="Authenticated Encryption With Associated Data (AEAD) Algorithm Definitions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright The kernel development community

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>