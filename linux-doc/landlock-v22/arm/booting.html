

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Booting ARM Linux &mdash; The Linux Kernel 5.10.0-rc1+ documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Cluster-wide Power-up/power-down race avoidance algorithm" href="cluster-pm-race-avoidance.html" />
    <link rel="prev" title="ARM Linux 2.6 and upper" href="arm.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.10.0-rc1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">Open Firmware and Device Tree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ARM Architecture</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="arm.html">ARM Linux 2.6 and upper</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Booting ARM Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#setup-and-initialise-ram">1. Setup and initialise RAM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initialise-one-serial-port">2. Initialise one serial port</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detect-the-machine-type">3. Detect the machine type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup-boot-data">4. Setup boot data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-setup-the-kernel-tagged-list">4a. Setup the kernel tagged list</a></li>
<li class="toctree-l3"><a class="reference internal" href="#b-setup-the-device-tree">4b. Setup the device tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-initramfs">5. Load initramfs.</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calling-the-kernel-image">6. Calling the kernel image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cluster-pm-race-avoidance.html">Cluster-wide Power-up/power-down race avoidance algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="firmware.html">Interface for registering and calling firmware-specific operations for ARM</a></li>
<li class="toctree-l2"><a class="reference internal" href="interrupts.html">Interrupts</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel_mode_neon.html">Kernel mode NEON</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel_user_helpers.html">Kernel-provided User Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Kernel Memory Layout on ARM Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="mem_alignment.html">Memory alignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="tcm.html">ARM TCM (Tightly-Coupled Memory) handling in Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html">Kernel initialisation parameters on ARM Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="swp_emulation.html">Software emulation of deprecated SWP instruction (CONFIG_SWP_EMULATE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="uefi.html">The Unified Extensible Firmware Interface (UEFI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="vlocks.html">vlocks for Bare-Metal Mutual Exclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="porting.html">Porting</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#soc-specific-documents">SoC-specific documents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">ARM Architecture</a> &raquo;</li>
        
      <li>Booting ARM Linux</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/arm/booting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="booting-arm-linux">
<h1>Booting ARM Linux<a class="headerlink" href="#booting-arm-linux" title="Permalink to this headline">¶</a></h1>
<p>Author: Russell King</p>
<p>Date  : 18 May 2002</p>
<p>The following documentation is relevant to 2.4.18-rmk6 and beyond.</p>
<p>In order to boot ARM Linux, you require a boot loader, which is a small
program that runs before the main kernel.  The boot loader is expected
to initialise various devices, and eventually call the Linux kernel,
passing information to the kernel.</p>
<p>Essentially, the boot loader should provide (as a minimum) the
following:</p>
<ol class="arabic simple">
<li><p>Setup and initialise the RAM.</p></li>
<li><p>Initialise one serial port.</p></li>
<li><p>Detect the machine type.</p></li>
<li><p>Setup the kernel tagged list.</p></li>
<li><p>Load initramfs.</p></li>
<li><p>Call the kernel image.</p></li>
</ol>
<div class="section" id="setup-and-initialise-ram">
<h2>1. Setup and initialise RAM<a class="headerlink" href="#setup-and-initialise-ram" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Existing boot loaders:</dt><dd><p>MANDATORY</p>
</dd>
<dt>New boot loaders:</dt><dd><p>MANDATORY</p>
</dd>
</dl>
<p>The boot loader is expected to find and initialise all RAM that the
kernel will use for volatile data storage in the system.  It performs
this in a machine dependent manner.  (It may use internal algorithms
to automatically locate and size all RAM, or it may use knowledge of
the RAM in the machine, or any other method the boot loader designer
sees fit.)</p>
</div>
<div class="section" id="initialise-one-serial-port">
<h2>2. Initialise one serial port<a class="headerlink" href="#initialise-one-serial-port" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Existing boot loaders:</dt><dd><p>OPTIONAL, RECOMMENDED</p>
</dd>
<dt>New boot loaders:</dt><dd><p>OPTIONAL, RECOMMENDED</p>
</dd>
</dl>
<p>The boot loader should initialise and enable one serial port on the
target.  This allows the kernel serial driver to automatically detect
which serial port it should use for the kernel console (generally
used for debugging purposes, or communication with the target.)</p>
<p>As an alternative, the boot loader can pass the relevant ‘console=’
option to the kernel via the tagged lists specifying the port, and
serial format options as described in</p>
<blockquote>
<div><p><a class="reference internal" href="../admin-guide/kernel-parameters.html"><span class="doc">The kernel’s command-line parameters</span></a>.</p>
</div></blockquote>
</div>
<div class="section" id="detect-the-machine-type">
<h2>3. Detect the machine type<a class="headerlink" href="#detect-the-machine-type" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Existing boot loaders:</dt><dd><p>OPTIONAL</p>
</dd>
<dt>New boot loaders:</dt><dd><p>MANDATORY except for DT-only platforms</p>
</dd>
</dl>
<p>The boot loader should detect the machine type its running on by some
method.  Whether this is a hard coded value or some algorithm that
looks at the connected hardware is beyond the scope of this document.
The boot loader must ultimately be able to provide a MACH_TYPE_xxx
value to the kernel. (see linux/arch/arm/tools/mach-types).  This
should be passed to the kernel in register r1.</p>
<p>For DT-only platforms, the machine type will be determined by device
tree.  set the machine type to all ones (~0).  This is not strictly
necessary, but assures that it will not match any existing types.</p>
</div>
<div class="section" id="setup-boot-data">
<h2>4. Setup boot data<a class="headerlink" href="#setup-boot-data" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Existing boot loaders:</dt><dd><p>OPTIONAL, HIGHLY RECOMMENDED</p>
</dd>
<dt>New boot loaders:</dt><dd><p>MANDATORY</p>
</dd>
</dl>
<p>The boot loader must provide either a tagged list or a dtb image for
passing configuration data to the kernel.  The physical address of the
boot data is passed to the kernel in register r2.</p>
</div>
<div class="section" id="a-setup-the-kernel-tagged-list">
<h2>4a. Setup the kernel tagged list<a class="headerlink" href="#a-setup-the-kernel-tagged-list" title="Permalink to this headline">¶</a></h2>
<p>The boot loader must create and initialise the kernel tagged list.
A valid tagged list starts with ATAG_CORE and ends with ATAG_NONE.
The ATAG_CORE tag may or may not be empty.  An empty ATAG_CORE tag
has the size field set to ‘2’ (0x00000002).  The ATAG_NONE must set
the size field to zero.</p>
<p>Any number of tags can be placed in the list.  It is undefined
whether a repeated tag appends to the information carried by the
previous tag, or whether it replaces the information in its
entirety; some tags behave as the former, others the latter.</p>
<p>The boot loader must pass at a minimum the size and location of
the system memory, and root filesystem location.  Therefore, the
minimum tagged list should look:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>              +-----------+
base -&gt;       | ATAG_CORE |  |
              +-----------+  |
              | ATAG_MEM  |  | increasing address
              +-----------+  |
              | ATAG_NONE |  |
              +-----------+  v
</pre></div>
</div>
<p>The tagged list should be stored in system RAM.</p>
<p>The tagged list must be placed in a region of memory where neither
the kernel decompressor nor initrd ‘bootp’ program will overwrite
it.  The recommended placement is in the first 16KiB of RAM.</p>
</div>
<div class="section" id="b-setup-the-device-tree">
<h2>4b. Setup the device tree<a class="headerlink" href="#b-setup-the-device-tree" title="Permalink to this headline">¶</a></h2>
<p>The boot loader must load a device tree image (dtb) into system ram
at a 64bit aligned address and initialize it with the boot data.  The
dtb format is documented in Documentation/devicetree/booting-without-of.rst.
The kernel will look for the dtb magic value of 0xd00dfeed at the dtb
physical address to determine if a dtb has been passed instead of a
tagged list.</p>
<p>The boot loader must pass at a minimum the size and location of the
system memory, and the root filesystem location.  The dtb must be
placed in a region of memory where the kernel decompressor will not
overwrite it, while remaining within the region which will be covered
by the kernel’s low-memory mapping.</p>
<p>A safe location is just above the 128MiB boundary from start of RAM.</p>
</div>
<div class="section" id="load-initramfs">
<h2>5. Load initramfs.<a class="headerlink" href="#load-initramfs" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Existing boot loaders:</dt><dd><p>OPTIONAL</p>
</dd>
<dt>New boot loaders:</dt><dd><p>OPTIONAL</p>
</dd>
</dl>
<p>If an initramfs is in use then, as with the dtb, it must be placed in
a region of memory where the kernel decompressor will not overwrite it
while also with the region which will be covered by the kernel’s
low-memory mapping.</p>
<p>A safe location is just above the device tree blob which itself will
be loaded just above the 128MiB boundary from the start of RAM as
recommended above.</p>
</div>
<div class="section" id="calling-the-kernel-image">
<h2>6. Calling the kernel image<a class="headerlink" href="#calling-the-kernel-image" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Existing boot loaders:</dt><dd><p>MANDATORY</p>
</dd>
<dt>New boot loaders:</dt><dd><p>MANDATORY</p>
</dd>
</dl>
<p>There are two options for calling the kernel zImage.  If the zImage
is stored in flash, and is linked correctly to be run from flash,
then it is legal for the boot loader to call the zImage in flash
directly.</p>
<p>The zImage may also be placed in system RAM and called there.  The
kernel should be placed in the first 128MiB of RAM.  It is recommended
that it is loaded above 32MiB in order to avoid the need to relocate
prior to decompression, which will make the boot process slightly
faster.</p>
<p>When booting a raw (non-zImage) kernel the constraints are tighter.
In this case the kernel must be loaded at an offset into system equal
to TEXT_OFFSET - PAGE_OFFSET.</p>
<p>In any case, the following conditions must be met:</p>
<ul>
<li><p>Quiesce all DMA capable devices so that memory does not get
corrupted by bogus network packets or disk data. This will save
you many hours of debug.</p></li>
<li><p>CPU register settings</p>
<ul class="simple">
<li><p>r0 = 0,</p></li>
<li><p>r1 = machine type number discovered in (3) above.</p></li>
<li><p>r2 = physical address of tagged list in system RAM, or
physical address of device tree block (dtb) in system RAM</p></li>
</ul>
</li>
<li><p>CPU mode</p>
<p>All forms of interrupts must be disabled (IRQs and FIQs)</p>
<p>For CPUs which do not include the ARM virtualization extensions, the
CPU must be in SVC mode.  (A special exception exists for Angel)</p>
<p>CPUs which include support for the virtualization extensions can be
entered in HYP mode in order to enable the kernel to make full use of
these extensions.  This is the recommended boot method for such CPUs,
unless the virtualisations are already in use by a pre-installed
hypervisor.</p>
<p>If the kernel is not entered in HYP mode for any reason, it must be
entered in SVC mode.</p>
</li>
<li><p>Caches, MMUs</p>
<p>The MMU must be off.</p>
<p>Instruction cache may be on or off.</p>
<p>Data cache must be off.</p>
<p>If the kernel is entered in HYP mode, the above requirements apply to
the HYP mode configuration in addition to the ordinary PL1 (privileged
kernel modes) configuration.  In addition, all traps into the
hypervisor must be disabled, and PL1 access must be granted for all
peripherals and CPU resources for which this is architecturally
possible.  Except for entering in HYP mode, the system configuration
should be such that a kernel which does not include support for the
virtualization extensions can boot correctly without extra help.</p>
</li>
<li><p>The boot loader is expected to call the kernel image by jumping
directly to the first instruction of the kernel image.</p>
<p>On CPUs supporting the ARM instruction set, the entry must be
made in ARM state, even for a Thumb-2 kernel.</p>
<p>On CPUs supporting only the Thumb instruction set such as
Cortex-M class CPUs, the entry must be made in Thumb state.</p>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cluster-pm-race-avoidance.html" class="btn btn-neutral float-right" title="Cluster-wide Power-up/power-down race avoidance algorithm" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="arm.html" class="btn btn-neutral float-left" title="ARM Linux 2.6 and upper" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright The kernel development community

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>