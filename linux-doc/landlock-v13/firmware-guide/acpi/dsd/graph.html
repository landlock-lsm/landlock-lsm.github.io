

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Graphs &mdash; The Linux Kernel 5.4.0-rc3+ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Referencing hierarchical data nodes" href="data-node-references.html" />
    <link rel="prev" title="ACPI Device Tree - Representation of ACPI Namespace" href="../namespace.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.4.0-rc3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">The Linux kernel firmware guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">ACPI Support</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../namespace.html">ACPI Device Tree - Representation of ACPI Namespace</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Graphs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dsd">_DSD</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ports-and-endpoints">Ports and endpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data-node-references.html">Referencing hierarchical data nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="leds.html">Describing and referring to LEDs in ACPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../enumeration.html">ACPI Based Device Enumeration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../osi.html">ACPI _OSI and _REV methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../method-customizing.html">Linux ACPI Custom Control Method How To</a></li>
<li class="toctree-l3"><a class="reference internal" href="../method-tracing.html">ACPICA Trace Facility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DSD-properties-rules.html">_DSD Device Properties Usage Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../debug.html">ACPI Debug Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aml-debugger.html">The AML Debugger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apei/output_format.html">APEI output format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apei/einj.html">APEI Error INJection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gpio-properties.html">_DSD Device Properties Related to GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../i2c-muxes.html">ACPI I2C Muxes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../acpi-lid.html">Special Usage Model of the ACPI Control Method Lid Device</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lpit.html">Low Power Idle Table (LPIT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../video_extension.html">ACPI video extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../extcon-intel-int3496.html">Intel INT3496 ACPI device extcon driver documentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ioctl/index.html">IOCTLs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../media/index.html">Linux Media Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mic/index.html">Intel Many Integrated Core (MIC) architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scheduler/index.html">Linux Scheduler</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">The Linux kernel firmware guide</a> &raquo;</li>
        
          <li><a href="../index.html">ACPI Support</a> &raquo;</li>
        
      <li>Graphs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/firmware-guide/acpi/dsd/graph.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="graphs">
<h1>Graphs<a class="headerlink" href="#graphs" title="Permalink to this headline">¶</a></h1>
<div class="section" id="dsd">
<h2>_DSD<a class="headerlink" href="#dsd" title="Permalink to this headline">¶</a></h2>
<p>_DSD (Device Specific Data) [7] is a predefined ACPI device
configuration object that can be used to convey information on
hardware features which are not specifically covered by the ACPI
specification [1][6]. There are two _DSD extensions that are relevant
for graphs: property [4] and hierarchical data extensions [5]. The
property extension provides generic key-value pairs whereas the
hierarchical data extension supports nodes with references to other
nodes, forming a tree. The nodes in the tree may contain properties as
defined by the property extension. The two extensions together provide
a tree-like structure with zero or more properties (key-value pairs)
in each node of the tree.</p>
<p>The data structure may be accessed at runtime by using the device_*
and fwnode_* functions defined in include/linux/fwnode.h .</p>
<p>Fwnode represents a generic firmware node object. It is independent on
the firmware type. In ACPI, fwnodes are _DSD hierarchical data
extensions objects. A device’s _DSD object is represented by an
fwnode.</p>
<p>The data structure may be referenced to elsewhere in the ACPI tables
by using a hard reference to the device itself and an index to the
hierarchical data extension array on each depth.</p>
</div>
<div class="section" id="ports-and-endpoints">
<h2>Ports and endpoints<a class="headerlink" href="#ports-and-endpoints" title="Permalink to this headline">¶</a></h2>
<p>The port and endpoint concepts are very similar to those in Devicetree
[3]. A port represents an interface in a device, and an endpoint
represents a connection to that interface.</p>
<p>All port nodes are located under the device’s “_DSD” node in the hierarchical
data extension tree. The data extension related to each port node must begin
with “port” and must be followed by the “&#64;” character and the number of the
port as its key. The target object it refers to should be called “PRTX”, where
“X” is the number of the port. An example of such a package would be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Package() { &quot;port@4&quot;, &quot;PRT4&quot; }
</pre></div>
</div>
<p>Further on, endpoints are located under the port nodes. The hierarchical
data extension key of the endpoint nodes must begin with
“endpoint” and must be followed by the “&#64;” character and the number of the
endpoint. The object it refers to should be called “EPXY”, where “X” is the
number of the port and “Y” is the number of the endpoint. An example of such a
package would be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Package() { &quot;endpoint@0&quot;, &quot;EP40&quot; }
</pre></div>
</div>
<p>Each port node contains a property extension key “port”, the value of which is
the number of the port. Each endpoint is similarly numbered with a property
extension key “reg”, the value of which is the number of the endpoint. Port
numbers must be unique within a device and endpoint numbers must be unique
within a port. If a device object may only has a single port, then the number
of that port shall be zero. Similarly, if a port may only have a single
endpoint, the number of that endpoint shall be zero.</p>
<p>The endpoint reference uses property extension with “remote-endpoint” property
name followed by a reference in the same package. Such references consist of
the remote device reference, the first package entry of the port data extension
reference under the device and finally the first package entry of the endpoint
data extension reference under the port. Individual references thus appear as:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Package() { device, &quot;port@X&quot;, &quot;endpoint@Y&quot; }
</pre></div>
</div>
<p>In the above example, “X” is the number of the port and “Y” is the number of
the endpoint.</p>
<p>The references to endpoints must be always done both ways, to the
remote endpoint and back from the referred remote endpoint node.</p>
<p>A simple example of this is show below:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Scope (\_SB.PCI0.I2C2)
{
    Device (CAM0)
    {
        Name (_DSD, Package () {
            ToUUID(&quot;daffd814-6eba-4d8c-8a91-bc9bbf4aa301&quot;),
            Package () {
                Package () { &quot;compatible&quot;, Package () { &quot;nokia,smia&quot; } },
            },
            ToUUID(&quot;dbb8e3e6-5886-4ba6-8795-1319f52a966b&quot;),
            Package () {
                Package () { &quot;port@0&quot;, &quot;PRT0&quot; },
            }
        })
        Name (PRT0, Package() {
            ToUUID(&quot;daffd814-6eba-4d8c-8a91-bc9bbf4aa301&quot;),
            Package () {
                Package () { &quot;reg&quot;, 0 },
            },
            ToUUID(&quot;dbb8e3e6-5886-4ba6-8795-1319f52a966b&quot;),
            Package () {
                Package () { &quot;endpoint@0&quot;, &quot;EP00&quot; },
            }
        })
        Name (EP00, Package() {
            ToUUID(&quot;daffd814-6eba-4d8c-8a91-bc9bbf4aa301&quot;),
            Package () {
                Package () { &quot;reg&quot;, 0 },
                Package () { &quot;remote-endpoint&quot;, Package() { \_SB.PCI0.ISP, &quot;port@4&quot;, &quot;endpoint@0&quot; } },
            }
        })
    }
}

Scope (\_SB.PCI0)
{
    Device (ISP)
    {
        Name (_DSD, Package () {
            ToUUID(&quot;dbb8e3e6-5886-4ba6-8795-1319f52a966b&quot;),
            Package () {
                Package () { &quot;port@4&quot;, &quot;PRT4&quot; },
            }
        })

        Name (PRT4, Package() {
            ToUUID(&quot;daffd814-6eba-4d8c-8a91-bc9bbf4aa301&quot;),
            Package () {
                Package () { &quot;reg&quot;, 4 }, /* CSI-2 port number */
            },
            ToUUID(&quot;dbb8e3e6-5886-4ba6-8795-1319f52a966b&quot;),
            Package () {
                Package () { &quot;endpoint@0&quot;, &quot;EP40&quot; },
            }
        })

        Name (EP40, Package() {
            ToUUID(&quot;daffd814-6eba-4d8c-8a91-bc9bbf4aa301&quot;),
            Package () {
                Package () { &quot;reg&quot;, 0 },
                Package () { &quot;remote-endpoint&quot;, Package () { \_SB.PCI0.I2C2.CAM0, &quot;port@0&quot;, &quot;endpoint@0&quot; } },
            }
        })
    }
}
</pre></div>
</div>
<p>Here, the port 0 of the “CAM0” device is connected to the port 4 of
the “ISP” device and vice versa.</p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>[1] _DSD (Device Specific Data) Implementation Guide.</dt>
<dd><a class="reference external" href="http://www.uefi.org/sites/default/files/resources/_DSD-implementation-guide-toplevel-1_1.htm">http://www.uefi.org/sites/default/files/resources/_DSD-implementation-guide-toplevel-1_1.htm</a>,
referenced 2016-10-03.</dd>
</dl>
<p>[2] Devicetree. <a class="reference external" href="http://www.devicetree.org">http://www.devicetree.org</a>, referenced 2016-10-03.</p>
<p>[3]&nbsp;Documentation/devicetree/bindings/graph.txt</p>
<dl class="docutils">
<dt>[4] Device Properties UUID For _DSD.</dt>
<dd><a class="reference external" href="http://www.uefi.org/sites/default/files/resources/_DSD-device-properties-UUID.pdf">http://www.uefi.org/sites/default/files/resources/_DSD-device-properties-UUID.pdf</a>,
referenced 2016-10-04.</dd>
<dt>[5] Hierarchical Data Extension UUID For _DSD.</dt>
<dd><a class="reference external" href="http://www.uefi.org/sites/default/files/resources/_DSD-hierarchical-data-extension-UUID-v1.1.pdf">http://www.uefi.org/sites/default/files/resources/_DSD-hierarchical-data-extension-UUID-v1.1.pdf</a>,
referenced 2016-10-04.</dd>
<dt>[6] Advanced Configuration and Power Interface Specification.</dt>
<dd><a class="reference external" href="http://www.uefi.org/sites/default/files/resources/ACPI_6_1.pdf">http://www.uefi.org/sites/default/files/resources/ACPI_6_1.pdf</a>,
referenced 2016-10-04.</dd>
<dt>[7] _DSD Device Properties Usage Rules.</dt>
<dd><a class="reference internal" href="../DSD-properties-rules.html"><span class="doc">_DSD Device Properties Usage Rules</span></a></dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data-node-references.html" class="btn btn-neutral float-right" title="Referencing hierarchical data nodes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../namespace.html" class="btn btn-neutral float-left" title="ACPI Device Tree - Representation of ACPI Namespace" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>