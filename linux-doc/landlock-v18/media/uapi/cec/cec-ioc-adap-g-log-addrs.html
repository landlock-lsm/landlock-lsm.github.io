

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.6. ioctls CEC_ADAP_G_LOG_ADDRS and CEC_ADAP_S_LOG_ADDRS &mdash; The Linux Kernel 5.7.0-rc7+ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="2.7. ioctls CEC_ADAP_G_PHYS_ADDR and CEC_ADAP_S_PHYS_ADDR" href="cec-ioc-adap-g-phys-addr.html" />
    <link rel="prev" title="2.5. ioctl CEC_ADAP_G_CAPS" href="cec-ioc-adap-g-caps.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0-rc7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../leds/index.html">LEDs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Linux Media Subsystem Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../media_uapi.html">Linux Media Infrastructure userspace API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../v4l/v4l2.html">Part I - Video for Linux API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dvb/dvbapi.html">Part II - Digital TV API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rc/remote_controllers.html">Part III - Remote Controller API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mediactl/media-controller.html">Part IV - Media Controller API</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="cec-api.html">Part V - Consumer Electronics Control API</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="cec-intro.html">1. Introduction</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="cec-funcs.html">2. Function Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="cec-pin-error-inj.html">3. CEC Pin Framework Error Injection</a></li>
<li class="toctree-l4"><a class="reference internal" href="cec-header.html">4. CEC Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="cec-api.html#revision-and-copyright">Revision and Copyright</a></li>
<li class="toctree-l4"><a class="reference internal" href="cec-api.html#revision-history">Revision History</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gen-errors.html">Generic Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fdl-appendix.html">GNU Free Documentation License</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../media_kapi.html">Media subsystem kernel internal API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dvb-drivers/index.html">Linux Digital TV driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../v4l-drivers/index.html">Video4Linux (V4L)  driver-specific documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cec-drivers/index.html">CEC driver-specific documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Linux Media Subsystem Documentation</a> &raquo;</li>
        
          <li><a href="../../media_uapi.html">Linux Media Infrastructure userspace API</a> &raquo;</li>
        
          <li><a href="cec-api.html">Part V - Consumer Electronics Control API</a> &raquo;</li>
        
          <li><a href="cec-funcs.html"><span class="section-number">2. </span>Function Reference</a> &raquo;</li>
        
      <li><span class="section-number">2.6. </span>ioctls CEC_ADAP_G_LOG_ADDRS and CEC_ADAP_S_LOG_ADDRS</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/media/uapi/cec/cec-ioc-adap-g-log-addrs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ioctls-cec-adap-g-log-addrs-and-cec-adap-s-log-addrs">
<span id="cec-adap-s-log-addrs"></span><span id="cec-adap-g-log-addrs"></span><span id="cec-adap-log-addrs"></span><h1><span class="section-number">2.6. </span>ioctls CEC_ADAP_G_LOG_ADDRS and CEC_ADAP_S_LOG_ADDRS<a class="headerlink" href="#ioctls-cec-adap-g-log-addrs-and-cec-adap-s-log-addrs" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2><span class="section-number">2.6.1. </span>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p>CEC_ADAP_G_LOG_ADDRS, CEC_ADAP_S_LOG_ADDRS - Get or set the logical addresses</p>
</div>
<div class="section" id="synopsis">
<h2><span class="section-number">2.6.2. </span>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="c.CEC_ADAP_G_LOG_ADDRS">
int <code class="sig-name descname">ioctl</code><span class="sig-paren">(</span>int<em> fd</em>, <a class="reference internal" href="#c.CEC_ADAP_G_LOG_ADDRS" title="CEC_ADAP_G_LOG_ADDRS">CEC_ADAP_G_LOG_ADDRS</a>, struct <a class="reference internal" href="#c.cec_log_addrs" title="cec_log_addrs">cec_log_addrs</a><em> *argp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.CEC_ADAP_G_LOG_ADDRS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.CEC_ADAP_S_LOG_ADDRS">
int <code class="sig-name descname">ioctl</code><span class="sig-paren">(</span>int<em> fd</em>, <a class="reference internal" href="#c.CEC_ADAP_S_LOG_ADDRS" title="CEC_ADAP_S_LOG_ADDRS">CEC_ADAP_S_LOG_ADDRS</a>, struct <a class="reference internal" href="#c.cec_log_addrs" title="cec_log_addrs">cec_log_addrs</a><em> *argp</em><span class="sig-paren">)</span><a class="headerlink" href="#c.CEC_ADAP_S_LOG_ADDRS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="arguments">
<h2><span class="section-number">2.6.3. </span>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">fd</span></code></dt><dd><p>File descriptor returned by <a class="reference internal" href="cec-func-open.html#c.cec-open" title="cec-open"><code class="xref c c-func docutils literal notranslate"><span class="pre">open()</span></code></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">argp</span></code></dt><dd><p>Pointer to struct <a class="reference internal" href="#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a>.</p>
</dd>
</dl>
</div>
<div class="section" id="description">
<h2><span class="section-number">2.6.4. </span>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>To query the current CEC logical addresses, applications call
<a class="reference internal" href="#cec-adap-g-log-addrs"><span class="std std-ref">ioctl CEC_ADAP_G_LOG_ADDRS</span></a> with a pointer to a
struct <a class="reference internal" href="#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a> where the driver stores the logical addresses.</p>
<p>To set new logical addresses, applications fill in
struct <a class="reference internal" href="#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a> and call <a class="reference internal" href="#cec-adap-s-log-addrs"><span class="std std-ref">ioctl CEC_ADAP_S_LOG_ADDRS</span></a>
with a pointer to this struct. The <a class="reference internal" href="#cec-adap-s-log-addrs"><span class="std std-ref">ioctl CEC_ADAP_S_LOG_ADDRS</span></a>
is only available if <code class="docutils literal notranslate"><span class="pre">CEC_CAP_LOG_ADDRS</span></code> is set (the <code class="docutils literal notranslate"><span class="pre">ENOTTY</span></code> error code is
returned otherwise). The <a class="reference internal" href="#cec-adap-s-log-addrs"><span class="std std-ref">ioctl CEC_ADAP_S_LOG_ADDRS</span></a>
can only be called by a file descriptor in initiator mode (see <a class="reference internal" href="cec-ioc-g-mode.html#cec-s-mode"><span class="std std-ref">ioctls CEC_G_MODE and CEC_S_MODE</span></a>), if not
the <code class="docutils literal notranslate"><span class="pre">EBUSY</span></code> error code will be returned.</p>
<p>To clear existing logical addresses set <code class="docutils literal notranslate"><span class="pre">num_log_addrs</span></code> to 0. All other fields
will be ignored in that case. The adapter will go to the unconfigured state and the
<code class="docutils literal notranslate"><span class="pre">cec_version</span></code>, <code class="docutils literal notranslate"><span class="pre">vendor_id</span></code> and <code class="docutils literal notranslate"><span class="pre">osd_name</span></code> fields are all reset to their default
values (CEC version 2.0, no vendor ID and an empty OSD name).</p>
<p>If the physical address is valid (see <a class="reference internal" href="cec-ioc-adap-g-phys-addr.html#cec-adap-s-phys-addr"><span class="std std-ref">ioctl CEC_ADAP_S_PHYS_ADDR</span></a>),
then this ioctl will block until all requested logical
addresses have been claimed. If the file descriptor is in non-blocking mode then it will
not wait for the logical addresses to be claimed, instead it just returns 0.</p>
<p>A <a class="reference internal" href="cec-ioc-dqevent.html#cec-event-state-change"><span class="std std-ref">CEC_EVENT_STATE_CHANGE</span></a> event is sent when the
logical addresses are claimed or cleared.</p>
<p>Attempting to call <a class="reference internal" href="#cec-adap-s-log-addrs"><span class="std std-ref">ioctl CEC_ADAP_S_LOG_ADDRS</span></a> when
logical address types are already defined will return with error <code class="docutils literal notranslate"><span class="pre">EBUSY</span></code>.</p>
<dl class="type">
<dt id="c.cec_log_addrs">
<code class="sig-name descname">cec_log_addrs</code><a class="headerlink" href="#c.cec_log_addrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id1">
<caption><span class="caption-text">struct cec_log_addrs</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log_addr[CEC_MAX_LOG_ADDRS]</span></code></p></td>
<td><p>The actual logical addresses that were claimed. This is set by the
driver. If no logical address could be claimed, then it is set to
<code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDR_INVALID</span></code>. If this adapter is Unregistered, then
<code class="docutils literal notranslate"><span class="pre">log_addr[0]</span></code> is set to 0xf and all others to
<code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDR_INVALID</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>__u16</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log_addr_mask</span></code></p></td>
<td><p>The bitmask of all logical addresses this adapter has claimed. If
this adapter is Unregistered then <code class="docutils literal notranslate"><span class="pre">log_addr_mask</span></code> sets bit 15
and clears all other bits. If this adapter is not configured at
all, then <code class="docutils literal notranslate"><span class="pre">log_addr_mask</span></code> is set to 0. Set by the driver.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cec_version</span></code></p></td>
<td><p>The CEC version that this adapter shall use. See
<a class="reference internal" href="#cec-versions"><span class="std std-ref">CEC Versions</span></a>. Used to implement the
<code class="docutils literal notranslate"><span class="pre">CEC_MSG_CEC_VERSION</span></code> and <code class="docutils literal notranslate"><span class="pre">CEC_MSG_REPORT_FEATURES</span></code> messages.
Note that <a class="reference internal" href="#cec-op-cec-version-1-3a"><span class="std std-ref">CEC_OP_CEC_VERSION_1_3A</span></a> is not allowed by the CEC
framework.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">num_log_addrs</span></code></p></td>
<td><p>Number of logical addresses to set up. Must be ≤
<code class="docutils literal notranslate"><span class="pre">available_log_addrs</span></code> as returned by
<a class="reference internal" href="cec-ioc-adap-g-caps.html#cec-adap-g-caps"><span class="std std-ref">ioctl CEC_ADAP_G_CAPS</span></a>. All arrays in
this structure are only filled up to index
<code class="docutils literal notranslate"><span class="pre">available_log_addrs</span></code>-1. The remaining array elements will be
ignored. Note that the CEC 2.0 standard allows for a maximum of 2
logical addresses, although some hardware has support for more.
<code class="docutils literal notranslate"><span class="pre">CEC_MAX_LOG_ADDRS</span></code> is 4. The driver will return the actual
number of logical addresses it could claim, which may be less than
what was requested. If this field is set to 0, then the CEC
adapter shall clear all claimed logical addresses and all other
fields will be ignored.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">vendor_id</span></code></p></td>
<td><p>The vendor ID is a 24-bit number that identifies the specific
vendor or entity. Based on this ID vendor specific commands may be
defined. If you do not want a vendor ID then set it to
<code class="docutils literal notranslate"><span class="pre">CEC_VENDOR_ID_NONE</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>Flags. See <a class="reference internal" href="#cec-log-addrs-flags"><span class="std std-ref">Flags for struct cec_log_addrs</span></a> for a list of available flags.</p></td>
</tr>
<tr class="row-odd"><td><p>char</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">osd_name[15]</span></code></p></td>
<td><p>The On-Screen Display name as is returned by the
<code class="docutils literal notranslate"><span class="pre">CEC_MSG_SET_OSD_NAME</span></code> message.</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">primary_device_type[CEC_MAX_LOG_ADDRS]</span></code></p></td>
<td><p>Primary device type for each logical address. See
<a class="reference internal" href="#cec-prim-dev-types"><span class="std std-ref">CEC Primary Device Types</span></a> for possible types.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log_addr_type[CEC_MAX_LOG_ADDRS]</span></code></p></td>
<td><p>Logical address types. See <a class="reference internal" href="#cec-log-addr-types"><span class="std std-ref">CEC Logical Address Types</span></a> for
possible types. The driver will update this with the actual
logical address type that it claimed (e.g. it may have to fallback
to <a class="reference internal" href="#cec-log-addr-type-unregistered"><span class="std std-ref">CEC_LOG_ADDR_TYPE_UNREGISTERED</span></a>).</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">all_device_types[CEC_MAX_LOG_ADDRS]</span></code></p></td>
<td><p>CEC 2.0 specific: the bit mask of all device types. See
<a class="reference internal" href="#cec-all-dev-types-flags"><span class="std std-ref">CEC All Device Types Flags</span></a>. It is used in the CEC 2.0
<code class="docutils literal notranslate"><span class="pre">CEC_MSG_REPORT_FEATURES</span></code> message. For CEC 1.4 you can either leave
this field to 0, or fill it in according to the CEC 2.0 guidelines to
give the CEC framework more information about the device type, even
though the framework won’t use it directly in the CEC message.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">features[CEC_MAX_LOG_ADDRS][12]</span></code></p></td>
<td><p>Features for each logical address. It is used in the CEC 2.0
<code class="docutils literal notranslate"><span class="pre">CEC_MSG_REPORT_FEATURES</span></code> message. The 12 bytes include both the
RC Profile and the Device Features. For CEC 1.4 you can either leave
this field to all 0, or fill it in according to the CEC 2.0 guidelines to
give the CEC framework more information about the device type, even
though the framework won’t use it directly in the CEC message.</p></td>
</tr>
</tbody>
</table>
<span id="cec-log-addrs-flags"></span><table class="docutils align-default" id="id2">
<caption><span class="caption-text">Flags for struct cec_log_addrs</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 38%" />
<col style="width: 13%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDRS_FL_ALLOW_UNREG_FALLBACK</span></code></p>
</td>
<td><p>1</p>
</td>
<td><p id="cec-log-addrs-fl-allow-unreg-fallback">By default if no logical address of the requested type can be claimed, then
it will go back to the unconfigured state. If this flag is set, then it will
fallback to the Unregistered logical address. Note that if the Unregistered
logical address was explicitly requested, then this flag has no effect.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDRS_FL_ALLOW_RC_PASSTHRU</span></code></p>
</td>
<td><p>2</p>
</td>
<td><p id="cec-log-addrs-fl-allow-rc-passthru">By default the <code class="docutils literal notranslate"><span class="pre">CEC_MSG_USER_CONTROL_PRESSED</span></code> and <code class="docutils literal notranslate"><span class="pre">CEC_MSG_USER_CONTROL_RELEASED</span></code>
messages are only passed on to the follower(s), if any. If this flag is set,
then these messages are also passed on to the remote control input subsystem
and will appear as keystrokes. This features needs to be enabled explicitly.
If CEC is used to enter e.g. passwords, then you may not want to enable this
to avoid trivial snooping of the keystrokes.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDRS_FL_CDC_ONLY</span></code></p>
</td>
<td><p>4</p>
</td>
<td><p id="cec-log-addrs-fl-cdc-only">If this flag is set, then the device is CDC-Only. CDC-Only CEC devices
are CEC devices that can only handle CDC messages.</p>
<p>All other messages are ignored.</p>
</td>
</tr>
</tbody>
</table>
<span id="cec-versions"></span><table class="docutils align-default" id="id3">
<caption><span class="caption-text">CEC Versions</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 38%" />
<col style="width: 13%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_CEC_VERSION_1_3A</span></code></p>
</td>
<td><p>4</p>
</td>
<td><p id="cec-op-cec-version-1-3a">CEC version according to the HDMI 1.3a standard.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_CEC_VERSION_1_4B</span></code></p>
</td>
<td><p>5</p>
</td>
<td><p id="cec-op-cec-version-1-4b">CEC version according to the HDMI 1.4b standard.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_CEC_VERSION_2_0</span></code></p>
</td>
<td><p>6</p>
</td>
<td><p id="cec-op-cec-version-2-0">CEC version according to the HDMI 2.0 standard.</p>
</td>
</tr>
</tbody>
</table>
<span id="cec-prim-dev-types"></span><table class="docutils align-default" id="id4">
<caption><span class="caption-text">CEC Primary Device Types</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 38%" />
<col style="width: 13%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_PRIM_DEVTYPE_TV</span></code></p>
</td>
<td><p>0</p>
</td>
<td><p id="cec-op-prim-devtype-tv">Use for a TV.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_PRIM_DEVTYPE_RECORD</span></code></p>
</td>
<td><p>1</p>
</td>
<td><p id="cec-op-prim-devtype-record">Use for a recording device.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_PRIM_DEVTYPE_TUNER</span></code></p>
</td>
<td><p>3</p>
</td>
<td><p id="cec-op-prim-devtype-tuner">Use for a device with a tuner.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_PRIM_DEVTYPE_PLAYBACK</span></code></p>
</td>
<td><p>4</p>
</td>
<td><p id="cec-op-prim-devtype-playback">Use for a playback device.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_PRIM_DEVTYPE_AUDIOSYSTEM</span></code></p>
</td>
<td><p>5</p>
</td>
<td><p id="cec-op-prim-devtype-audiosystem">Use for an audio system (e.g. an audio/video receiver).</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_PRIM_DEVTYPE_SWITCH</span></code></p>
</td>
<td><p>6</p>
</td>
<td><p id="cec-op-prim-devtype-switch">Use for a CEC switch.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_PRIM_DEVTYPE_VIDEOPROC</span></code></p>
</td>
<td><p>7</p>
</td>
<td><p id="cec-op-prim-devtype-videoproc">Use for a video processor device.</p>
</td>
</tr>
</tbody>
</table>
<span id="cec-log-addr-types"></span><table class="docutils align-default" id="id5">
<caption><span class="caption-text">CEC Logical Address Types</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 5%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDR_TYPE_TV</span></code></p>
</td>
<td><p>0</p>
</td>
<td><p id="cec-log-addr-type-tv">Use for a TV.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDR_TYPE_RECORD</span></code></p>
</td>
<td><p>1</p>
</td>
<td><p id="cec-log-addr-type-record">Use for a recording device.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDR_TYPE_TUNER</span></code></p>
</td>
<td><p>2</p>
</td>
<td><p id="cec-log-addr-type-tuner">Use for a tuner device.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDR_TYPE_PLAYBACK</span></code></p>
</td>
<td><p>3</p>
</td>
<td><p id="cec-log-addr-type-playback">Use for a playback device.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDR_TYPE_AUDIOSYSTEM</span></code></p>
</td>
<td><p>4</p>
</td>
<td><p id="cec-log-addr-type-audiosystem">Use for an audio system device.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDR_TYPE_SPECIFIC</span></code></p>
</td>
<td><p>5</p>
</td>
<td><p id="cec-log-addr-type-specific">Use for a second TV or for a video processor device.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_LOG_ADDR_TYPE_UNREGISTERED</span></code></p>
</td>
<td><p>6</p>
</td>
<td><p id="cec-log-addr-type-unregistered">Use this if you just want to remain unregistered. Used for pure
CEC switches or CDC-only devices (CDC: Capability Discovery and
Control).</p>
</td>
</tr>
</tbody>
</table>
<span id="cec-all-dev-types-flags"></span><table class="docutils align-default" id="id6">
<caption><span class="caption-text">CEC All Device Types Flags</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 38%" />
<col style="width: 13%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_ALL_DEVTYPE_TV</span></code></p>
</td>
<td><p>0x80</p>
</td>
<td><p id="cec-op-all-devtype-tv">This supports the TV type.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_ALL_DEVTYPE_RECORD</span></code></p>
</td>
<td><p>0x40</p>
</td>
<td><p id="cec-op-all-devtype-record">This supports the Recording type.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_ALL_DEVTYPE_TUNER</span></code></p>
</td>
<td><p>0x20</p>
</td>
<td><p id="cec-op-all-devtype-tuner">This supports the Tuner type.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_ALL_DEVTYPE_PLAYBACK</span></code></p>
</td>
<td><p>0x10</p>
</td>
<td><p id="cec-op-all-devtype-playback">This supports the Playback type.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_ALL_DEVTYPE_AUDIOSYSTEM</span></code></p>
</td>
<td><p>0x08</p>
</td>
<td><p id="cec-op-all-devtype-audiosystem">This supports the Audio System type.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CEC_OP_ALL_DEVTYPE_SWITCH</span></code></p>
</td>
<td><p>0x04</p>
</td>
<td><p id="cec-op-all-devtype-switch">This supports the CEC Switch or Video Processing type.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="return-value">
<h2><span class="section-number">2.6.5. </span>Return Value<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
<p>The <a class="reference internal" href="#cec-adap-s-log-addrs"><span class="std std-ref">ioctl CEC_ADAP_S_LOG_ADDRS</span></a> can return the following
error codes:</p>
<dl class="simple">
<dt>ENOTTY</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">CEC_CAP_LOG_ADDRS</span></code> capability wasn’t set, so this ioctl is not supported.</p>
</dd>
<dt>EBUSY</dt><dd><p>The CEC adapter is currently configuring itself, or it is already configured and
<code class="docutils literal notranslate"><span class="pre">num_log_addrs</span></code> is non-zero, or another filehandle is in exclusive follower or
initiator mode, or the filehandle is in mode <code class="docutils literal notranslate"><span class="pre">CEC_MODE_NO_INITIATOR</span></code>.</p>
</dd>
<dt>EINVAL</dt><dd><p>The contents of struct <a class="reference internal" href="#c.cec_log_addrs" title="cec_log_addrs"><code class="xref c c-type docutils literal notranslate"><span class="pre">cec_log_addrs</span></code></a> is invalid.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cec-ioc-adap-g-phys-addr.html" class="btn btn-neutral float-right" title="2.7. ioctls CEC_ADAP_G_PHYS_ADDR and CEC_ADAP_S_PHYS_ADDR" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cec-ioc-adap-g-caps.html" class="btn btn-neutral float-left" title="2.5. ioctl CEC_ADAP_G_CAPS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>